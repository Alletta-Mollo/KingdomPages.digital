var dV=Object.defineProperty;var hV=(n,e,t)=>e in n?dV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var H=(n,e,t)=>(hV(n,typeof e!="symbol"?e+"":e,t),t),Hb=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var u=(n,e,t)=>(Hb(n,e,"read from private field"),t?t.call(n):e.get(n)),C=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},P=(n,e,t,r)=>(Hb(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var rn=(n,e,t,r)=>({set _(i){P(n,e,i,t)},get _(){return u(n,e,r)}}),I=(n,e,t)=>(Hb(n,e,"access private method"),t);function fV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var pV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var iR={exports:{}},jx={},sR={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=Symbol.for("react.element"),mV=Symbol.for("react.portal"),gV=Symbol.for("react.fragment"),yV=Symbol.for("react.strict_mode"),vV=Symbol.for("react.profiler"),wV=Symbol.for("react.provider"),xV=Symbol.for("react.context"),bV=Symbol.for("react.forward_ref"),SV=Symbol.for("react.suspense"),AV=Symbol.for("react.memo"),EV=Symbol.for("react.lazy"),yP=Symbol.iterator;function CV(n){return n===null||typeof n!="object"?null:(n=yP&&n[yP]||n["@@iterator"],typeof n=="function"?n:null)}var oR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aR=Object.assign,lR={};function wh(n,e,t){this.props=n,this.context=e,this.refs=lR,this.updater=t||oR}wh.prototype.isReactComponent={};wh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};wh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function cR(){}cR.prototype=wh.prototype;function iC(n,e,t){this.props=n,this.context=e,this.refs=lR,this.updater=t||oR}var sC=iC.prototype=new cR;sC.constructor=iC;aR(sC,wh.prototype);sC.isPureReactComponent=!0;var vP=Array.isArray,uR=Object.prototype.hasOwnProperty,oC={current:null},dR={key:!0,ref:!0,__self:!0,__source:!0};function hR(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uR.call(e,r)&&!dR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Og,type:n,key:s,ref:o,props:i,_owner:oC.current}}function TV(n,e){return{$$typeof:Og,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function aC(n){return typeof n=="object"&&n!==null&&n.$$typeof===Og}function PV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var wP=/\/+/g;function $b(n,e){return typeof n=="object"&&n!==null&&n.key!=null?PV(""+n.key):e.toString(36)}function Yy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Og:case mV:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+$b(o,0):r,vP(i)?(t="",n!=null&&(t=n.replace(wP,"$&/")+"/"),Yy(i,e,t,"",function(c){return c})):i!=null&&(aC(i)&&(i=TV(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wP,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vP(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+$b(s,a);o+=Yy(s,e,t,l,i)}else if(l=CV(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+$b(s,a++),o+=Yy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cy(n,e,t){if(n==null)return n;var r=[],i=0;return Yy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function kV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var mn={current:null},Xy={transition:null},IV={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Xy,ReactCurrentOwner:oC};function fR(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:cy,forEach:function(n,e,t){cy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return cy(n,function(){e++}),e},toArray:function(n){return cy(n,function(e){return e})||[]},only:function(n){if(!aC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ve.Component=wh;ve.Fragment=gV;ve.Profiler=vV;ve.PureComponent=iC;ve.StrictMode=yV;ve.Suspense=SV;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IV;ve.act=fR;ve.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=aR({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=oC.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)uR.call(e,l)&&!dR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Og,type:n.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(n){return n={$$typeof:xV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wV,_context:n},n.Consumer=n};ve.createElement=hR;ve.createFactory=function(n){var e=hR.bind(null,n);return e.type=n,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(n){return{$$typeof:bV,render:n}};ve.isValidElement=aC;ve.lazy=function(n){return{$$typeof:EV,_payload:{_status:-1,_result:n},_init:kV}};ve.memo=function(n,e){return{$$typeof:AV,type:n,compare:e===void 0?null:e}};ve.startTransition=function(n){var e=Xy.transition;Xy.transition={};try{n()}finally{Xy.transition=e}};ve.unstable_act=fR;ve.useCallback=function(n,e){return mn.current.useCallback(n,e)};ve.useContext=function(n){return mn.current.useContext(n)};ve.useDebugValue=function(){};ve.useDeferredValue=function(n){return mn.current.useDeferredValue(n)};ve.useEffect=function(n,e){return mn.current.useEffect(n,e)};ve.useId=function(){return mn.current.useId()};ve.useImperativeHandle=function(n,e,t){return mn.current.useImperativeHandle(n,e,t)};ve.useInsertionEffect=function(n,e){return mn.current.useInsertionEffect(n,e)};ve.useLayoutEffect=function(n,e){return mn.current.useLayoutEffect(n,e)};ve.useMemo=function(n,e){return mn.current.useMemo(n,e)};ve.useReducer=function(n,e,t){return mn.current.useReducer(n,e,t)};ve.useRef=function(n){return mn.current.useRef(n)};ve.useState=function(n){return mn.current.useState(n)};ve.useSyncExternalStore=function(n,e,t){return mn.current.useSyncExternalStore(n,e,t)};ve.useTransition=function(){return mn.current.useTransition()};ve.version="18.3.1";sR.exports=ve;var E=sR.exports;const J=vh(E),lC=fV({__proto__:null,default:J},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _V=E,RV=Symbol.for("react.element"),MV=Symbol.for("react.fragment"),NV=Object.prototype.hasOwnProperty,LV=_V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DV={key:!0,ref:!0,__self:!0,__source:!0};function pR(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NV.call(e,r)&&!DV.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RV,type:n,key:s,ref:o,props:i,_owner:LV.current}}jx.Fragment=MV;jx.jsx=pR;jx.jsxs=pR;iR.exports=jx;var y=iR.exports,o1={},mR={exports:{}},er={},gR={exports:{}},yR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,F){var U=O.length;O.push(F);e:for(;0<U;){var W=U-1>>>1,K=O[W];if(0<i(K,F))O[W]=F,O[U]=K,U=W;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],U=O.pop();if(U!==F){O[0]=U;e:for(var W=0,K=O.length,Z=K>>>1;W<Z;){var de=2*(W+1)-1,Pe=O[de],ce=de+1,G=O[ce];if(0>i(Pe,U))ce<K&&0>i(G,Pe)?(O[W]=G,O[ce]=U,W=ce):(O[W]=Pe,O[de]=U,W=de);else if(ce<K&&0>i(G,U))O[W]=G,O[ce]=U,W=ce;else break e}}return F}function i(O,F){var U=O.sortIndex-F.sortIndex;return U!==0?U:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,v=!1,g=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var F=t(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=O)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function p(O){if(g=!1,x(O),!v)if(t(l)!==null)v=!0,D(w);else{var F=t(c);F!==null&&B(p,F.startTime-O)}}function w(O,F){v=!1,g&&(g=!1,b(_),_=-1),m=!0;var U=f;try{for(x(F),h=t(l);h!==null&&(!(h.expirationTime>F)||O&&!N());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var K=W(h.expirationTime<=F);F=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(l)&&r(l),x(F)}else r(l);h=t(l)}if(h!==null)var Z=!0;else{var de=t(c);de!==null&&B(p,de.startTime-F),Z=!1}return Z}finally{h=null,f=U,m=!1}}var T=!1,k=null,_=-1,R=5,M=-1;function N(){return!(n.unstable_now()-M<R)}function j(){if(k!==null){var O=n.unstable_now();M=O;var F=!0;try{F=k(!0,O)}finally{F?V():(T=!1,k=null)}}else T=!1}var V;if(typeof S=="function")V=function(){S(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=j,V=function(){$.postMessage(null)}}else V=function(){A(j,0)};function D(O){k=O,T||(T=!0,V())}function B(O,F){_=A(function(){O(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,D(w))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var U=f;f=F;try{return O()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=f;f=O;try{return F()}finally{f=U}},n.unstable_scheduleCallback=function(O,F,U){var W=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,O={id:d++,callback:F,priorityLevel:O,startTime:U,expirationTime:K,sortIndex:-1},U>W?(O.sortIndex=U,e(c,O),t(l)===null&&O===t(c)&&(g?(b(_),_=-1):g=!0,B(p,U-W))):(O.sortIndex=K,e(l,O),v||m||(v=!0,D(w))),O},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(O){var F=f;return function(){var U=f;f=F;try{return O.apply(this,arguments)}finally{f=U}}}})(yR);gR.exports=yR;var OV=gR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jV=E,Zn=OV;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vR=new Set,jf={};function bc(n,e){nh(n,e),nh(n+"Capture",e)}function nh(n,e){for(jf[n]=e,n=0;n<e.length;n++)vR.add(e[n])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a1=Object.prototype.hasOwnProperty,FV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xP={},bP={};function BV(n){return a1.call(bP,n)?!0:a1.call(xP,n)?!1:FV.test(n)?bP[n]=!0:(xP[n]=!0,!1)}function VV(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function HV(n,e,t,r){if(e===null||typeof e>"u"||VV(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zt[n]=new gn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];zt[e]=new gn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zt[n]=new gn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zt[n]=new gn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zt[n]=new gn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zt[n]=new gn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zt[n]=new gn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zt[n]=new gn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zt[n]=new gn(n,5,!1,n.toLowerCase(),null,!1,!1)});var cC=/[\-:]([a-z])/g;function uC(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(cC,uC);zt[e]=new gn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(cC,uC);zt[e]=new gn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(cC,uC);zt[e]=new gn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zt[n]=new gn(n,1,!1,n.toLowerCase(),null,!1,!1)});zt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zt[n]=new gn(n,1,!1,n.toLowerCase(),null,!0,!0)});function dC(n,e,t,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HV(e,t,i,r)&&(t=null),r||i===null?BV(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ls=jV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uy=Symbol.for("react.element"),Uc=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),hC=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),wR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),fC=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),u1=Symbol.for("react.suspense_list"),pC=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),bR=Symbol.for("react.offscreen"),SP=Symbol.iterator;function _h(n){return n===null||typeof n!="object"?null:(n=SP&&n[SP]||n["@@iterator"],typeof n=="function"?n:null)}var Ze=Object.assign,zb;function Yh(n){if(zb===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);zb=e&&e[1]||""}return`
`+zb+n}var Ub=!1;function Wb(n,e){if(!n||Ub)return"";Ub=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ub=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Yh(n):""}function $V(n){switch(n.tag){case 5:return Yh(n.type);case 16:return Yh("Lazy");case 13:return Yh("Suspense");case 19:return Yh("SuspenseList");case 0:case 2:case 15:return n=Wb(n.type,!1),n;case 11:return n=Wb(n.type.render,!1),n;case 1:return n=Wb(n.type,!0),n;default:return""}}function d1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Wc:return"Fragment";case Uc:return"Portal";case l1:return"Profiler";case hC:return"StrictMode";case c1:return"Suspense";case u1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case xR:return(n.displayName||"Context")+".Consumer";case wR:return(n._context.displayName||"Context")+".Provider";case fC:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pC:return e=n.displayName||null,e!==null?e:d1(n.type)||"Memo";case Us:e=n._payload,n=n._init;try{return d1(n(e))}catch{}}return null}function zV(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d1(e);case 8:return e===hC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function SR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UV(n){var e=SR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function dy(n){n._valueTracker||(n._valueTracker=UV(n))}function AR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=SR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Gv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function h1(n,e){var t=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function AP(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Jo(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ER(n,e){e=e.checked,e!=null&&dC(n,"checked",e,!1)}function f1(n,e){ER(n,e);var t=Jo(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?p1(n,e.type,t):e.hasOwnProperty("defaultValue")&&p1(n,e.type,Jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function EP(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function p1(n,e,t){(e!=="number"||Gv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Xh=Array.isArray;function cu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Jo(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function m1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function CP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Xh(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Jo(t)}}function CR(n,e){var t=Jo(e.value),r=Jo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function TP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function TR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?TR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hy,PR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(hy=hy||document.createElement("div"),hy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ff(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WV=["Webkit","ms","Moz","O"];Object.keys(bf).forEach(function(n){WV.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bf[e]=bf[n]})});function kR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bf.hasOwnProperty(n)&&bf[n]?(""+e).trim():e+"px"}function IR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=kR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var GV=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y1(n,e){if(e){if(GV[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function v1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=null;function mC(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var x1=null,uu=null,du=null;function PP(n){if(n=Bg(n)){if(typeof x1!="function")throw Error(z(280));var e=n.stateNode;e&&(e=$x(e),x1(n.stateNode,n.type,e))}}function _R(n){uu?du?du.push(n):du=[n]:uu=n}function RR(){if(uu){var n=uu,e=du;if(du=uu=null,PP(n),e)for(n=0;n<e.length;n++)PP(e[n])}}function MR(n,e){return n(e)}function NR(){}var Gb=!1;function LR(n,e,t){if(Gb)return n(e,t);Gb=!0;try{return MR(n,e,t)}finally{Gb=!1,(uu!==null||du!==null)&&(NR(),RR())}}function Bf(n,e){var t=n.stateNode;if(t===null)return null;var r=$x(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var b1=!1;if(Ts)try{var Rh={};Object.defineProperty(Rh,"passive",{get:function(){b1=!0}}),window.addEventListener("test",Rh,Rh),window.removeEventListener("test",Rh,Rh)}catch{b1=!1}function KV(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Sf=!1,Kv=null,Yv=!1,S1=null,YV={onError:function(n){Sf=!0,Kv=n}};function XV(n,e,t,r,i,s,o,a,l){Sf=!1,Kv=null,KV.apply(YV,arguments)}function qV(n,e,t,r,i,s,o,a,l){if(XV.apply(this,arguments),Sf){if(Sf){var c=Kv;Sf=!1,Kv=null}else throw Error(z(198));Yv||(Yv=!0,S1=c)}}function Sc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function DR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function kP(n){if(Sc(n)!==n)throw Error(z(188))}function QV(n){var e=n.alternate;if(!e){if(e=Sc(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return kP(i),n;if(s===r)return kP(i),e;s=s.sibling}throw Error(z(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==r)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function OR(n){return n=QV(n),n!==null?jR(n):null}function jR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=jR(n);if(e!==null)return e;n=n.sibling}return null}var FR=Zn.unstable_scheduleCallback,IP=Zn.unstable_cancelCallback,ZV=Zn.unstable_shouldYield,JV=Zn.unstable_requestPaint,at=Zn.unstable_now,e3=Zn.unstable_getCurrentPriorityLevel,gC=Zn.unstable_ImmediatePriority,BR=Zn.unstable_UserBlockingPriority,Xv=Zn.unstable_NormalPriority,t3=Zn.unstable_LowPriority,VR=Zn.unstable_IdlePriority,Fx=null,Ti=null;function n3(n){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Fx,n,void 0,(n.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:s3,r3=Math.log,i3=Math.LN2;function s3(n){return n>>>=0,n===0?32:31-(r3(n)/i3|0)|0}var fy=64,py=4194304;function qh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=qh(a):(s&=o,s!==0&&(r=qh(s)))}else o=t&~i,o!==0?r=qh(o):s!==0&&(r=qh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Kr(e),i=1<<t,r|=n[t],e&=~i;return r}function o3(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a3(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Kr(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=o3(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function A1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function HR(){var n=fy;return fy<<=1,!(fy&4194240)&&(fy=64),n}function Kb(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function jg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Kr(e),n[e]=t}function l3(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Kr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function yC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Kr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ie=0;function $R(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var zR,vC,UR,WR,GR,E1=!1,my=[],Ho=null,$o=null,zo=null,Vf=new Map,Hf=new Map,Ks=[],c3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _P(n,e){switch(n){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":Vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(e.pointerId)}}function Mh(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bg(e),e!==null&&vC(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function u3(n,e,t,r,i){switch(e){case"focusin":return Ho=Mh(Ho,n,e,t,r,i),!0;case"dragenter":return $o=Mh($o,n,e,t,r,i),!0;case"mouseover":return zo=Mh(zo,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Vf.set(s,Mh(Vf.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hf.set(s,Mh(Hf.get(s)||null,n,e,t,r,i)),!0}return!1}function KR(n){var e=_a(n.target);if(e!==null){var t=Sc(e);if(t!==null){if(e=t.tag,e===13){if(e=DR(t),e!==null){n.blockedOn=e,GR(n.priority,function(){UR(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=C1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);w1=r,t.target.dispatchEvent(r),w1=null}else return e=Bg(t),e!==null&&vC(e),n.blockedOn=t,!1;e.shift()}return!0}function RP(n,e,t){qy(n)&&t.delete(e)}function d3(){E1=!1,Ho!==null&&qy(Ho)&&(Ho=null),$o!==null&&qy($o)&&($o=null),zo!==null&&qy(zo)&&(zo=null),Vf.forEach(RP),Hf.forEach(RP)}function Nh(n,e){n.blockedOn===e&&(n.blockedOn=null,E1||(E1=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,d3)))}function $f(n){function e(i){return Nh(i,n)}if(0<my.length){Nh(my[0],n);for(var t=1;t<my.length;t++){var r=my[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ho!==null&&Nh(Ho,n),$o!==null&&Nh($o,n),zo!==null&&Nh(zo,n),Vf.forEach(e),Hf.forEach(e),t=0;t<Ks.length;t++)r=Ks[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ks.length&&(t=Ks[0],t.blockedOn===null);)KR(t),t.blockedOn===null&&Ks.shift()}var hu=Ls.ReactCurrentBatchConfig,Qv=!0;function h3(n,e,t,r){var i=Ie,s=hu.transition;hu.transition=null;try{Ie=1,wC(n,e,t,r)}finally{Ie=i,hu.transition=s}}function f3(n,e,t,r){var i=Ie,s=hu.transition;hu.transition=null;try{Ie=4,wC(n,e,t,r)}finally{Ie=i,hu.transition=s}}function wC(n,e,t,r){if(Qv){var i=C1(n,e,t,r);if(i===null)rS(n,e,r,Zv,t),_P(n,r);else if(u3(i,n,e,t,r))r.stopPropagation();else if(_P(n,r),e&4&&-1<c3.indexOf(n)){for(;i!==null;){var s=Bg(i);if(s!==null&&zR(s),s=C1(n,e,t,r),s===null&&rS(n,e,r,Zv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else rS(n,e,r,null,t)}}var Zv=null;function C1(n,e,t,r){if(Zv=null,n=mC(r),n=_a(n),n!==null)if(e=Sc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=DR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Zv=n,null}function YR(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e3()){case gC:return 1;case BR:return 4;case Xv:case t3:return 16;case VR:return 536870912;default:return 16}default:return 16}}var Fo=null,xC=null,Qy=null;function XR(){if(Qy)return Qy;var n,e=xC,t=e.length,r,i="value"in Fo?Fo.value:Fo.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Qy=i.slice(n,1<r?1-r:void 0)}function Zy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function gy(){return!0}function MP(){return!1}function tr(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gy:MP,this.isPropagationStopped=MP,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=gy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=gy)},persist:function(){},isPersistent:gy}),e}var xh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bC=tr(xh),Fg=Ze({},xh,{view:0,detail:0}),p3=tr(Fg),Yb,Xb,Lh,Bx=Ze({},Fg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SC,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lh&&(Lh&&n.type==="mousemove"?(Yb=n.screenX-Lh.screenX,Xb=n.screenY-Lh.screenY):Xb=Yb=0,Lh=n),Yb)},movementY:function(n){return"movementY"in n?n.movementY:Xb}}),NP=tr(Bx),m3=Ze({},Bx,{dataTransfer:0}),g3=tr(m3),y3=Ze({},Fg,{relatedTarget:0}),qb=tr(y3),v3=Ze({},xh,{animationName:0,elapsedTime:0,pseudoElement:0}),w3=tr(v3),x3=Ze({},xh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),b3=tr(x3),S3=Ze({},xh,{data:0}),LP=tr(S3),A3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T3(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=C3[n])?!!e[n]:!1}function SC(){return T3}var P3=Ze({},Fg,{key:function(n){if(n.key){var e=A3[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Zy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?E3[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SC,charCode:function(n){return n.type==="keypress"?Zy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),k3=tr(P3),I3=Ze({},Bx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DP=tr(I3),_3=Ze({},Fg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SC}),R3=tr(_3),M3=Ze({},xh,{propertyName:0,elapsedTime:0,pseudoElement:0}),N3=tr(M3),L3=Ze({},Bx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),D3=tr(L3),O3=[9,13,27,32],AC=Ts&&"CompositionEvent"in window,Af=null;Ts&&"documentMode"in document&&(Af=document.documentMode);var j3=Ts&&"TextEvent"in window&&!Af,qR=Ts&&(!AC||Af&&8<Af&&11>=Af),OP=String.fromCharCode(32),jP=!1;function QR(n,e){switch(n){case"keyup":return O3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZR(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gc=!1;function F3(n,e){switch(n){case"compositionend":return ZR(e);case"keypress":return e.which!==32?null:(jP=!0,OP);case"textInput":return n=e.data,n===OP&&jP?null:n;default:return null}}function B3(n,e){if(Gc)return n==="compositionend"||!AC&&QR(n,e)?(n=XR(),Qy=xC=Fo=null,Gc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qR&&e.locale!=="ko"?null:e.data;default:return null}}var V3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!V3[n.type]:e==="textarea"}function JR(n,e,t,r){_R(r),e=Jv(e,"onChange"),0<e.length&&(t=new bC("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ef=null,zf=null;function H3(n){uM(n,0)}function Vx(n){var e=Xc(n);if(AR(e))return n}function $3(n,e){if(n==="change")return e}var eM=!1;if(Ts){var Qb;if(Ts){var Zb="oninput"in document;if(!Zb){var BP=document.createElement("div");BP.setAttribute("oninput","return;"),Zb=typeof BP.oninput=="function"}Qb=Zb}else Qb=!1;eM=Qb&&(!document.documentMode||9<document.documentMode)}function VP(){Ef&&(Ef.detachEvent("onpropertychange",tM),zf=Ef=null)}function tM(n){if(n.propertyName==="value"&&Vx(zf)){var e=[];JR(e,zf,n,mC(n)),LR(H3,e)}}function z3(n,e,t){n==="focusin"?(VP(),Ef=e,zf=t,Ef.attachEvent("onpropertychange",tM)):n==="focusout"&&VP()}function U3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vx(zf)}function W3(n,e){if(n==="click")return Vx(e)}function G3(n,e){if(n==="input"||n==="change")return Vx(e)}function K3(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Xr=typeof Object.is=="function"?Object.is:K3;function Uf(n,e){if(Xr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!a1.call(e,i)||!Xr(n[i],e[i]))return!1}return!0}function HP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $P(n,e){var t=HP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=HP(t)}}function nM(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?nM(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function rM(){for(var n=window,e=Gv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Gv(n.document)}return e}function EC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Y3(n){var e=rM(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&nM(t.ownerDocument.documentElement,t)){if(r!==null&&EC(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=$P(t,s);var o=$P(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var X3=Ts&&"documentMode"in document&&11>=document.documentMode,Kc=null,T1=null,Cf=null,P1=!1;function zP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;P1||Kc==null||Kc!==Gv(r)||(r=Kc,"selectionStart"in r&&EC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cf&&Uf(Cf,r)||(Cf=r,r=Jv(T1,"onSelect"),0<r.length&&(e=new bC("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Kc)))}function yy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Yc={animationend:yy("Animation","AnimationEnd"),animationiteration:yy("Animation","AnimationIteration"),animationstart:yy("Animation","AnimationStart"),transitionend:yy("Transition","TransitionEnd")},Jb={},iM={};Ts&&(iM=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function Hx(n){if(Jb[n])return Jb[n];if(!Yc[n])return n;var e=Yc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in iM)return Jb[n]=e[t];return n}var sM=Hx("animationend"),oM=Hx("animationiteration"),aM=Hx("animationstart"),lM=Hx("transitionend"),cM=new Map,UP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(n,e){cM.set(n,e),bc(e,[n])}for(var eS=0;eS<UP.length;eS++){var tS=UP[eS],q3=tS.toLowerCase(),Q3=tS[0].toUpperCase()+tS.slice(1);aa(q3,"on"+Q3)}aa(sM,"onAnimationEnd");aa(oM,"onAnimationIteration");aa(aM,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(lM,"onTransitionEnd");nh("onMouseEnter",["mouseout","mouseover"]);nh("onMouseLeave",["mouseout","mouseover"]);nh("onPointerEnter",["pointerout","pointerover"]);nh("onPointerLeave",["pointerout","pointerover"]);bc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bc("onBeforeInput",["compositionend","keypress","textInput","paste"]);bc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qh));function WP(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,qV(r,e,void 0,n),n.currentTarget=null}function uM(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;WP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;WP(i,a,c),s=l}}}if(Yv)throw n=S1,Yv=!1,S1=null,n}function Be(n,e){var t=e[M1];t===void 0&&(t=e[M1]=new Set);var r=n+"__bubble";t.has(r)||(dM(e,n,2,!1),t.add(r))}function nS(n,e,t){var r=0;e&&(r|=4),dM(t,n,r,e)}var vy="_reactListening"+Math.random().toString(36).slice(2);function Wf(n){if(!n[vy]){n[vy]=!0,vR.forEach(function(t){t!=="selectionchange"&&(Z3.has(t)||nS(t,!1,n),nS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[vy]||(e[vy]=!0,nS("selectionchange",!1,e))}}function dM(n,e,t,r){switch(YR(e)){case 1:var i=h3;break;case 4:i=f3;break;default:i=wC}t=i.bind(null,e,t,n),i=void 0,!b1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function rS(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_a(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LR(function(){var c=s,d=mC(t),h=[];e:{var f=cM.get(n);if(f!==void 0){var m=bC,v=n;switch(n){case"keypress":if(Zy(t)===0)break e;case"keydown":case"keyup":m=k3;break;case"focusin":v="focus",m=qb;break;case"focusout":v="blur",m=qb;break;case"beforeblur":case"afterblur":m=qb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=NP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=g3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=R3;break;case sM:case oM:case aM:m=w3;break;case lM:m=N3;break;case"scroll":m=p3;break;case"wheel":m=D3;break;case"copy":case"cut":case"paste":m=b3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=DP}var g=(e&4)!==0,A=!g&&n==="scroll",b=g?f!==null?f+"Capture":null:f;g=[];for(var S=c,x;S!==null;){x=S;var p=x.stateNode;if(x.tag===5&&p!==null&&(x=p,b!==null&&(p=Bf(S,b),p!=null&&g.push(Gf(S,p,x)))),A)break;S=S.return}0<g.length&&(f=new m(f,v,null,t,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==w1&&(v=t.relatedTarget||t.fromElement)&&(_a(v)||v[Ps]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?_a(v):null,v!==null&&(A=Sc(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=NP,p="onMouseLeave",b="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(g=DP,p="onPointerLeave",b="onPointerEnter",S="pointer"),A=m==null?f:Xc(m),x=v==null?f:Xc(v),f=new g(p,S+"leave",m,t,d),f.target=A,f.relatedTarget=x,p=null,_a(d)===c&&(g=new g(b,S+"enter",v,t,d),g.target=x,g.relatedTarget=A,p=g),A=p,m&&v)t:{for(g=m,b=v,S=0,x=g;x;x=Mc(x))S++;for(x=0,p=b;p;p=Mc(p))x++;for(;0<S-x;)g=Mc(g),S--;for(;0<x-S;)b=Mc(b),x--;for(;S--;){if(g===b||b!==null&&g===b.alternate)break t;g=Mc(g),b=Mc(b)}g=null}else g=null;m!==null&&GP(h,f,m,g,!1),v!==null&&A!==null&&GP(h,A,v,g,!0)}}e:{if(f=c?Xc(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=$3;else if(FP(f))if(eM)w=G3;else{w=U3;var T=z3}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=W3);if(w&&(w=w(n,c))){JR(h,w,t,d);break e}T&&T(n,f,c),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&p1(f,"number",f.value)}switch(T=c?Xc(c):window,n){case"focusin":(FP(T)||T.contentEditable==="true")&&(Kc=T,T1=c,Cf=null);break;case"focusout":Cf=T1=Kc=null;break;case"mousedown":P1=!0;break;case"contextmenu":case"mouseup":case"dragend":P1=!1,zP(h,t,d);break;case"selectionchange":if(X3)break;case"keydown":case"keyup":zP(h,t,d)}var k;if(AC)e:{switch(n){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gc?QR(n,t)&&(_="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(_="onCompositionStart");_&&(qR&&t.locale!=="ko"&&(Gc||_!=="onCompositionStart"?_==="onCompositionEnd"&&Gc&&(k=XR()):(Fo=d,xC="value"in Fo?Fo.value:Fo.textContent,Gc=!0)),T=Jv(c,_),0<T.length&&(_=new LP(_,n,null,t,d),h.push({event:_,listeners:T}),k?_.data=k:(k=ZR(t),k!==null&&(_.data=k)))),(k=j3?F3(n,t):B3(n,t))&&(c=Jv(c,"onBeforeInput"),0<c.length&&(d=new LP("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=k))}uM(h,e)})}function Gf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Jv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bf(n,t),s!=null&&r.unshift(Gf(n,s,i)),s=Bf(n,e),s!=null&&r.push(Gf(n,s,i))),n=n.return}return r}function Mc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function GP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Bf(t,s),l!=null&&o.unshift(Gf(t,l,a))):i||(l=Bf(t,s),l!=null&&o.push(Gf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var J3=/\r\n?/g,eH=/\u0000|\uFFFD/g;function KP(n){return(typeof n=="string"?n:""+n).replace(J3,`
`).replace(eH,"")}function wy(n,e,t){if(e=KP(e),KP(n)!==e&&t)throw Error(z(425))}function ew(){}var k1=null,I1=null;function _1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R1=typeof setTimeout=="function"?setTimeout:void 0,tH=typeof clearTimeout=="function"?clearTimeout:void 0,YP=typeof Promise=="function"?Promise:void 0,nH=typeof queueMicrotask=="function"?queueMicrotask:typeof YP<"u"?function(n){return YP.resolve(null).then(n).catch(rH)}:R1;function rH(n){setTimeout(function(){throw n})}function iS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),$f(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);$f(e)}function Uo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function XP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var bh=Math.random().toString(36).slice(2),Si="__reactFiber$"+bh,Kf="__reactProps$"+bh,Ps="__reactContainer$"+bh,M1="__reactEvents$"+bh,iH="__reactListeners$"+bh,sH="__reactHandles$"+bh;function _a(n){var e=n[Si];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ps]||t[Si]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=XP(n);n!==null;){if(t=n[Si])return t;n=XP(n)}return e}n=t,t=n.parentNode}return null}function Bg(n){return n=n[Si]||n[Ps],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function $x(n){return n[Kf]||null}var N1=[],qc=-1;function la(n){return{current:n}}function Ve(n){0>qc||(n.current=N1[qc],N1[qc]=null,qc--)}function De(n,e){qc++,N1[qc]=n.current,n.current=e}var ea={},tn=la(ea),Tn=la(!1),uc=ea;function rh(n,e){var t=n.type.contextTypes;if(!t)return ea;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(n){return n=n.childContextTypes,n!=null}function tw(){Ve(Tn),Ve(tn)}function qP(n,e,t){if(tn.current!==ea)throw Error(z(168));De(tn,e),De(Tn,t)}function hM(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,zV(n)||"Unknown",i));return Ze({},t,r)}function nw(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ea,uc=tn.current,De(tn,n),De(Tn,Tn.current),!0}function QP(n,e,t){var r=n.stateNode;if(!r)throw Error(z(169));t?(n=hM(n,e,uc),r.__reactInternalMemoizedMergedChildContext=n,Ve(Tn),Ve(tn),De(tn,n)):Ve(Tn),De(Tn,t)}var Hi=null,zx=!1,sS=!1;function fM(n){Hi===null?Hi=[n]:Hi.push(n)}function oH(n){zx=!0,fM(n)}function ca(){if(!sS&&Hi!==null){sS=!0;var n=0,e=Ie;try{var t=Hi;for(Ie=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Hi=null,zx=!1}catch(i){throw Hi!==null&&(Hi=Hi.slice(n+1)),FR(gC,ca),i}finally{Ie=e,sS=!1}}return null}var Qc=[],Zc=0,rw=null,iw=0,mr=[],gr=0,dc=null,bs=1,Ss="";function wa(n,e){Qc[Zc++]=iw,Qc[Zc++]=rw,rw=n,iw=e}function pM(n,e,t){mr[gr++]=bs,mr[gr++]=Ss,mr[gr++]=dc,dc=n;var r=bs;n=Ss;var i=32-Kr(r)-1;r&=~(1<<i),t+=1;var s=32-Kr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bs=1<<32-Kr(e)+i|t<<i|r,Ss=s+n}else bs=1<<s|t<<i|r,Ss=n}function CC(n){n.return!==null&&(wa(n,1),pM(n,1,0))}function TC(n){for(;n===rw;)rw=Qc[--Zc],Qc[Zc]=null,iw=Qc[--Zc],Qc[Zc]=null;for(;n===dc;)dc=mr[--gr],mr[gr]=null,Ss=mr[--gr],mr[gr]=null,bs=mr[--gr],mr[gr]=null}var qn=null,Xn=null,Ge=!1,Ur=null;function mM(n,e){var t=vr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function ZP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,qn=n,Xn=Uo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,qn=n,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=dc!==null?{id:bs,overflow:Ss}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=vr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,qn=n,Xn=null,!0):!1;default:return!1}}function L1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function D1(n){if(Ge){var e=Xn;if(e){var t=e;if(!ZP(n,e)){if(L1(n))throw Error(z(418));e=Uo(t.nextSibling);var r=qn;e&&ZP(n,e)?mM(r,t):(n.flags=n.flags&-4097|2,Ge=!1,qn=n)}}else{if(L1(n))throw Error(z(418));n.flags=n.flags&-4097|2,Ge=!1,qn=n}}}function JP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;qn=n}function xy(n){if(n!==qn)return!1;if(!Ge)return JP(n),Ge=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!_1(n.type,n.memoizedProps)),e&&(e=Xn)){if(L1(n))throw gM(),Error(z(418));for(;e;)mM(n,e),e=Uo(e.nextSibling)}if(JP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Xn=Uo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Xn=null}}else Xn=qn?Uo(n.stateNode.nextSibling):null;return!0}function gM(){for(var n=Xn;n;)n=Uo(n.nextSibling)}function ih(){Xn=qn=null,Ge=!1}function PC(n){Ur===null?Ur=[n]:Ur.push(n)}var aH=Ls.ReactCurrentBatchConfig;function Dh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var r=t.stateNode}if(!r)throw Error(z(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function by(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function ek(n){var e=n._init;return e(n._payload)}function yM(n){function e(b,S){if(n){var x=b.deletions;x===null?(b.deletions=[S],b.flags|=16):x.push(S)}}function t(b,S){if(!n)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=Yo(b,S),b.index=0,b.sibling=null,b}function s(b,S,x){return b.index=x,n?(x=b.alternate,x!==null?(x=x.index,x<S?(b.flags|=2,S):x):(b.flags|=2,S)):(b.flags|=1048576,S)}function o(b){return n&&b.alternate===null&&(b.flags|=2),b}function a(b,S,x,p){return S===null||S.tag!==6?(S=hS(x,b.mode,p),S.return=b,S):(S=i(S,x),S.return=b,S)}function l(b,S,x,p){var w=x.type;return w===Wc?d(b,S,x.props.children,p,x.key):S!==null&&(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Us&&ek(w)===S.type)?(p=i(S,x.props),p.ref=Dh(b,S,x),p.return=b,p):(p=sv(x.type,x.key,x.props,null,b.mode,p),p.ref=Dh(b,S,x),p.return=b,p)}function c(b,S,x,p){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=fS(x,b.mode,p),S.return=b,S):(S=i(S,x.children||[]),S.return=b,S)}function d(b,S,x,p,w){return S===null||S.tag!==7?(S=sc(x,b.mode,p,w),S.return=b,S):(S=i(S,x),S.return=b,S)}function h(b,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return S=hS(""+S,b.mode,x),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uy:return x=sv(S.type,S.key,S.props,null,b.mode,x),x.ref=Dh(b,null,S),x.return=b,x;case Uc:return S=fS(S,b.mode,x),S.return=b,S;case Us:var p=S._init;return h(b,p(S._payload),x)}if(Xh(S)||_h(S))return S=sc(S,b.mode,x,null),S.return=b,S;by(b,S)}return null}function f(b,S,x,p){var w=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(b,S,""+x,p);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case uy:return x.key===w?l(b,S,x,p):null;case Uc:return x.key===w?c(b,S,x,p):null;case Us:return w=x._init,f(b,S,w(x._payload),p)}if(Xh(x)||_h(x))return w!==null?null:d(b,S,x,p,null);by(b,x)}return null}function m(b,S,x,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return b=b.get(x)||null,a(S,b,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case uy:return b=b.get(p.key===null?x:p.key)||null,l(S,b,p,w);case Uc:return b=b.get(p.key===null?x:p.key)||null,c(S,b,p,w);case Us:var T=p._init;return m(b,S,x,T(p._payload),w)}if(Xh(p)||_h(p))return b=b.get(x)||null,d(S,b,p,w,null);by(S,p)}return null}function v(b,S,x,p){for(var w=null,T=null,k=S,_=S=0,R=null;k!==null&&_<x.length;_++){k.index>_?(R=k,k=null):R=k.sibling;var M=f(b,k,x[_],p);if(M===null){k===null&&(k=R);break}n&&k&&M.alternate===null&&e(b,k),S=s(M,S,_),T===null?w=M:T.sibling=M,T=M,k=R}if(_===x.length)return t(b,k),Ge&&wa(b,_),w;if(k===null){for(;_<x.length;_++)k=h(b,x[_],p),k!==null&&(S=s(k,S,_),T===null?w=k:T.sibling=k,T=k);return Ge&&wa(b,_),w}for(k=r(b,k);_<x.length;_++)R=m(k,b,_,x[_],p),R!==null&&(n&&R.alternate!==null&&k.delete(R.key===null?_:R.key),S=s(R,S,_),T===null?w=R:T.sibling=R,T=R);return n&&k.forEach(function(N){return e(b,N)}),Ge&&wa(b,_),w}function g(b,S,x,p){var w=_h(x);if(typeof w!="function")throw Error(z(150));if(x=w.call(x),x==null)throw Error(z(151));for(var T=w=null,k=S,_=S=0,R=null,M=x.next();k!==null&&!M.done;_++,M=x.next()){k.index>_?(R=k,k=null):R=k.sibling;var N=f(b,k,M.value,p);if(N===null){k===null&&(k=R);break}n&&k&&N.alternate===null&&e(b,k),S=s(N,S,_),T===null?w=N:T.sibling=N,T=N,k=R}if(M.done)return t(b,k),Ge&&wa(b,_),w;if(k===null){for(;!M.done;_++,M=x.next())M=h(b,M.value,p),M!==null&&(S=s(M,S,_),T===null?w=M:T.sibling=M,T=M);return Ge&&wa(b,_),w}for(k=r(b,k);!M.done;_++,M=x.next())M=m(k,b,_,M.value,p),M!==null&&(n&&M.alternate!==null&&k.delete(M.key===null?_:M.key),S=s(M,S,_),T===null?w=M:T.sibling=M,T=M);return n&&k.forEach(function(j){return e(b,j)}),Ge&&wa(b,_),w}function A(b,S,x,p){if(typeof x=="object"&&x!==null&&x.type===Wc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case uy:e:{for(var w=x.key,T=S;T!==null;){if(T.key===w){if(w=x.type,w===Wc){if(T.tag===7){t(b,T.sibling),S=i(T,x.props.children),S.return=b,b=S;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Us&&ek(w)===T.type){t(b,T.sibling),S=i(T,x.props),S.ref=Dh(b,T,x),S.return=b,b=S;break e}t(b,T);break}else e(b,T);T=T.sibling}x.type===Wc?(S=sc(x.props.children,b.mode,p,x.key),S.return=b,b=S):(p=sv(x.type,x.key,x.props,null,b.mode,p),p.ref=Dh(b,S,x),p.return=b,b=p)}return o(b);case Uc:e:{for(T=x.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){t(b,S.sibling),S=i(S,x.children||[]),S.return=b,b=S;break e}else{t(b,S);break}else e(b,S);S=S.sibling}S=fS(x,b.mode,p),S.return=b,b=S}return o(b);case Us:return T=x._init,A(b,S,T(x._payload),p)}if(Xh(x))return v(b,S,x,p);if(_h(x))return g(b,S,x,p);by(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,S!==null&&S.tag===6?(t(b,S.sibling),S=i(S,x),S.return=b,b=S):(t(b,S),S=hS(x,b.mode,p),S.return=b,b=S),o(b)):t(b,S)}return A}var sh=yM(!0),vM=yM(!1),sw=la(null),ow=null,Jc=null,kC=null;function IC(){kC=Jc=ow=null}function _C(n){var e=sw.current;Ve(sw),n._currentValue=e}function O1(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function fu(n,e){ow=n,kC=Jc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Cn=!0),n.firstContext=null)}function br(n){var e=n._currentValue;if(kC!==n)if(n={context:n,memoizedValue:e,next:null},Jc===null){if(ow===null)throw Error(z(308));Jc=n,ow.dependencies={lanes:0,firstContext:n}}else Jc=Jc.next=n;return e}var Ra=null;function RC(n){Ra===null?Ra=[n]:Ra.push(n)}function wM(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,RC(e)):(t.next=i.next,i.next=t),e.interleaved=t,ks(n,r)}function ks(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ws=!1;function MC(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xM(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Es(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ks(n,t)}return i=r.interleaved,i===null?(e.next=e,RC(r)):(e.next=i.next,i.next=e),r.interleaved=e,ks(n,t)}function Jy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,yC(n,t)}}function tk(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function aw(n,e,t,r){var i=n.updateQueue;Ws=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,g=a;switch(f=e,m=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ze({},h,f);break e;case 2:Ws=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fc|=o,n.lanes=o,n.memoizedState=h}}function nk(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Vg={},Pi=la(Vg),Yf=la(Vg),Xf=la(Vg);function Ma(n){if(n===Vg)throw Error(z(174));return n}function NC(n,e){switch(De(Xf,e),De(Yf,n),De(Pi,Vg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=g1(e,n)}Ve(Pi),De(Pi,e)}function oh(){Ve(Pi),Ve(Yf),Ve(Xf)}function bM(n){Ma(Xf.current);var e=Ma(Pi.current),t=g1(e,n.type);e!==t&&(De(Yf,n),De(Pi,t))}function LC(n){Yf.current===n&&(Ve(Pi),Ve(Yf))}var Xe=la(0);function lw(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oS=[];function DC(){for(var n=0;n<oS.length;n++)oS[n]._workInProgressVersionPrimary=null;oS.length=0}var ev=Ls.ReactCurrentDispatcher,aS=Ls.ReactCurrentBatchConfig,hc=0,Qe=null,yt=null,kt=null,cw=!1,Tf=!1,qf=0,lH=0;function Wt(){throw Error(z(321))}function OC(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Xr(n[t],e[t]))return!1;return!0}function jC(n,e,t,r,i,s){if(hc=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ev.current=n===null||n.memoizedState===null?hH:fH,n=t(r,i),Tf){s=0;do{if(Tf=!1,qf=0,25<=s)throw Error(z(301));s+=1,kt=yt=null,e.updateQueue=null,ev.current=pH,n=t(r,i)}while(Tf)}if(ev.current=uw,e=yt!==null&&yt.next!==null,hc=0,kt=yt=Qe=null,cw=!1,e)throw Error(z(300));return n}function FC(){var n=qf!==0;return qf=0,n}function ri(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Qe.memoizedState=kt=n:kt=kt.next=n,kt}function Sr(){if(yt===null){var n=Qe.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var e=kt===null?Qe.memoizedState:kt.next;if(e!==null)kt=e,yt=n;else{if(n===null)throw Error(z(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?Qe.memoizedState=kt=n:kt=kt.next=n}return kt}function Qf(n,e){return typeof e=="function"?e(n):e}function lS(n){var e=Sr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=yt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((hc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Qe.lanes|=d,fc|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Xr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Qe.lanes|=s,fc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function cS(n){var e=Sr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Xr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function SM(){}function AM(n,e){var t=Qe,r=Sr(),i=e(),s=!Xr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,BC(TM.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(t.flags|=2048,Zf(9,CM.bind(null,t,r,i,e),void 0,null),_t===null)throw Error(z(349));hc&30||EM(t,e,i)}return i}function EM(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function CM(n,e,t,r){e.value=t,e.getSnapshot=r,PM(e)&&kM(n)}function TM(n,e,t){return t(function(){PM(e)&&kM(n)})}function PM(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Xr(n,t)}catch{return!0}}function kM(n){var e=ks(n,1);e!==null&&Yr(e,n,1,-1)}function rk(n){var e=ri();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:n},e.queue=n,n=n.dispatch=dH.bind(null,Qe,n),[e.memoizedState,n]}function Zf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function IM(){return Sr().memoizedState}function tv(n,e,t,r){var i=ri();Qe.flags|=n,i.memoizedState=Zf(1|e,t,void 0,r===void 0?null:r)}function Ux(n,e,t,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&OC(r,o.deps)){i.memoizedState=Zf(e,t,s,r);return}}Qe.flags|=n,i.memoizedState=Zf(1|e,t,s,r)}function ik(n,e){return tv(8390656,8,n,e)}function BC(n,e){return Ux(2048,8,n,e)}function _M(n,e){return Ux(4,2,n,e)}function RM(n,e){return Ux(4,4,n,e)}function MM(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function NM(n,e,t){return t=t!=null?t.concat([n]):null,Ux(4,4,MM.bind(null,e,n),t)}function VC(){}function LM(n,e){var t=Sr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&OC(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function DM(n,e){var t=Sr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&OC(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function OM(n,e,t){return hc&21?(Xr(t,e)||(t=HR(),Qe.lanes|=t,fc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Cn=!0),n.memoizedState=t)}function cH(n,e){var t=Ie;Ie=t!==0&&4>t?t:4,n(!0);var r=aS.transition;aS.transition={};try{n(!1),e()}finally{Ie=t,aS.transition=r}}function jM(){return Sr().memoizedState}function uH(n,e,t){var r=Ko(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},FM(n))BM(e,t);else if(t=wM(n,e,t,r),t!==null){var i=pn();Yr(t,n,r,i),VM(t,e,r)}}function dH(n,e,t){var r=Ko(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(FM(n))BM(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Xr(a,o)){var l=e.interleaved;l===null?(i.next=i,RC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=wM(n,e,i,r),t!==null&&(i=pn(),Yr(t,n,r,i),VM(t,e,r))}}function FM(n){var e=n.alternate;return n===Qe||e!==null&&e===Qe}function BM(n,e){Tf=cw=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function VM(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,yC(n,t)}}var uw={readContext:br,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},hH={readContext:br,useCallback:function(n,e){return ri().memoizedState=[n,e===void 0?null:e],n},useContext:br,useEffect:ik,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,tv(4194308,4,MM.bind(null,e,n),t)},useLayoutEffect:function(n,e){return tv(4194308,4,n,e)},useInsertionEffect:function(n,e){return tv(4,2,n,e)},useMemo:function(n,e){var t=ri();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ri();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=uH.bind(null,Qe,n),[r.memoizedState,n]},useRef:function(n){var e=ri();return n={current:n},e.memoizedState=n},useState:rk,useDebugValue:VC,useDeferredValue:function(n){return ri().memoizedState=n},useTransition:function(){var n=rk(!1),e=n[0];return n=cH.bind(null,n[1]),ri().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Qe,i=ri();if(Ge){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),_t===null)throw Error(z(349));hc&30||EM(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,ik(TM.bind(null,r,s,n),[n]),r.flags|=2048,Zf(9,CM.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ri(),e=_t.identifierPrefix;if(Ge){var t=Ss,r=bs;t=(r&~(1<<32-Kr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=qf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=lH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},fH={readContext:br,useCallback:LM,useContext:br,useEffect:BC,useImperativeHandle:NM,useInsertionEffect:_M,useLayoutEffect:RM,useMemo:DM,useReducer:lS,useRef:IM,useState:function(){return lS(Qf)},useDebugValue:VC,useDeferredValue:function(n){var e=Sr();return OM(e,yt.memoizedState,n)},useTransition:function(){var n=lS(Qf)[0],e=Sr().memoizedState;return[n,e]},useMutableSource:SM,useSyncExternalStore:AM,useId:jM,unstable_isNewReconciler:!1},pH={readContext:br,useCallback:LM,useContext:br,useEffect:BC,useImperativeHandle:NM,useInsertionEffect:_M,useLayoutEffect:RM,useMemo:DM,useReducer:cS,useRef:IM,useState:function(){return cS(Qf)},useDebugValue:VC,useDeferredValue:function(n){var e=Sr();return yt===null?e.memoizedState=n:OM(e,yt.memoizedState,n)},useTransition:function(){var n=cS(Qf)[0],e=Sr().memoizedState;return[n,e]},useMutableSource:SM,useSyncExternalStore:AM,useId:jM,unstable_isNewReconciler:!1};function kr(n,e){if(n&&n.defaultProps){e=Ze({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function j1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ze({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Wx={isMounted:function(n){return(n=n._reactInternals)?Sc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=pn(),i=Ko(n),s=Es(r,i);s.payload=e,t!=null&&(s.callback=t),e=Wo(n,s,i),e!==null&&(Yr(e,n,i,r),Jy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=pn(),i=Ko(n),s=Es(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Wo(n,s,i),e!==null&&(Yr(e,n,i,r),Jy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=pn(),r=Ko(n),i=Es(t,r);i.tag=2,e!=null&&(i.callback=e),e=Wo(n,i,r),e!==null&&(Yr(e,n,r,t),Jy(e,n,r))}};function sk(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uf(t,r)||!Uf(i,s):!0}function HM(n,e,t){var r=!1,i=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=br(s):(i=Pn(e)?uc:tn.current,r=e.contextTypes,s=(r=r!=null)?rh(n,i):ea),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function ok(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Wx.enqueueReplaceState(e,e.state,null)}function F1(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},MC(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=br(s):(s=Pn(e)?uc:tn.current,i.context=rh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(j1(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wx.enqueueReplaceState(i,i.state,null),aw(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function ah(n,e){try{var t="",r=e;do t+=$V(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function uS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function B1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var mH=typeof WeakMap=="function"?WeakMap:Map;function $M(n,e,t){t=Es(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){hw||(hw=!0,X1=r),B1(n,e)},t}function zM(n,e,t){t=Es(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){B1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){B1(n,e),typeof r!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function ak(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new mH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=IH.bind(null,n,e,t),e.then(n,n))}function lk(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ck(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Es(-1,1),e.tag=2,Wo(t,e,1))),t.lanes|=1),n)}var gH=Ls.ReactCurrentOwner,Cn=!1;function fn(n,e,t,r){e.child=n===null?vM(e,null,t,r):sh(e,n.child,t,r)}function uk(n,e,t,r,i){t=t.render;var s=e.ref;return fu(e,i),r=jC(n,e,t,r,s,i),t=FC(),n!==null&&!Cn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Is(n,e,i)):(Ge&&t&&CC(e),e.flags|=1,fn(n,e,r,i),e.child)}function dk(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!YC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,UM(n,e,s,r,i)):(n=sv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Uf,t(o,r)&&n.ref===e.ref)return Is(n,e,i)}return e.flags|=1,n=Yo(s,r),n.ref=e.ref,n.return=e,e.child=n}function UM(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Uf(s,r)&&n.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Cn=!0);else return e.lanes=n.lanes,Is(n,e,i)}return V1(n,e,t,r,i)}function WM(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(tu,Gn),Gn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,De(tu,Gn),Gn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,De(tu,Gn),Gn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,De(tu,Gn),Gn|=r;return fn(n,e,i,t),e.child}function GM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function V1(n,e,t,r,i){var s=Pn(t)?uc:tn.current;return s=rh(e,s),fu(e,i),t=jC(n,e,t,r,s,i),r=FC(),n!==null&&!Cn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Is(n,e,i)):(Ge&&r&&CC(e),e.flags|=1,fn(n,e,t,i),e.child)}function hk(n,e,t,r,i){if(Pn(t)){var s=!0;nw(e)}else s=!1;if(fu(e,i),e.stateNode===null)nv(n,e),HM(e,t,r),F1(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=br(c):(c=Pn(t)?uc:tn.current,c=rh(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ok(e,o,r,c),Ws=!1;var f=e.memoizedState;o.state=f,aw(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Tn.current||Ws?(typeof d=="function"&&(j1(e,t,d,r),l=e.memoizedState),(a=Ws||sk(e,t,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xM(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:kr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=br(l):(l=Pn(t)?uc:tn.current,l=rh(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ok(e,o,r,l),Ws=!1,f=e.memoizedState,o.state=f,aw(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Tn.current||Ws?(typeof m=="function"&&(j1(e,t,m,r),v=e.memoizedState),(c=Ws||sk(e,t,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return H1(n,e,t,r,s,i)}function H1(n,e,t,r,i,s){GM(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&QP(e,t,!1),Is(n,e,s);r=e.stateNode,gH.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=sh(e,n.child,null,s),e.child=sh(e,null,a,s)):fn(n,e,a,s),e.memoizedState=r.state,i&&QP(e,t,!0),e.child}function KM(n){var e=n.stateNode;e.pendingContext?qP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&qP(n,e.context,!1),NC(n,e.containerInfo)}function fk(n,e,t,r,i){return ih(),PC(i),e.flags|=256,fn(n,e,t,r),e.child}var $1={dehydrated:null,treeContext:null,retryLane:0};function z1(n){return{baseLanes:n,cachePool:null,transitions:null}}function YM(n,e,t){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),De(Xe,i&1),n===null)return D1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yx(o,r,0,null),n=sc(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=z1(t),e.memoizedState=$1,n):HC(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yH(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Yo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yo(a,s):(s=sc(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?z1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=$1,r}return s=n.child,n=s.sibling,r=Yo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function HC(n,e){return e=Yx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Sy(n,e,t,r){return r!==null&&PC(r),sh(e,n.child,null,t),n=HC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function yH(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=uS(Error(z(422))),Sy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yx({mode:"visible",children:r.children},i,0,null),s=sc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&sh(e,n.child,null,o),e.child.memoizedState=z1(o),e.memoizedState=$1,s);if(!(e.mode&1))return Sy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=uS(s,r,void 0),Sy(n,e,o,r)}if(a=(o&n.childLanes)!==0,Cn||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ks(n,i),Yr(r,n,i,-1))}return KC(),r=uS(Error(z(421))),Sy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=_H.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Xn=Uo(i.nextSibling),qn=e,Ge=!0,Ur=null,n!==null&&(mr[gr++]=bs,mr[gr++]=Ss,mr[gr++]=dc,bs=n.id,Ss=n.overflow,dc=e),e=HC(e,r.children),e.flags|=4096,e)}function pk(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),O1(n.return,e,t)}function dS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function XM(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fn(n,e,r.children,t),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pk(n,t,e);else if(n.tag===19)pk(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(De(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&lw(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),dS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&lw(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}dS(e,!0,t,null,s);break;case"together":dS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Is(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),fc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Yo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Yo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function vH(n,e,t){switch(e.tag){case 3:KM(e),ih();break;case 5:bM(e);break;case 1:Pn(e.type)&&nw(e);break;case 4:NC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(sw,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Xe,Xe.current&1),e.flags|=128,null):t&e.child.childLanes?YM(n,e,t):(De(Xe,Xe.current&1),n=Is(n,e,t),n!==null?n.sibling:null);De(Xe,Xe.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return XM(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,WM(n,e,t)}return Is(n,e,t)}var qM,U1,QM,ZM;qM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};U1=function(){};QM=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ma(Pi.current);var s=null;switch(t){case"input":i=h1(n,i),r=h1(n,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=m1(n,i),r=m1(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=ew)}y1(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ZM=function(n,e,t,r){t!==r&&(e.flags|=4)};function Oh(n,e){if(!Ge)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Gt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function wH(n,e,t){var r=e.pendingProps;switch(TC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Pn(e.type)&&tw(),Gt(e),null;case 3:return r=e.stateNode,oh(),Ve(Tn),Ve(tn),DC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(xy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(Z1(Ur),Ur=null))),U1(n,e),Gt(e),null;case 5:LC(e);var i=Ma(Xf.current);if(t=e.type,n!==null&&e.stateNode!=null)QM(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(n=Ma(Pi.current),xy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Si]=e,r[Kf]=s,n=(e.mode&1)!==0,t){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Qh.length;i++)Be(Qh[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":AP(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":CP(r,s),Be("invalid",r)}y1(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wy(r.textContent,a,n),i=["children",""+a]):jf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(t){case"input":dy(r),EP(r,s,!0);break;case"textarea":dy(r),TP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ew)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=TR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Si]=e,n[Kf]=r,qM(n,e,!1,!1),e.stateNode=n;e:{switch(o=v1(t,r),t){case"dialog":Be("cancel",n),Be("close",n),i=r;break;case"iframe":case"object":case"embed":Be("load",n),i=r;break;case"video":case"audio":for(i=0;i<Qh.length;i++)Be(Qh[i],n);i=r;break;case"source":Be("error",n),i=r;break;case"img":case"image":case"link":Be("error",n),Be("load",n),i=r;break;case"details":Be("toggle",n),i=r;break;case"input":AP(n,r),i=h1(n,r),Be("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Be("invalid",n);break;case"textarea":CP(n,r),i=m1(n,r),Be("invalid",n);break;default:i=r}y1(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?IR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PR(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ff(n,l):typeof l=="number"&&Ff(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",n):l!=null&&dC(n,s,l,o))}switch(t){case"input":dy(n),EP(n,r,!1);break;case"textarea":dy(n),TP(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Jo(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?cu(n,!!r.multiple,s,!1):r.defaultValue!=null&&cu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=ew)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(n&&e.stateNode!=null)ZM(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=Ma(Xf.current),Ma(Pi.current),xy(e)){if(r=e.stateNode,t=e.memoizedProps,r[Si]=e,(s=r.nodeValue!==t)&&(n=qn,n!==null))switch(n.tag){case 3:wy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&wy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Si]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ve(Xe),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ge&&Xn!==null&&e.mode&1&&!(e.flags&128))gM(),ih(),e.flags|=98560,s=!1;else if(s=xy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Si]=e}else ih(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else Ur!==null&&(Z1(Ur),Ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Xe.current&1?vt===0&&(vt=3):KC())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return oh(),U1(n,e),n===null&&Wf(e.stateNode.containerInfo),Gt(e),null;case 10:return _C(e.type._context),Gt(e),null;case 17:return Pn(e.type)&&tw(),Gt(e),null;case 19:if(Ve(Xe),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Oh(s,!1);else{if(vt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=lw(n),o!==null){for(e.flags|=128,Oh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return De(Xe,Xe.current&1|2),e.child}n=n.sibling}s.tail!==null&&at()>lh&&(e.flags|=128,r=!0,Oh(s,!1),e.lanes=4194304)}else{if(!r)if(n=lw(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Oh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Gt(e),null}else 2*at()-s.renderingStartTime>lh&&t!==1073741824&&(e.flags|=128,r=!0,Oh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,t=Xe.current,De(Xe,r?t&1|2:t&1),e):(Gt(e),null);case 22:case 23:return GC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function xH(n,e){switch(TC(e),e.tag){case 1:return Pn(e.type)&&tw(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return oh(),Ve(Tn),Ve(tn),DC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return LC(e),null;case 13:if(Ve(Xe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ih()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ve(Xe),null;case 4:return oh(),null;case 10:return _C(e.type._context),null;case 22:case 23:return GC(),null;case 24:return null;default:return null}}var Ay=!1,Jt=!1,bH=typeof WeakSet=="function"?WeakSet:Set,q=null;function eu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){et(n,e,r)}else t.current=null}function W1(n,e,t){try{t()}catch(r){et(n,e,r)}}var mk=!1;function SH(n,e){if(k1=Qv,n=rM(),EC(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,f=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(I1={focusedElem:n,selectionRange:t},Qv=!1,q=e;q!==null;)if(e=q,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,q=n;else for(;q!==null;){e=q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,A=v.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:kr(e.type,g),A);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(p){et(e,e.return,p)}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}return v=mk,mk=!1,v}function Pf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&W1(e,t,s)}i=i.next}while(i!==r)}}function Gx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function G1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function JM(n){var e=n.alternate;e!==null&&(n.alternate=null,JM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Si],delete e[Kf],delete e[M1],delete e[iH],delete e[sH])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function eN(n){return n.tag===5||n.tag===3||n.tag===4}function gk(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||eN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function K1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ew));else if(r!==4&&(n=n.child,n!==null))for(K1(n,e,t),n=n.sibling;n!==null;)K1(n,e,t),n=n.sibling}function Y1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Y1(n,e,t),n=n.sibling;n!==null;)Y1(n,e,t),n=n.sibling}var Bt=null,zr=!1;function Bs(n,e,t){for(t=t.child;t!==null;)tN(n,e,t),t=t.sibling}function tN(n,e,t){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Fx,t)}catch{}switch(t.tag){case 5:Jt||eu(t,e);case 6:var r=Bt,i=zr;Bt=null,Bs(n,e,t),Bt=r,zr=i,Bt!==null&&(zr?(n=Bt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Bt.removeChild(t.stateNode));break;case 18:Bt!==null&&(zr?(n=Bt,t=t.stateNode,n.nodeType===8?iS(n.parentNode,t):n.nodeType===1&&iS(n,t),$f(n)):iS(Bt,t.stateNode));break;case 4:r=Bt,i=zr,Bt=t.stateNode.containerInfo,zr=!0,Bs(n,e,t),Bt=r,zr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&W1(t,e,o),i=i.next}while(i!==r)}Bs(n,e,t);break;case 1:if(!Jt&&(eu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){et(t,e,a)}Bs(n,e,t);break;case 21:Bs(n,e,t);break;case 22:t.mode&1?(Jt=(r=Jt)||t.memoizedState!==null,Bs(n,e,t),Jt=r):Bs(n,e,t);break;default:Bs(n,e,t)}}function yk(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new bH),e.forEach(function(r){var i=RH.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Er(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,zr=!1;break e;case 3:Bt=a.stateNode.containerInfo,zr=!0;break e;case 4:Bt=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(Bt===null)throw Error(z(160));tN(s,o,i),Bt=null,zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nN(e,n),e=e.sibling}function nN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Er(e,n),Jr(n),r&4){try{Pf(3,n,n.return),Gx(3,n)}catch(g){et(n,n.return,g)}try{Pf(5,n,n.return)}catch(g){et(n,n.return,g)}}break;case 1:Er(e,n),Jr(n),r&512&&t!==null&&eu(t,t.return);break;case 5:if(Er(e,n),Jr(n),r&512&&t!==null&&eu(t,t.return),n.flags&32){var i=n.stateNode;try{Ff(i,"")}catch(g){et(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ER(i,s),v1(a,o);var c=v1(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?IR(i,h):d==="dangerouslySetInnerHTML"?PR(i,h):d==="children"?Ff(i,h):dC(i,d,h,c)}switch(a){case"input":f1(i,s);break;case"textarea":CR(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?cu(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?cu(i,!!s.multiple,s.defaultValue,!0):cu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kf]=s}catch(g){et(n,n.return,g)}}break;case 6:if(Er(e,n),Jr(n),r&4){if(n.stateNode===null)throw Error(z(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){et(n,n.return,g)}}break;case 3:if(Er(e,n),Jr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{$f(e.containerInfo)}catch(g){et(n,n.return,g)}break;case 4:Er(e,n),Jr(n);break;case 13:Er(e,n),Jr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(UC=at())),r&4&&yk(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Jt=(c=Jt)||d,Er(e,n),Jt=c):Er(e,n),Jr(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(q=n,d=n.child;d!==null;){for(h=q=d;q!==null;){switch(f=q,m=f.child,f.tag){case 0:case 11:case 14:case 15:Pf(4,f,f.return);break;case 1:eu(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){et(r,t,g)}}break;case 5:eu(f,f.return);break;case 22:if(f.memoizedState!==null){wk(h);continue}}m!==null?(m.return=f,q=m):wk(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kR("display",o))}catch(g){et(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){et(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Er(e,n),Jr(n),r&4&&yk(n);break;case 21:break;default:Er(e,n),Jr(n)}}function Jr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(eN(t)){var r=t;break e}t=t.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ff(i,""),r.flags&=-33);var s=gk(n);Y1(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gk(n);K1(n,a,o);break;default:throw Error(z(161))}}catch(l){et(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function AH(n,e,t){q=n,rN(n)}function rN(n,e,t){for(var r=(n.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ay;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=Ay;var c=Jt;if(Ay=o,(Jt=l)&&!c)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?xk(i):l!==null?(l.return=o,q=l):xk(i);for(;s!==null;)q=s,rN(s),s=s.sibling;q=i,Ay=a,Jt=c}vk(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):vk(n)}}function vk(n){for(;q!==null;){var e=q;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Gx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:kr(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&nk(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}nk(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$f(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Jt||e.flags&512&&G1(e)}catch(f){et(e,e.return,f)}}if(e===n){q=null;break}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}}function wk(n){for(;q!==null;){var e=q;if(e===n){q=null;break}var t=e.sibling;if(t!==null){t.return=e.return,q=t;break}q=e.return}}function xk(n){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Gx(4,e)}catch(l){et(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var s=e.return;try{G1(e)}catch(l){et(e,s,l)}break;case 5:var o=e.return;try{G1(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===n){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var EH=Math.ceil,dw=Ls.ReactCurrentDispatcher,$C=Ls.ReactCurrentOwner,wr=Ls.ReactCurrentBatchConfig,Ce=0,_t=null,ht=null,$t=0,Gn=0,tu=la(0),vt=0,Jf=null,fc=0,Kx=0,zC=0,kf=null,En=null,UC=0,lh=1/0,Fi=null,hw=!1,X1=null,Go=null,Ey=!1,Bo=null,fw=0,If=0,q1=null,rv=-1,iv=0;function pn(){return Ce&6?at():rv!==-1?rv:rv=at()}function Ko(n){return n.mode&1?Ce&2&&$t!==0?$t&-$t:aH.transition!==null?(iv===0&&(iv=HR()),iv):(n=Ie,n!==0||(n=window.event,n=n===void 0?16:YR(n.type)),n):1}function Yr(n,e,t,r){if(50<If)throw If=0,q1=null,Error(z(185));jg(n,t,r),(!(Ce&2)||n!==_t)&&(n===_t&&(!(Ce&2)&&(Kx|=t),vt===4&&Ys(n,$t)),kn(n,r),t===1&&Ce===0&&!(e.mode&1)&&(lh=at()+500,zx&&ca()))}function kn(n,e){var t=n.callbackNode;a3(n,e);var r=qv(n,n===_t?$t:0);if(r===0)t!==null&&IP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&IP(t),e===1)n.tag===0?oH(bk.bind(null,n)):fM(bk.bind(null,n)),nH(function(){!(Ce&6)&&ca()}),t=null;else{switch($R(r)){case 1:t=gC;break;case 4:t=BR;break;case 16:t=Xv;break;case 536870912:t=VR;break;default:t=Xv}t=dN(t,iN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function iN(n,e){if(rv=-1,iv=0,Ce&6)throw Error(z(327));var t=n.callbackNode;if(pu()&&n.callbackNode!==t)return null;var r=qv(n,n===_t?$t:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=pw(n,r);else{e=r;var i=Ce;Ce|=2;var s=oN();(_t!==n||$t!==e)&&(Fi=null,lh=at()+500,ic(n,e));do try{PH();break}catch(a){sN(n,a)}while(1);IC(),dw.current=s,Ce=i,ht!==null?e=0:(_t=null,$t=0,e=vt)}if(e!==0){if(e===2&&(i=A1(n),i!==0&&(r=i,e=Q1(n,i))),e===1)throw t=Jf,ic(n,0),Ys(n,r),kn(n,at()),t;if(e===6)Ys(n,r);else{if(i=n.current.alternate,!(r&30)&&!CH(i)&&(e=pw(n,r),e===2&&(s=A1(n),s!==0&&(r=s,e=Q1(n,s))),e===1))throw t=Jf,ic(n,0),Ys(n,r),kn(n,at()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:xa(n,En,Fi);break;case 3:if(Ys(n,r),(r&130023424)===r&&(e=UC+500-at(),10<e)){if(qv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){pn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=R1(xa.bind(null,n,En,Fi),e);break}xa(n,En,Fi);break;case 4:if(Ys(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Kr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EH(r/1960))-r,10<r){n.timeoutHandle=R1(xa.bind(null,n,En,Fi),r);break}xa(n,En,Fi);break;case 5:xa(n,En,Fi);break;default:throw Error(z(329))}}}return kn(n,at()),n.callbackNode===t?iN.bind(null,n):null}function Q1(n,e){var t=kf;return n.current.memoizedState.isDehydrated&&(ic(n,e).flags|=256),n=pw(n,e),n!==2&&(e=En,En=t,e!==null&&Z1(e)),n}function Z1(n){En===null?En=n:En.push.apply(En,n)}function CH(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Xr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(n,e){for(e&=~zC,e&=~Kx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Kr(e),r=1<<t;n[t]=-1,e&=~r}}function bk(n){if(Ce&6)throw Error(z(327));pu();var e=qv(n,0);if(!(e&1))return kn(n,at()),null;var t=pw(n,e);if(n.tag!==0&&t===2){var r=A1(n);r!==0&&(e=r,t=Q1(n,r))}if(t===1)throw t=Jf,ic(n,0),Ys(n,e),kn(n,at()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,xa(n,En,Fi),kn(n,at()),null}function WC(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(lh=at()+500,zx&&ca())}}function pc(n){Bo!==null&&Bo.tag===0&&!(Ce&6)&&pu();var e=Ce;Ce|=1;var t=wr.transition,r=Ie;try{if(wr.transition=null,Ie=1,n)return n()}finally{Ie=r,wr.transition=t,Ce=e,!(Ce&6)&&ca()}}function GC(){Gn=tu.current,Ve(tu)}function ic(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,tH(t)),ht!==null)for(t=ht.return;t!==null;){var r=t;switch(TC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tw();break;case 3:oh(),Ve(Tn),Ve(tn),DC();break;case 5:LC(r);break;case 4:oh();break;case 13:Ve(Xe);break;case 19:Ve(Xe);break;case 10:_C(r.type._context);break;case 22:case 23:GC()}t=t.return}if(_t=n,ht=n=Yo(n.current,null),$t=Gn=e,vt=0,Jf=null,zC=Kx=fc=0,En=kf=null,Ra!==null){for(e=0;e<Ra.length;e++)if(t=Ra[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Ra=null}return n}function sN(n,e){do{var t=ht;try{if(IC(),ev.current=uw,cw){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cw=!1}if(hc=0,kt=yt=Qe=null,Tf=!1,qf=0,$C.current=null,t===null||t.return===null){vt=1,Jf=e,ht=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=lk(o);if(m!==null){m.flags&=-257,ck(m,o,a,s,e),m.mode&1&&ak(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){ak(s,c,e),KC();break e}l=Error(z(426))}}else if(Ge&&a.mode&1){var A=lk(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ck(A,o,a,s,e),PC(ah(l,a));break e}}s=l=ah(l,a),vt!==4&&(vt=2),kf===null?kf=[s]:kf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=$M(s,l,e);tk(s,b);break e;case 1:a=l;var S=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Go===null||!Go.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var p=zM(s,a,e);tk(s,p);break e}}s=s.return}while(s!==null)}lN(t)}catch(w){e=w,ht===t&&t!==null&&(ht=t=t.return);continue}break}while(1)}function oN(){var n=dw.current;return dw.current=uw,n===null?uw:n}function KC(){(vt===0||vt===3||vt===2)&&(vt=4),_t===null||!(fc&268435455)&&!(Kx&268435455)||Ys(_t,$t)}function pw(n,e){var t=Ce;Ce|=2;var r=oN();(_t!==n||$t!==e)&&(Fi=null,ic(n,e));do try{TH();break}catch(i){sN(n,i)}while(1);if(IC(),Ce=t,dw.current=r,ht!==null)throw Error(z(261));return _t=null,$t=0,vt}function TH(){for(;ht!==null;)aN(ht)}function PH(){for(;ht!==null&&!ZV();)aN(ht)}function aN(n){var e=uN(n.alternate,n,Gn);n.memoizedProps=n.pendingProps,e===null?lN(n):ht=e,$C.current=null}function lN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=xH(t,e),t!==null){t.flags&=32767,ht=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,ht=null;return}}else if(t=wH(t,e,Gn),t!==null){ht=t;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=n}while(e!==null);vt===0&&(vt=5)}function xa(n,e,t){var r=Ie,i=wr.transition;try{wr.transition=null,Ie=1,kH(n,e,t,r)}finally{wr.transition=i,Ie=r}return null}function kH(n,e,t,r){do pu();while(Bo!==null);if(Ce&6)throw Error(z(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(l3(n,s),n===_t&&(ht=_t=null,$t=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ey||(Ey=!0,dN(Xv,function(){return pu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=wr.transition,wr.transition=null;var o=Ie;Ie=1;var a=Ce;Ce|=4,$C.current=null,SH(n,t),nN(t,n),Y3(I1),Qv=!!k1,I1=k1=null,n.current=t,AH(t),JV(),Ce=a,Ie=o,wr.transition=s}else n.current=t;if(Ey&&(Ey=!1,Bo=n,fw=i),s=n.pendingLanes,s===0&&(Go=null),n3(t.stateNode),kn(n,at()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(hw)throw hw=!1,n=X1,X1=null,n;return fw&1&&n.tag!==0&&pu(),s=n.pendingLanes,s&1?n===q1?If++:(If=0,q1=n):If=0,ca(),null}function pu(){if(Bo!==null){var n=$R(fw),e=wr.transition,t=Ie;try{if(wr.transition=null,Ie=16>n?16:n,Bo===null)var r=!1;else{if(n=Bo,Bo=null,fw=0,Ce&6)throw Error(z(331));var i=Ce;for(Ce|=4,q=n.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Pf(8,d,s)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var f=d.sibling,m=d.return;if(JM(d),d===c){q=null;break}if(f!==null){f.return=m,q=f;break}q=m}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var A=g.sibling;g.sibling=null,g=A}while(g!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pf(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,q=b;break e}q=s.return}}var S=n.current;for(q=S;q!==null;){o=q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,q=x;else e:for(o=S;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gx(9,a)}}catch(w){et(a,a.return,w)}if(a===o){q=null;break e}var p=a.sibling;if(p!==null){p.return=a.return,q=p;break e}q=a.return}}if(Ce=i,ca(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Fx,n)}catch{}r=!0}return r}finally{Ie=t,wr.transition=e}}return!1}function Sk(n,e,t){e=ah(t,e),e=$M(n,e,1),n=Wo(n,e,1),e=pn(),n!==null&&(jg(n,1,e),kn(n,e))}function et(n,e,t){if(n.tag===3)Sk(n,n,t);else for(;e!==null;){if(e.tag===3){Sk(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Go===null||!Go.has(r))){n=ah(t,n),n=zM(e,n,1),e=Wo(e,n,1),n=pn(),e!==null&&(jg(e,1,n),kn(e,n));break}}e=e.return}}function IH(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=pn(),n.pingedLanes|=n.suspendedLanes&t,_t===n&&($t&t)===t&&(vt===4||vt===3&&($t&130023424)===$t&&500>at()-UC?ic(n,0):zC|=t),kn(n,e)}function cN(n,e){e===0&&(n.mode&1?(e=py,py<<=1,!(py&130023424)&&(py=4194304)):e=1);var t=pn();n=ks(n,e),n!==null&&(jg(n,e,t),kn(n,t))}function _H(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),cN(n,t)}function RH(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),cN(n,t)}var uN;uN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Tn.current)Cn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Cn=!1,vH(n,e,t);Cn=!!(n.flags&131072)}else Cn=!1,Ge&&e.flags&1048576&&pM(e,iw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nv(n,e),n=e.pendingProps;var i=rh(e,tn.current);fu(e,t),i=jC(null,e,r,n,i,t);var s=FC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(s=!0,nw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,MC(e),i.updater=Wx,e.stateNode=i,i._reactInternals=e,F1(e,r,n,t),e=H1(null,e,r,!0,s,t)):(e.tag=0,Ge&&s&&CC(e),fn(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(nv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NH(r),n=kr(r,n),i){case 0:e=V1(null,e,r,n,t);break e;case 1:e=hk(null,e,r,n,t);break e;case 11:e=uk(null,e,r,n,t);break e;case 14:e=dk(null,e,r,kr(r.type,n),t);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),V1(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),hk(n,e,r,i,t);case 3:e:{if(KM(e),n===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xM(n,e),aw(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ah(Error(z(423)),e),e=fk(n,e,r,t,i);break e}else if(r!==i){i=ah(Error(z(424)),e),e=fk(n,e,r,t,i);break e}else for(Xn=Uo(e.stateNode.containerInfo.firstChild),qn=e,Ge=!0,Ur=null,t=vM(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ih(),r===i){e=Is(n,e,t);break e}fn(n,e,r,t)}e=e.child}return e;case 5:return bM(e),n===null&&D1(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,_1(r,i)?o=null:s!==null&&_1(r,s)&&(e.flags|=32),GM(n,e),fn(n,e,o,t),e.child;case 6:return n===null&&D1(e),null;case 13:return YM(n,e,t);case 4:return NC(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=sh(e,null,r,t):fn(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),uk(n,e,r,i,t);case 7:return fn(n,e,e.pendingProps,t),e.child;case 8:return fn(n,e,e.pendingProps.children,t),e.child;case 12:return fn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(sw,r._currentValue),r._currentValue=o,s!==null)if(Xr(s.value,o)){if(s.children===i.children&&!Tn.current){e=Is(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Es(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),O1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),O1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fn(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fu(e,t),i=br(i),r=r(i),e.flags|=1,fn(n,e,r,t),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),dk(n,e,r,i,t);case 15:return UM(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),nv(n,e),e.tag=1,Pn(r)?(n=!0,nw(e)):n=!1,fu(e,t),HM(e,r,i),F1(e,r,i,t),H1(null,e,r,!0,n,t);case 19:return XM(n,e,t);case 22:return WM(n,e,t)}throw Error(z(156,e.tag))};function dN(n,e){return FR(n,e)}function MH(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(n,e,t,r){return new MH(n,e,t,r)}function YC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function NH(n){if(typeof n=="function")return YC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fC)return 11;if(n===pC)return 14}return 2}function Yo(n,e){var t=n.alternate;return t===null?(t=vr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function sv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")YC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Wc:return sc(t.children,i,s,e);case hC:o=8,i|=8;break;case l1:return n=vr(12,t,e,i|2),n.elementType=l1,n.lanes=s,n;case c1:return n=vr(13,t,e,i),n.elementType=c1,n.lanes=s,n;case u1:return n=vr(19,t,e,i),n.elementType=u1,n.lanes=s,n;case bR:return Yx(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wR:o=10;break e;case xR:o=9;break e;case fC:o=11;break e;case pC:o=14;break e;case Us:o=16,r=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=vr(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function sc(n,e,t,r){return n=vr(7,n,r,e),n.lanes=t,n}function Yx(n,e,t,r){return n=vr(22,n,r,e),n.elementType=bR,n.lanes=t,n.stateNode={isHidden:!1},n}function hS(n,e,t){return n=vr(6,n,null,e),n.lanes=t,n}function fS(n,e,t){return e=vr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function LH(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kb(0),this.expirationTimes=Kb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XC(n,e,t,r,i,s,o,a,l){return n=new LH(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},MC(s),n}function DH(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function hN(n){if(!n)return ea;n=n._reactInternals;e:{if(Sc(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(Pn(t))return hM(n,t,e)}return e}function fN(n,e,t,r,i,s,o,a,l){return n=XC(t,r,!0,n,i,s,o,a,l),n.context=hN(null),t=n.current,r=pn(),i=Ko(t),s=Es(r,i),s.callback=e??null,Wo(t,s,i),n.current.lanes=i,jg(n,i,r),kn(n,r),n}function Xx(n,e,t,r){var i=e.current,s=pn(),o=Ko(i);return t=hN(t),e.context===null?e.context=t:e.pendingContext=t,e=Es(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Wo(i,e,o),n!==null&&(Yr(n,i,o,s),Jy(n,i,o)),o}function mw(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ak(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function qC(n,e){Ak(n,e),(n=n.alternate)&&Ak(n,e)}function OH(){return null}var pN=typeof reportError=="function"?reportError:function(n){console.error(n)};function QC(n){this._internalRoot=n}qx.prototype.render=QC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));Xx(n,e,null,null)};qx.prototype.unmount=QC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;pc(function(){Xx(null,n,null,null)}),e[Ps]=null}};function qx(n){this._internalRoot=n}qx.prototype.unstable_scheduleHydration=function(n){if(n){var e=WR();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ks.length&&e!==0&&e<Ks[t].priority;t++);Ks.splice(t,0,n),t===0&&KR(n)}};function ZC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Qx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ek(){}function jH(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=mw(o);s.call(c)}}var o=fN(e,r,n,0,null,!1,!1,"",Ek);return n._reactRootContainer=o,n[Ps]=o.current,Wf(n.nodeType===8?n.parentNode:n),pc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=mw(l);a.call(c)}}var l=XC(n,0,!1,null,null,!1,!1,"",Ek);return n._reactRootContainer=l,n[Ps]=l.current,Wf(n.nodeType===8?n.parentNode:n),pc(function(){Xx(e,l,t,r)}),l}function Zx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=mw(o);a.call(l)}}Xx(e,o,n,i)}else o=jH(t,e,n,i,r);return mw(o)}zR=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=qh(e.pendingLanes);t!==0&&(yC(e,t|1),kn(e,at()),!(Ce&6)&&(lh=at()+500,ca()))}break;case 13:pc(function(){var r=ks(n,1);if(r!==null){var i=pn();Yr(r,n,1,i)}}),qC(n,1)}};vC=function(n){if(n.tag===13){var e=ks(n,134217728);if(e!==null){var t=pn();Yr(e,n,134217728,t)}qC(n,134217728)}};UR=function(n){if(n.tag===13){var e=Ko(n),t=ks(n,e);if(t!==null){var r=pn();Yr(t,n,e,r)}qC(n,e)}};WR=function(){return Ie};GR=function(n,e){var t=Ie;try{return Ie=n,e()}finally{Ie=t}};x1=function(n,e,t){switch(e){case"input":if(f1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=$x(r);if(!i)throw Error(z(90));AR(r),f1(r,i)}}}break;case"textarea":CR(n,t);break;case"select":e=t.value,e!=null&&cu(n,!!t.multiple,e,!1)}};MR=WC;NR=pc;var FH={usingClientEntryPoint:!1,Events:[Bg,Xc,$x,_R,RR,WC]},jh={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BH={bundleType:jh.bundleType,version:jh.version,rendererPackageName:jh.rendererPackageName,rendererConfig:jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=OR(n),n===null?null:n.stateNode},findFiberByHostInstance:jh.findFiberByHostInstance||OH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cy.isDisabled&&Cy.supportsFiber)try{Fx=Cy.inject(BH),Ti=Cy}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FH;er.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZC(e))throw Error(z(200));return DH(n,e,null,t)};er.createRoot=function(n,e){if(!ZC(n))throw Error(z(299));var t=!1,r="",i=pN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=XC(n,1,!1,null,null,t,!1,r,i),n[Ps]=e.current,Wf(n.nodeType===8?n.parentNode:n),new QC(e)};er.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=OR(e),n=n===null?null:n.stateNode,n};er.flushSync=function(n){return pc(n)};er.hydrate=function(n,e,t){if(!Qx(e))throw Error(z(200));return Zx(null,n,e,!0,t)};er.hydrateRoot=function(n,e,t){if(!ZC(n))throw Error(z(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=pN;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=fN(e,null,n,1,t??null,i,!1,s,o),n[Ps]=e.current,Wf(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new qx(e)};er.render=function(n,e,t){if(!Qx(e))throw Error(z(200));return Zx(null,n,e,!1,t)};er.unmountComponentAtNode=function(n){if(!Qx(n))throw Error(z(40));return n._reactRootContainer?(pc(function(){Zx(null,null,n,!1,function(){n._reactRootContainer=null,n[Ps]=null})}),!0):!1};er.unstable_batchedUpdates=WC;er.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Qx(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return Zx(n,e,t,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function mN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mN)}catch(n){console.error(n)}}mN(),mR.exports=er;var Ac=mR.exports;const VH=vh(Ac);var Ck=Ac;o1.createRoot=Ck.createRoot,o1.hydrateRoot=Ck.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ep.apply(this,arguments)}var Vo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Vo||(Vo={}));const Tk="popstate";function HH(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return J1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:gw(i)}return zH(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gN(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $H(){return Math.random().toString(36).substr(2,8)}function Pk(n,e){return{usr:n.state,key:n.key,idx:e}}function J1(n,e,t,r){return t===void 0&&(t=null),ep({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Sh(e):e,{state:t,key:e&&e.key||r||$H()})}function gw(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function zH(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Vo.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ep({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Vo.Pop;let A=d(),b=A==null?null:A-c;c=A,l&&l({action:a,location:g.location,delta:b})}function f(A,b){a=Vo.Push;let S=J1(g.location,A,b);t&&t(S,A),c=d()+1;let x=Pk(S,c),p=g.createHref(S);try{o.pushState(x,"",p)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(p)}s&&l&&l({action:a,location:g.location,delta:1})}function m(A,b){a=Vo.Replace;let S=J1(g.location,A,b);t&&t(S,A),c=d();let x=Pk(S,c),p=g.createHref(S);o.replaceState(x,"",p),s&&l&&l({action:a,location:g.location,delta:0})}function v(A){let b=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof A=="string"?A:gw(A);return S=S.replace(/ $/,"%20"),nt(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let g={get action(){return a},get location(){return n(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tk,h),l=A,()=>{i.removeEventListener(Tk,h),l=null}},createHref(A){return e(i,A)},createURL:v,encodeLocation(A){let b=v(A);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(A){return o.go(A)}};return g}var kk;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(kk||(kk={}));function UH(n,e,t){return t===void 0&&(t="/"),WH(n,e,t,!1)}function WH(n,e,t,r){let i=typeof e=="string"?Sh(e):e,s=ch(i.pathname||"/",t);if(s==null)return null;let o=yN(n);GH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=r$(s);a=t$(o[l],c,r)}return a}function yN(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Xo([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yN(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:JH(c,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of vN(s.path))i(s,o,l)}),e}function vN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function GH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:e$(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const KH=/^:[\w-]+$/,YH=3,XH=2,qH=1,QH=10,ZH=-2,Ik=n=>n==="*";function JH(n,e){let t=n.split("/"),r=t.length;return t.some(Ik)&&(r+=ZH),e&&(r+=XH),t.filter(i=>!Ik(i)).reduce((i,s)=>i+(KH.test(s)?YH:s===""?qH:QH),r)}function e$(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function t$(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=yw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=yw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Xo([s,h.pathname]),pathnameBase:a$(Xo([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Xo([s,h.pathnameBase]))}return o}function yw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=n$(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function n$(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),gN(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function r$(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gN(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ch(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function i$(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Sh(n):n;return{pathname:t?t.startsWith("/")?t:s$(t,e):e,search:l$(r),hash:c$(i)}}function s$(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function pS(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o$(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wN(n,e){let t=o$(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function xN(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Sh(n):(i=ep({},n),nt(!i.pathname||!i.pathname.includes("?"),pS("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),pS("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),pS("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=i$(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Xo=n=>n.join("/").replace(/\/\/+/g,"/"),a$=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),l$=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,c$=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function u$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const bN=["post","put","patch","delete"];new Set(bN);const d$=["get",...bN];new Set(d$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tp.apply(this,arguments)}const Jx=E.createContext(null),SN=E.createContext(null),ua=E.createContext(null),eb=E.createContext(null),da=E.createContext({outlet:null,matches:[],isDataRoute:!1}),AN=E.createContext(null);function h$(n,e){let{relative:t}=e===void 0?{}:e;Hg()||nt(!1);let{basename:r,navigator:i}=E.useContext(ua),{hash:s,pathname:o,search:a}=tb(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Xo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Hg(){return E.useContext(eb)!=null}function Ds(){return Hg()||nt(!1),E.useContext(eb).location}function EN(n){E.useContext(ua).static||E.useLayoutEffect(n)}function CN(){let{isDataRoute:n}=E.useContext(da);return n?T$():f$()}function f$(){Hg()||nt(!1);let n=E.useContext(Jx),{basename:e,future:t,navigator:r}=E.useContext(ua),{matches:i}=E.useContext(da),{pathname:s}=Ds(),o=JSON.stringify(wN(i,t.v7_relativeSplatPath)),a=E.useRef(!1);return EN(()=>{a.current=!0}),E.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=xN(c,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,n])}function p$(){let{matches:n}=E.useContext(da),e=n[n.length-1];return e?e.params:{}}function tb(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=E.useContext(ua),{matches:i}=E.useContext(da),{pathname:s}=Ds(),o=JSON.stringify(wN(i,r.v7_relativeSplatPath));return E.useMemo(()=>xN(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function m$(n,e){return g$(n,e)}function g$(n,e,t,r){Hg()||nt(!1);let{navigator:i}=E.useContext(ua),{matches:s}=E.useContext(da),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ds(),d;if(e){var h;let A=typeof e=="string"?Sh(e):e;l==="/"||(h=A.pathname)!=null&&h.startsWith(l)||nt(!1),d=A}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let A=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=UH(n,{pathname:m}),g=b$(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Xo([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Xo([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,t,r);return e&&g?E.createElement(eb.Provider,{value:{location:tp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vo.Pop}},g):g}function y$(){let n=C$(),e=u$(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,s)}const v$=E.createElement(y$,null);class w$ extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(da.Provider,{value:this.props.routeContext},E.createElement(AN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x$(n){let{routeContext:e,match:t,children:r}=n,i=E.useContext(Jx);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(da.Provider,{value:e},r)}function b$(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=t,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,g=null,A=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||v$,l&&(c<0&&f===0?(P$("route-fallback",!1),v=!0,A=null):c===f&&(v=!0,A=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),S=()=>{let x;return m?x=g:v?x=A:h.route.Component?x=E.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,E.createElement(x$,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(w$,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}var TN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(TN||{}),vw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(vw||{});function S$(n){let e=E.useContext(Jx);return e||nt(!1),e}function A$(n){let e=E.useContext(SN);return e||nt(!1),e}function E$(n){let e=E.useContext(da);return e||nt(!1),e}function PN(n){let e=E$(),t=e.matches[e.matches.length-1];return t.route.id||nt(!1),t.route.id}function C$(){var n;let e=E.useContext(AN),t=A$(vw.UseRouteError),r=PN(vw.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function T$(){let{router:n}=S$(TN.UseNavigateStable),e=PN(vw.UseNavigateStable),t=E.useRef(!1);return EN(()=>{t.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,tp({fromRouteId:e},s)))},[n,e])}const _k={};function P$(n,e,t){!e&&!_k[n]&&(_k[n]=!0)}function k$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Li(n){nt(!1)}function I$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Vo.Pop,navigator:s,static:o=!1,future:a}=n;Hg()&&nt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:o,future:tp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Sh(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,g=E.useMemo(()=>{let A=ch(d,l);return A==null?null:{location:{pathname:A,search:h,hash:f,state:m,key:v},navigationType:i}},[l,d,h,f,m,v,i]);return g==null?null:E.createElement(ua.Provider,{value:c},E.createElement(eb.Provider,{children:t,value:g}))}function _$(n){let{children:e,location:t}=n;return m$(eA(e),t)}new Promise(()=>{});function eA(n,e){e===void 0&&(e=[]);let t=[];return E.Children.forEach(n,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){t.push.apply(t,eA(r.props.children,s));return}r.type!==Li&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=eA(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ww(){return ww=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ww.apply(this,arguments)}function kN(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function R$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function M$(n,e){return n.button===0&&(!e||e==="_self")&&!R$(n)}const N$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],D$="6";try{window.__reactRouterVersion=D$}catch{}const O$=E.createContext({isTransitioning:!1}),j$="startTransition",Rk=lC[j$];function F$(n){let{basename:e,children:t,future:r,window:i}=n,s=E.useRef();s.current==null&&(s.current=HH({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=E.useCallback(h=>{c&&Rk?Rk(()=>l(h)):l(h)},[l,c]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.useEffect(()=>k$(r),[r]),E.createElement(I$,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const B$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H$=E.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=kN(e,N$),{basename:m}=E.useContext(ua),v,g=!1;if(typeof c=="string"&&V$.test(c)&&(v=c,B$))try{let x=new URL(window.location.href),p=c.startsWith("//")?new URL(x.protocol+c):new URL(c),w=ch(p.pathname,m);p.origin===x.origin&&w!=null?c=w+p.search+p.hash:g=!0}catch{}let A=h$(c,{relative:i}),b=z$(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function S(x){r&&r(x),x.defaultPrevented||b(x)}return E.createElement("a",ww({},f,{href:v||A,onClick:g||s?r:S,ref:t,target:l}))}),Ht=E.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=e,h=kN(e,L$),f=tb(l,{relative:h.relative}),m=Ds(),v=E.useContext(SN),{navigator:g,basename:A}=E.useContext(ua),b=v!=null&&U$(f)&&c===!0,S=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=m.pathname,p=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(x=x.toLowerCase(),p=p?p.toLowerCase():null,S=S.toLowerCase()),p&&A&&(p=ch(p,A)||p);const w=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=x===S||!o&&x.startsWith(S)&&x.charAt(w)==="/",k=p!=null&&(p===S||!o&&p.startsWith(S)&&p.charAt(S.length)==="/"),_={isActive:T,isPending:k,isTransitioning:b},R=T?r:void 0,M;typeof s=="function"?M=s(_):M=[s,T?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(_):a;return E.createElement(H$,ww({},h,{"aria-current":R,className:M,ref:t,style:N,to:l,viewTransition:c}),typeof d=="function"?d(_):d)});var tA;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(tA||(tA={}));var Mk;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Mk||(Mk={}));function $$(n){let e=E.useContext(Jx);return e||nt(!1),e}function z$(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=CN(),c=Ds(),d=tb(n,{relative:o});return E.useCallback(h=>{if(M$(h,t)){h.preventDefault();let f=r!==void 0?r:gw(c)===gw(d);l(n,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,t,n,s,o,a])}function U$(n,e){e===void 0&&(e={});let t=E.useContext(O$);t==null&&nt(!1);let{basename:r}=$$(tA.useViewTransitionState),i=tb(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ch(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=ch(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yw(i.pathname,o)!=null||yw(i.pathname,s)!=null}const nb=E.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),rb=E.createContext({}),ib=E.createContext(null),sb=typeof document<"u",$g=sb?E.useLayoutEffect:E.useEffect,IN=E.createContext({strict:!1}),JC=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),W$="framerAppearId",_N="data-"+JC(W$);function G$(n,e,t,r){const{visualElement:i}=E.useContext(rb),s=E.useContext(IN),o=E.useContext(ib),a=E.useContext(nb).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;E.useInsertionEffect(()=>{c&&c.update(t,o)});const d=E.useRef(!!(t[_N]&&!window.HandoffComplete));return $g(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function nu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function K$(n,e,t){return E.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):nu(t)&&(t.current=r))},[e])}function np(n){return typeof n=="string"||Array.isArray(n)}function ob(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const eT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tT=["initial",...eT];function ab(n){return ob(n.animate)||tT.some(e=>np(n[e]))}function RN(n){return!!(ab(n)||n.variants)}function Y$(n,e){if(ab(n)){const{initial:t,animate:r}=n;return{initial:t===!1||np(t)?t:void 0,animate:np(r)?r:void 0}}return n.inherit!==!1?e:{}}function X$(n){const{initial:e,animate:t}=Y$(n,E.useContext(rb));return E.useMemo(()=>({initial:e,animate:t}),[Nk(e),Nk(t)])}function Nk(n){return Array.isArray(n)?n.join(" "):n}const Lk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rp={};for(const n in Lk)rp[n]={isEnabled:e=>Lk[n].some(t=>!!e[t])};function q$(n){for(const e in n)rp[e]={...rp[e],...n[e]}}const nT=E.createContext({}),MN=E.createContext({}),Q$=Symbol.for("motionComponentSymbol");function Z$({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&q$(n);function s(a,l){let c;const d={...E.useContext(nb),...a,layoutId:J$(a)},{isStatic:h}=d,f=X$(a),m=r(a,h);if(!h&&sb){f.visualElement=G$(i,m,d,e);const v=E.useContext(MN),g=E.useContext(IN).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,g,n,v))}return E.createElement(rb.Provider,{value:f},c&&f.visualElement?E.createElement(c,{visualElement:f.visualElement,...d}):null,t(i,a,K$(m,f.visualElement,l),m,h,f.visualElement))}const o=E.forwardRef(s);return o[Q$]=i,o}function J$({layoutId:n}){const e=E.useContext(nT).id;return e&&n!==void 0?e+"-"+n:n}function ez(n){function e(r,i={}){return Z$(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const tz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rT(n){return typeof n!="string"||n.includes("-")?!1:!!(tz.indexOf(n)>-1||/[A-Z]/.test(n))}const xw={};function nz(n){Object.assign(xw,n)}const zg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(zg);function NN(n,{layout:e,layoutId:t}){return Ec.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!xw[n]||n==="opacity")}const nn=n=>!!(n&&n.getVelocity),rz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iz=zg.length;function sz(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<iz;o++){const a=zg[o];if(n[a]!==void 0){const l=rz[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const LN=n=>e=>typeof e=="string"&&e.startsWith(n),DN=LN("--"),nA=LN("var(--"),oz=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,az=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ta=(n,e,t)=>Math.min(Math.max(t,n),e),Cc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},_f={...Cc,transform:n=>ta(0,1,n)},Ty={...Cc,default:1},Rf=n=>Math.round(n*1e5)/1e5,lb=/(-)?([\d]*\.?[\d])+/g,ON=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ug(n){return typeof n=="string"}const Wg=n=>({test:e=>Ug(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Hs=Wg("deg"),ki=Wg("%"),ie=Wg("px"),cz=Wg("vh"),uz=Wg("vw"),Dk={...ki,parse:n=>ki.parse(n)/100,transform:n=>ki.transform(n*100)},Ok={...Cc,transform:Math.round},jN={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,size:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:Ty,scaleX:Ty,scaleY:Ty,scaleZ:Ty,skew:Hs,skewX:Hs,skewY:Hs,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:_f,originX:Dk,originY:Dk,originZ:ie,zIndex:Ok,fillOpacity:_f,strokeOpacity:_f,numOctaves:Ok};function iT(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if(DN(h)){s[h]=f;continue}const m=jN[h],v=az(f,m);if(Ec.has(h)){if(l=!0,o[h]=v,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=v):i[h]=v}if(e.transform||(l||r?i.transform=sz(n.transform,t,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const sT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FN(n,e,t){for(const r in e)!nn(e[r])&&!NN(r,t)&&(n[r]=e[r])}function dz({transformTemplate:n},e,t){return E.useMemo(()=>{const r=sT();return iT(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function hz(n,e,t){const r=n.style||{},i={};return FN(i,r,n),Object.assign(i,dz(n,e,t)),n.transformValues?n.transformValues(i):i}function fz(n,e,t){const r={},i=hz(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const pz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pz.has(n)}let BN=n=>!bw(n);function mz(n){n&&(BN=e=>e.startsWith("on")?!bw(e):n(e))}try{mz(require("@emotion/is-prop-valid").default)}catch{}function gz(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(BN(i)||t===!0&&bw(i)||!e&&!bw(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function jk(n,e,t){return typeof n=="string"?n:ie.transform(e+t*n)}function yz(n,e,t){const r=jk(e,n.x,n.width),i=jk(t,n.y,n.height);return`${r} ${i}`}const vz={offset:"stroke-dashoffset",array:"stroke-dasharray"},wz={offset:"strokeDashoffset",array:"strokeDasharray"};function xz(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?vz:wz;n[s.offset]=ie.transform(-r);const o=ie.transform(e),a=ie.transform(t);n[s.array]=`${o} ${a}`}function oT(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h,f){if(iT(n,c,d,f),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:g}=n;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=yz(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&xz(m,o,a,l,!1)}const VN=()=>({...sT(),attrs:{}}),aT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function bz(n,e,t,r){const i=E.useMemo(()=>{const s=VN();return oT(s,e,{enableHardwareAcceleration:!1},aT(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};FN(s,n.style,n),i.style={...s,...i.style}}return i}function Sz(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(rT(t)?bz:fz)(r,s,o,t),d={...gz(r,typeof t=="string",n),...l,ref:i},{children:h}=r,f=E.useMemo(()=>nn(h)?h.get():h,[h]);return E.createElement(t,{...d,children:f})}}function HN(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const $N=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zN(n,e,t,r){HN(n,e,void 0,r);for(const i in e.attrs)n.setAttribute($N.has(i)?i:JC(i),e.attrs[i])}function lT(n,e){const{style:t}=n,r={};for(const i in t)(nn(t[i])||e.style&&nn(e.style[i])||NN(i,n))&&(r[i]=t[i]);return r}function UN(n,e){const t=lT(n,e);for(const r in n)if(nn(n[r])||nn(e[r])){const i=zg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function cT(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function cb(n){const e=E.useRef(null);return e.current===null&&(e.current=n()),e.current}const Sw=n=>Array.isArray(n),Az=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Ez=n=>Sw(n)?n[n.length-1]||0:n;function ov(n){const e=nn(n)?n.get():n;return Az(e)?e.toValue():e}function Cz({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Tz(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const WN=n=>(e,t)=>{const r=E.useContext(rb),i=E.useContext(ib),s=()=>Cz(n,e,r,i);return t?s():cb(s)};function Tz(n,e,t,r){const i={},s=r(n,{});for(const f in s)i[f]=ov(s[f]);let{initial:o,animate:a}=n;const l=ab(n),c=RN(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!ob(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=cT(n,m);if(!v)return;const{transitionEnd:g,transition:A,...b}=v;for(const S in b){let x=b[S];if(Array.isArray(x)){const p=d?x.length-1:0;x=x[p]}x!==null&&(i[S]=x)}for(const S in g)i[S]=g[S]}),i}const tt=n=>n;class Fk{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Pz(n){let e=new Fk,t=new Fk,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&i,f=h?e:t;return c&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const Py=["prepare","read","update","preRender","render","postRender"],kz=40;function Iz(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Py.reduce((h,f)=>(h[f]=Pz(()=>t=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,kz),1),i.timestamp=h,i.isProcessing=!0,Py.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:Py.reduce((h,f)=>{const m=s[f];return h[f]=(v,g=!1,A=!1)=>(t||l(),m.schedule(v,g,A)),h},{}),cancel:h=>Py.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Le,cancel:Ri,state:Pt,steps:mS}=Iz(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0),_z={useVisualState:WN({scrapeMotionValuesFromProps:UN,createRenderState:VN,onMount:(n,e,{renderState:t,latestValues:r})=>{Le.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{oT(t,r,{enableHardwareAcceleration:!1},aT(e.tagName),n.transformTemplate),zN(e,t)})}})},Rz={useVisualState:WN({scrapeMotionValuesFromProps:lT,createRenderState:sT})};function Mz(n,{forwardMotionProps:e=!1},t,r){return{...rT(n)?_z:Rz,preloadedFeatures:t,useRender:Sz(e),createVisualElement:r,Component:n}}function As(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const GN=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function ub(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Nz=n=>e=>GN(e)&&n(e,ub(e));function Cs(n,e,t,r){return As(n,e,Nz(t),r)}const Lz=(n,e)=>t=>e(n(t)),qo=(...n)=>n.reduce(Lz);function KN(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const Bk=KN("dragHorizontal"),Vk=KN("dragVertical");function YN(n){let e=!1;if(n==="y")e=Vk();else if(n==="x")e=Bk();else{const t=Bk(),r=Vk();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function XN(){const n=YN(!0);return n?(n(),!1):!0}class ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Hk(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||XN())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&Le.update(()=>a[r](s,o))};return Cs(n.current,t,i,{passive:!n.getProps()[r]})}class Dz extends ha{mount(){this.unmount=qo(Hk(this.node,!0),Hk(this.node,!1))}unmount(){}}class Oz extends ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qo(As(this.node.current,"focus",()=>this.onFocus()),As(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qN=(n,e)=>e?n===e?!0:qN(n,e.parentElement):!1;function gS(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,ub(t))}class jz extends ha{constructor(){super(...arguments),this.removeStartListeners=tt,this.removeEndListeners=tt,this.removeAccessibleListeners=tt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Cs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Le.update(()=>{!h&&!qN(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Cs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=qo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||gS("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Le.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=As(this.node.current,"keyup",o),gS("down",(a,l)=>{this.startPress(a,l)})},t=As(this.node.current,"keydown",e),r=()=>{this.isPressing&&gS("cancel",(s,o)=>this.cancelPress(s,o))},i=As(this.node.current,"blur",r);this.removeAccessibleListeners=qo(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Le.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!XN()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Le.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Cs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=As(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qo(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rA=new WeakMap,yS=new WeakMap,Fz=n=>{const e=rA.get(n.target);e&&e(n)},Bz=n=>{n.forEach(Fz)};function Vz({root:n,...e}){const t=n||document;yS.has(t)||yS.set(t,{});const r=yS.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Bz,{root:n,...e})),r[i]}function Hz(n,e,t){const r=Vz(e);return rA.set(n,t),r.observe(n),()=>{rA.delete(n),r.unobserve(n)}}const $z={some:0,all:1};class zz extends ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$z[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return Hz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Uz(e,t))&&this.startObserver()}unmount(){}}function Uz({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Wz={inView:{Feature:zz},tap:{Feature:jz},focus:{Feature:Oz},hover:{Feature:Dz}};function QN(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Gz(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Kz(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function db(n,e,t){const r=n.getProps();return cT(r,e,t!==void 0?t:r.custom,Gz(n),Kz(n))}let Yz=tt,uT=tt;const Qo=n=>n*1e3,Ii=n=>n/1e3,Xz={current:!1},ZN=n=>Array.isArray(n)&&typeof n[0]=="number";function JN(n){return!!(!n||typeof n=="string"&&eL[n]||ZN(n)||Array.isArray(n)&&n.every(JN))}const Zh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,eL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zh([0,.65,.55,1]),circOut:Zh([.55,0,1,.45]),backIn:Zh([.31,.01,.66,-.59]),backOut:Zh([.33,1.53,.69,.99])};function tL(n){if(n)return ZN(n)?Zh(n):Array.isArray(n)?n.map(tL):eL[n]}function qz(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=tL(a);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Qz(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const nL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Zz=1e-7,Jz=12;function eU(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=nL(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Zz&&++a<Jz);return o}function Gg(n,e,t,r){if(n===e&&t===r)return tt;const i=s=>eU(s,0,1,n,t);return s=>s===0||s===1?s:nL(i(s),e,r)}const tU=Gg(.42,0,1,1),nU=Gg(0,0,.58,1),rL=Gg(.42,0,.58,1),rU=n=>Array.isArray(n)&&typeof n[0]!="number",iL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,sL=n=>e=>1-n(1-e),dT=n=>1-Math.sin(Math.acos(n)),oL=sL(dT),iU=iL(dT),aL=Gg(.33,1.53,.69,.99),hT=sL(aL),sU=iL(hT),oU=n=>(n*=2)<1?.5*hT(n):.5*(2-Math.pow(2,-10*(n-1))),aU={linear:tt,easeIn:tU,easeInOut:rL,easeOut:nU,circIn:dT,circInOut:iU,circOut:oL,backIn:hT,backInOut:sU,backOut:aL,anticipate:oU},$k=n=>{if(Array.isArray(n)){uT(n.length===4);const[e,t,r,i]=n;return Gg(e,t,r,i)}else if(typeof n=="string")return aU[n];return n},fT=(n,e)=>t=>!!(Ug(t)&&lz.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),lL=(n,e,t)=>r=>{if(!Ug(r))return r;const[i,s,o,a]=r.match(lb);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},lU=n=>ta(0,255,n),vS={...Cc,transform:n=>Math.round(lU(n))},Na={test:fT("rgb","red"),parse:lL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+vS.transform(n)+", "+vS.transform(e)+", "+vS.transform(t)+", "+Rf(_f.transform(r))+")"};function cU(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const iA={test:fT("#"),parse:cU,transform:Na.transform},ru={test:fT("hsl","hue"),parse:lL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ki.transform(Rf(e))+", "+ki.transform(Rf(t))+", "+Rf(_f.transform(r))+")"},un={test:n=>Na.test(n)||iA.test(n)||ru.test(n),parse:n=>Na.test(n)?Na.parse(n):ru.test(n)?ru.parse(n):iA.parse(n),transform:n=>Ug(n)?n:n.hasOwnProperty("red")?Na.transform(n):ru.transform(n)},qe=(n,e,t)=>-t*n+t*e+n;function wS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function uU({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=wS(l,a,n+1/3),s=wS(l,a,n),o=wS(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const xS=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},dU=[iA,Na,ru],hU=n=>dU.find(e=>e.test(n));function zk(n){const e=hU(n);let t=e.parse(n);return e===ru&&(t=uU(t)),t}const cL=(n,e)=>{const t=zk(n),r=zk(e),i={...t};return s=>(i.red=xS(t.red,r.red,s),i.green=xS(t.green,r.green,s),i.blue=xS(t.blue,r.blue,s),i.alpha=qe(t.alpha,r.alpha,s),Na.transform(i))};function fU(n){var e,t;return isNaN(n)&&Ug(n)&&(((e=n.match(lb))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(ON))===null||t===void 0?void 0:t.length)||0)>0}const uL={regex:oz,countKey:"Vars",token:"${v}",parse:tt},dL={regex:ON,countKey:"Colors",token:"${c}",parse:un.parse},hL={regex:lb,countKey:"Numbers",token:"${n}",parse:Cc.parse};function bS(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function Aw(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&bS(t,uL),bS(t,dL),bS(t,hL),t}function fL(n){return Aw(n).values}function pL(n){const{values:e,numColors:t,numVars:r,tokenised:i}=Aw(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(uL.token,o[l]):l<r+t?a=a.replace(dL.token,un.transform(o[l])):a=a.replace(hL.token,Rf(o[l]));return a}}const pU=n=>typeof n=="number"?0:n;function mU(n){const e=fL(n);return pL(n)(e.map(pU))}const na={test:fU,parse:fL,createTransformer:pL,getAnimatableNone:mU},mL=(n,e)=>t=>`${t>0?e:n}`;function gL(n,e){return typeof n=="number"?t=>qe(n,e,t):un.test(n)?cL(n,e):n.startsWith("var(")?mL(n,e):vL(n,e)}const yL=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>gL(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},gU=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=gL(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},vL=(n,e)=>{const t=na.createTransformer(e),r=Aw(n),i=Aw(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?qo(yL(r.values,i.values),t):mL(n,e)},ip=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Uk=(n,e)=>t=>qe(n,e,t);function yU(n){return typeof n=="number"?Uk:typeof n=="string"?un.test(n)?cL:vL:Array.isArray(n)?yL:typeof n=="object"?gU:Uk}function vU(n,e,t){const r=[],i=t||yU(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||tt:e;a=qo(l,a)}r.push(a)}return r}function pT(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(uT(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=vU(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const h=ip(n[d],n[d+1],c);return o[d](h)};return t?c=>l(ta(n[0],n[s-1],c)):l}function wU(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=ip(0,e,r);n.push(qe(t,1,i))}}function xU(n){const e=[0];return wU(e,n.length-1),e}function bU(n,e){return n.map(t=>t*e)}function SU(n,e){return n.map(()=>e||rL).splice(0,n.length-1)}function Ew({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=rU(r)?r.map($k):$k(r),s={done:!1,value:e[0]},o=bU(t&&t.length===e.length?t:xU(e),n),a=pT(o,e,{ease:Array.isArray(i)?i:SU(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function wL(n,e){return e?n*(1e3/e):0}const AU=5;function xL(n,e,t){const r=Math.max(e-AU,0);return wL(t-n(r),e-r)}const SS=.001,EU=.01,Wk=10,CU=.05,TU=1;function PU({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Yz(n<=Qo(Wk));let o=1-e;o=ta(CU,TU,o),n=ta(EU,Wk,Ii(n)),o<1?(i=c=>{const d=c*o,h=d*n,f=d-t,m=sA(c,o),v=Math.exp(-h);return SS-f/m*v},s=c=>{const h=c*o*n,f=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-h),g=sA(Math.pow(c,2),o);return(-i(c)+SS>0?-1:1)*((f-m)*v)/g}):(i=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-SS+d*h},s=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const a=5/n,l=IU(i,s,a);if(n=Qo(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const kU=12;function IU(n,e,t){let r=t;for(let i=1;i<kU;i++)r=r-n(r)/e(r);return r}function sA(n,e){return n*Math.sqrt(1-e*e)}const _U=["duration","bounce"],RU=["stiffness","damping","mass"];function Gk(n,e){return e.some(t=>n[t]!==void 0)}function MU(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Gk(n,RU)&&Gk(n,_U)){const t=PU(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function bL({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=MU({...r,velocity:-Ii(r.velocity||0)}),m=h||0,v=l/(2*Math.sqrt(a*c)),g=s-i,A=Ii(Math.sqrt(a/c)),b=Math.abs(g)<5;t||(t=b?.01:2),e||(e=b?.005:.5);let S;if(v<1){const x=sA(A,v);S=p=>{const w=Math.exp(-v*A*p);return s-w*((m+v*A*g)/x*Math.sin(x*p)+g*Math.cos(x*p))}}else if(v===1)S=x=>s-Math.exp(-A*x)*(g+(m+A*g)*x);else{const x=A*Math.sqrt(v*v-1);S=p=>{const w=Math.exp(-v*A*p),T=Math.min(x*p,300);return s-w*((m+v*A*g)*Math.sinh(T)+x*g*Math.cosh(T))/x}}return{calculatedDuration:f&&d||null,next:x=>{const p=S(x);if(f)o.done=x>=d;else{let w=m;x!==0&&(v<1?w=xL(S,x,p):w=0);const T=Math.abs(w)<=t,k=Math.abs(s-p)<=e;o.done=T&&k}return o.value=o.done?s:p,o}}}function Kk({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=n[0],f={done:!1,value:h},m=_=>a!==void 0&&_<a||l!==void 0&&_>l,v=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let g=t*e;const A=h+g,b=o===void 0?A:o(A);b!==A&&(g=b-h);const S=_=>-g*Math.exp(-_/r),x=_=>b+S(_),p=_=>{const R=S(_),M=x(_);f.done=Math.abs(R)<=c,f.value=f.done?b:M};let w,T;const k=_=>{m(f.value)&&(w=_,T=bL({keyframes:[f.value,v(f.value)],velocity:xL(x,_,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:_=>{let R=!1;return!T&&w===void 0&&(R=!0,p(_),k(_)),w!==void 0&&_>w?T.next(_-w):(!R&&p(_),f)}}}const NU=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Le.update(e,!0),stop:()=>Ri(e),now:()=>Pt.isProcessing?Pt.timestamp:performance.now()}},Yk=2e4;function Xk(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Yk;)e+=t,r=n.next(e);return e>=Yk?1/0:e}const LU={decay:Kk,inertia:Kk,tween:Ew,keyframes:Ew,spring:bL};function sp({autoplay:n=!0,delay:e=0,driver:t=NU,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...f}){let m=1,v=!1,g,A;const b=()=>{A=new Promise(W=>{g=W})};b();let S;const x=LU[i]||Ew;let p;x!==Ew&&typeof r[0]!="number"&&(p=pT([0,100],r,{clamp:!1}),r=[0,100]);const w=x({...f,keyframes:r});let T;a==="mirror"&&(T=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let k="idle",_=null,R=null,M=null;w.calculatedDuration===null&&s&&(w.calculatedDuration=Xk(w));const{calculatedDuration:N}=w;let j=1/0,V=1/0;N!==null&&(j=N+o,V=j*(s+1)-o);let L=0;const $=W=>{if(R===null)return;m>0&&(R=Math.min(R,W)),m<0&&(R=Math.min(W-V/m,R)),_!==null?L=_:L=Math.round(W-R)*m;const K=L-e*(m>=0?1:-1),Z=m>=0?K<0:K>V;L=Math.max(K,0),k==="finished"&&_===null&&(L=V);let de=L,Pe=w;if(s){const ue=Math.min(L,V)/j;let te=Math.floor(ue),se=ue%1;!se&&ue>=1&&(se=1),se===1&&te--,te=Math.min(te,s+1),!!(te%2)&&(a==="reverse"?(se=1-se,o&&(se-=o/j)):a==="mirror"&&(Pe=T)),de=ta(0,1,se)*j}const ce=Z?{done:!1,value:r[0]}:Pe.next(de);p&&(ce.value=p(ce.value));let{done:G}=ce;!Z&&N!==null&&(G=m>=0?L>=V:L<=0);const he=_===null&&(k==="finished"||k==="running"&&G);return h&&h(ce.value),he&&O(),ce},D=()=>{S&&S.stop(),S=void 0},B=()=>{k="idle",D(),g(),b(),R=M=null},O=()=>{k="finished",d&&d(),D(),g()},F=()=>{if(v)return;S||(S=t($));const W=S.now();l&&l(),_!==null?R=W-_:(!R||k==="finished")&&(R=W),k==="finished"&&b(),M=R,_=null,k="running",S.start()};n&&F();const U={then(W,K){return A.then(W,K)},get time(){return Ii(L)},set time(W){W=Qo(W),L=W,_!==null||!S||m===0?_=W:R=S.now()-W/m},get duration(){const W=w.calculatedDuration===null?Xk(w):w.calculatedDuration;return Ii(W)},get speed(){return m},set speed(W){W===m||!S||(m=W,U.time=Ii(L))},get state(){return k},play:F,pause:()=>{k="paused",_=L},stop:()=>{v=!0,k!=="idle"&&(k="idle",c&&c(),B())},cancel:()=>{M!==null&&$(M),B()},complete:()=>{k="finished"},sample:W=>(R=0,$(W))};return U}function DU(n){let e;return()=>(e===void 0&&(e=n()),e)}const OU=DU(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ky=10,FU=2e4,BU=(n,e)=>e.type==="spring"||n==="backgroundColor"||!JN(e.ease);function VU(n,e,{onUpdate:t,onComplete:r,...i}){if(!(OU()&&jU.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(x=>{a=x})};d();let{keyframes:h,duration:f=300,ease:m,times:v}=i;if(BU(e,i)){const x=sp({...i,repeat:0,delay:0});let p={done:!1,value:h[0]};const w=[];let T=0;for(;!p.done&&T<FU;)p=x.sample(T),w.push(p.value),T+=ky;v=void 0,h=w,f=T-ky,m="linear"}const g=qz(n.owner.current,e,h,{...i,duration:f,ease:m,times:v}),A=()=>{c=!1,g.cancel()},b=()=>{c=!0,Le.update(A),a(),d()};return g.onfinish=()=>{c||(n.set(Qz(h,i)),r&&r(),b())},{then(x,p){return l.then(x,p)},attachTimeline(x){return g.timeline=x,g.onfinish=null,tt},get time(){return Ii(g.currentTime||0)},set time(x){g.currentTime=Qo(x)},get speed(){return g.playbackRate},set speed(x){g.playbackRate=x},get duration(){return Ii(f)},play:()=>{o||(g.play(),Ri(A))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:x}=g;if(x){const p=sp({...i,autoplay:!1});n.setWithVelocity(p.sample(x-ky).value,p.sample(x).value,ky)}b()},complete:()=>{c||g.finish()},cancel:b}}function HU({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:tt,pause:tt,stop:tt,then:s=>(s(),Promise.resolve()),cancel:tt,complete:tt});return e?sp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const $U={type:"spring",stiffness:500,damping:25,restSpeed:10},zU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),UU={type:"keyframes",duration:.8},WU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GU=(n,{keyframes:e})=>e.length>2?UU:Ec.has(n)?n.startsWith("scale")?zU(e[1]):$U:WU,oA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(na.test(e)||e==="0")&&!e.startsWith("url(")),KU=new Set(["brightness","contrast","saturate","opacity"]);function YU(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(lb)||[];if(!r)return n;const i=t.replace(r,"");let s=KU.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const XU=/([a-z-]*)\(.*?\)/g,aA={...na,getAnimatableNone:n=>{const e=n.match(XU);return e?e.map(YU).join(" "):n}},qU={...jN,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:aA,WebkitFilter:aA},mT=n=>qU[n];function SL(n,e){let t=mT(n);return t!==aA&&(t=na),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const AL=n=>/^0[^.\s]+$/.test(n);function QU(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||AL(n)}function ZU(n,e,t,r){const i=oA(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),QU(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=SL(e,a)}return s}function JU({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function gT(n,e){return n[e]||n.default||n}const e5={skipAnimations:!1},yT=(n,e,t,r={})=>i=>{const s=gT(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Qo(o);const l=ZU(e,n,t,s),c=l[0],d=l[l.length-1],h=oA(n,c),f=oA(n,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(JU(s)||(m={...m,...GU(n,m)}),m.duration&&(m.duration=Qo(m.duration)),m.repeatDelay&&(m.repeatDelay=Qo(m.repeatDelay)),!h||!f||Xz.current||s.type===!1||e5.skipAnimations)return HU(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=VU(e,n,m);if(v)return v}return sp(m)};function Cw(n){return!!(nn(n)&&n.add)}const EL=n=>/^\-?\d*\.?\d+$/.test(n);function vT(n,e){n.indexOf(e)===-1&&n.push(e)}function wT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class xT{constructor(){this.subscriptions=[]}add(e){return vT(this.subscriptions,e),()=>wT(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const t5=n=>!isNaN(parseFloat(n)),Mf={current:void 0};class n5{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Pt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=t5(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new xT);const r=this.events[e].add(t);return e==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Mf.current&&Mf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?wL(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mc(n,e){return new n5(n,e)}const CL=n=>e=>e.test(n),r5={test:n=>n==="auto",parse:n=>n},TL=[Cc,ie,ki,Hs,uz,cz,r5],Fh=n=>TL.find(CL(n)),i5=[...TL,un,na],s5=n=>i5.find(CL(n));function o5(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,mc(t))}function a5(n,e){const t=db(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Ez(s[o]);o5(n,o,a)}}function l5(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(EL(d)||AL(d))?d=parseFloat(d):!s5(d)&&na.test(c)&&(d=SL(l,c)),n.addValue(l,mc(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function c5(n,e){return e?(e[n]||e.default||e).from:void 0}function u5(n,e,t){const r={};for(const i in n){const s=c5(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function d5({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function h5(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function PL(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const h in a){const f=n.getValue(h),m=a[h];if(!f||m===void 0||d&&d5(d,h))continue;const v={delay:t,elapsed:0,...gT(s||{},h)};if(window.HandoffAppearAnimations){const b=n.getProps()[_N];if(b){const S=window.HandoffAppearAnimations(b,h,f,Le);S!==null&&(v.elapsed=S,v.isHandoff=!0)}}let g=!v.isHandoff&&!h5(f,m);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(yT(h,f,m,n.shouldReduceMotion&&Ec.has(h)?{type:!1}:v));const A=f.animation;Cw(l)&&(l.add(h),A.then(()=>l.remove(h))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&a5(n,o)}),c}function lA(n,e,t={}){const r=db(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(PL(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return f5(n,e,c+l,d,h,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function f5(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(p5).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(lA(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function p5(n,e){return n.sortNodePosition(e)}function m5(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>lA(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=lA(n,e,t);else{const i=typeof e=="function"?db(n,e,t.custom):e;r=Promise.all(PL(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const g5=[...eT].reverse(),y5=eT.length;function v5(n){return e=>Promise.all(e.map(({animation:t,options:r})=>m5(n,t,r)))}function w5(n){let e=v5(n);const t=b5();let r=!0;const i=(l,c)=>{const d=db(n,c);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(n)}function o(l,c){const d=n.getProps(),h=n.getVariantContext(!0)||{},f=[],m=new Set;let v={},g=1/0;for(let b=0;b<y5;b++){const S=g5[b],x=t[S],p=d[S]!==void 0?d[S]:h[S],w=np(p),T=S===c?x.isActive:null;T===!1&&(g=b);let k=p===h[S]&&p!==d[S]&&w;if(k&&r&&n.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...v},!x.isActive&&T===null||!p&&!x.prevProp||ob(p)||typeof p=="boolean")continue;let R=x5(x.prevProp,p)||S===c&&x.isActive&&!k&&w||b>g&&w,M=!1;const N=Array.isArray(p)?p:[p];let j=N.reduce(i,{});T===!1&&(j={});const{prevResolvedValues:V={}}=x,L={...V,...j},$=D=>{R=!0,m.has(D)&&(M=!0,m.delete(D)),x.needsAnimating[D]=!0};for(const D in L){const B=j[D],O=V[D];if(v.hasOwnProperty(D))continue;let F=!1;Sw(B)&&Sw(O)?F=!QN(B,O):F=B!==O,F?B!==void 0?$(D):m.add(D):B!==void 0&&m.has(D)?$(D):x.protectedKeys[D]=!0}x.prevProp=p,x.prevResolvedValues=j,x.isActive&&(v={...v,...j}),r&&n.blockInitialAnimation&&(R=!1),R&&(!k||M)&&f.push(...N.map(D=>({animation:D,options:{type:S,...l}})))}if(m.size){const b={};m.forEach(S=>{const x=n.getBaseTarget(S);x!==void 0&&(b[S]=x)}),f.push({animation:b})}let A=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(f):Promise.resolve()}function a(l,c,d){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const f=o(d,l);for(const m in t)t[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function x5(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!QN(e,n):!1}function ya(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b5(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class S5 extends ha{constructor(e){super(e),e.animationState||(e.animationState=w5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ob(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let A5=0;class E5 extends ha{constructor(){super(...arguments),this.id=A5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const C5={animation:{Feature:S5},exit:{Feature:E5}},qk=(n,e)=>Math.abs(n-e);function T5(n,e){const t=qk(n.x,e.x),r=qk(n.y,e.y);return Math.sqrt(t**2+r**2)}class kL{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ES(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=T5(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:g}=Pt;this.history.push({...v,timestamp:g});const{onStart:A,onMove:b}=this.handlers;f||(A&&A(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=AS(f,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=ES(h.type==="pointercancel"?this.lastMoveEventInfo:AS(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,A),v&&v(h,A)},!GN(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=ub(e),a=AS(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Pt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,ES(a,this.history)),this.removeListeners=qo(Cs(this.contextWindow,"pointermove",this.handlePointerMove),Cs(this.contextWindow,"pointerup",this.handlePointerUp),Cs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function AS(n,e){return e?{point:e(n.point)}:n}function Qk(n,e){return{x:n.x-e.x,y:n.y-e.y}}function ES({point:n},e){return{point:n,delta:Qk(n,IL(e)),offset:Qk(n,P5(e)),velocity:k5(e,.1)}}function P5(n){return n[0]}function IL(n){return n[n.length-1]}function k5(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=IL(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Qo(e)));)t--;if(!r)return{x:0,y:0};const s=Ii(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jn(n){return n.max-n.min}function cA(n,e=0,t=.01){return Math.abs(n-e)<=t}function Zk(n,e,t,r=.5){n.origin=r,n.originPoint=qe(e.min,e.max,n.origin),n.scale=Jn(t)/Jn(e),(cA(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=qe(t.min,t.max,n.origin)-n.originPoint,(cA(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Nf(n,e,t,r){Zk(n.x,e.x,t.x,r?r.originX:void 0),Zk(n.y,e.y,t.y,r?r.originY:void 0)}function Jk(n,e,t){n.min=t.min+e.min,n.max=n.min+Jn(e)}function I5(n,e,t){Jk(n.x,e.x,t.x),Jk(n.y,e.y,t.y)}function eI(n,e,t){n.min=e.min-t.min,n.max=n.min+Jn(e)}function Lf(n,e,t){eI(n.x,e.x,t.x),eI(n.y,e.y,t.y)}function _5(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?qe(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?qe(t,n,r.max):Math.min(n,t)),n}function tI(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function R5(n,{top:e,left:t,bottom:r,right:i}){return{x:tI(n.x,t,i),y:tI(n.y,e,r)}}function nI(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function M5(n,e){return{x:nI(n.x,e.x),y:nI(n.y,e.y)}}function N5(n,e){let t=.5;const r=Jn(n),i=Jn(e);return i>r?t=ip(e.min,e.max-r,n.min):r>i&&(t=ip(n.min,n.max-i,e.min)),ta(0,1,t)}function L5(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const uA=.35;function D5(n=uA){return n===!1?n=0:n===!0&&(n=uA),{x:rI(n,"left","right"),y:rI(n,"top","bottom")}}function rI(n,e,t){return{min:iI(n,e),max:iI(n,t)}}function iI(n,e){return typeof n=="number"?n:n[e]||0}const sI=()=>({translate:0,scale:1,origin:0,originPoint:0}),iu=()=>({x:sI(),y:sI()}),oI=()=>({min:0,max:0}),ut=()=>({x:oI(),y:oI()});function sr(n){return[n("x"),n("y")]}function _L({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function O5({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function j5(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function CS(n){return n===void 0||n===1}function dA({scale:n,scaleX:e,scaleY:t}){return!CS(n)||!CS(e)||!CS(t)}function ba(n){return dA(n)||RL(n)||n.z||n.rotate||n.rotateX||n.rotateY}function RL(n){return aI(n.x)||aI(n.y)}function aI(n){return n&&n!=="0%"}function Tw(n,e,t){const r=n-t,i=e*r;return t+i}function lI(n,e,t,r,i){return i!==void 0&&(n=Tw(n,i,r)),Tw(n,t,r)+e}function hA(n,e=0,t=1,r,i){n.min=lI(n.min,e,t,r,i),n.max=lI(n.max,e,t,r,i)}function ML(n,{x:e,y:t}){hA(n.x,e.translate,e.scale,e.originPoint),hA(n.y,t.translate,t.scale,t.originPoint)}function F5(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&su(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ML(n,o)),r&&ba(s.latestValues)&&su(n,s.latestValues))}e.x=cI(e.x),e.y=cI(e.y)}function cI(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Gs(n,e){n.min=n.min+e,n.max=n.max+e}function uI(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=qe(n.min,n.max,s);hA(n,e[t],e[r],o,e.scale)}const B5=["x","scaleX","originX"],V5=["y","scaleY","originY"];function su(n,e){uI(n.x,e,B5),uI(n.y,e,V5)}function NL(n,e){return _L(j5(n.getBoundingClientRect(),e))}function H5(n,e,t){const r=NL(n,t),{scroll:i}=e;return i&&(Gs(r.x,i.offset.x),Gs(r.y,i.offset.y)),r}const LL=({current:n})=>n?n.ownerDocument.defaultView:null,$5=new WeakMap;class z5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ub(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=YN(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(A=>{let b=this.getAxisMotionValue(A).get()||0;if(ki.test(b)){const{projection:S}=this.visualElement;if(S&&S.layout){const x=S.layout.layoutBox[A];x&&(b=Jn(x)*(parseFloat(b)/100))}}this.originPoint[A]=b}),v&&Le.update(()=>v(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:A}=h;if(m&&this.currentDirection===null){this.currentDirection=U5(A),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,A),this.updateAxis("y",h.point,A),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>sr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new kL(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:LL(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Le.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Iy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_5(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&nu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=R5(i.layoutBox,t):this.constraints=!1,this.elastic=D5(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&sr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=L5(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!nu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=H5(r,i.root,this.visualElement.getTransformPagePoint());let o=M5(i.layout.layoutBox,s);if(t){const a=t(O5(o));this.hasMutatedConstraints=!!a,a&&(o=_L(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=sr(d=>{if(!Iy(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(yT(e,r,0,t))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(t=>{const{drag:r}=this.getProps();if(!Iy(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!nu(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};sr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=N5({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(o=>{if(!Iy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(qe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;$5.set(this.visualElement,this);const e=this.visualElement.current,t=Cs(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();nu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=As(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(sr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=uA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Iy(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function U5(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class W5 extends ha{constructor(e){super(e),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new z5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const dI=n=>(e,t)=>{n&&Le.update(()=>n(e,t))};class G5 extends ha{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(e){this.session=new kL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dI(e),onStart:dI(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Le.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Cs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function K5(){const n=E.useContext(ib);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const av={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hI(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ie.test(n))n=parseFloat(n);else return n;const t=hI(n,e.target.x),r=hI(n,e.target.y);return`${t}% ${r}%`}},Y5={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=na.parse(n);if(i.length>5)return r;const s=na.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=qe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class X5 extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;nz(q5),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),av.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DL(n){const[e,t]=K5(),r=E.useContext(nT);return J.createElement(X5,{...n,layoutGroup:r,switchLayoutGroup:E.useContext(MN),isPresent:e,safeToRemove:t})}const q5={borderRadius:{...Bh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bh,borderTopRightRadius:Bh,borderBottomLeftRadius:Bh,borderBottomRightRadius:Bh,boxShadow:Y5},OL=["TopLeft","TopRight","BottomLeft","BottomRight"],Q5=OL.length,fI=n=>typeof n=="string"?parseFloat(n):n,pI=n=>typeof n=="number"||ie.test(n);function Z5(n,e,t,r,i,s){i?(n.opacity=qe(0,t.opacity!==void 0?t.opacity:1,J5(r)),n.opacityExit=qe(e.opacity!==void 0?e.opacity:1,0,eW(r))):s&&(n.opacity=qe(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<Q5;o++){const a=`border${OL[o]}Radius`;let l=mI(e,a),c=mI(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pI(l)===pI(c)?(n[a]=Math.max(qe(fI(l),fI(c),r),0),(ki.test(c)||ki.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=qe(e.rotate||0,t.rotate||0,r))}function mI(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const J5=jL(0,.5,oL),eW=jL(.5,.95,tt);function jL(n,e,t){return r=>r<n?0:r>e?1:t(ip(n,e,r))}function gI(n,e){n.min=e.min,n.max=e.max}function rr(n,e){gI(n.x,e.x),gI(n.y,e.y)}function yI(n,e,t,r,i){return n-=e,n=Tw(n,1/t,r),i!==void 0&&(n=Tw(n,1/i,r)),n}function tW(n,e=0,t=1,r=.5,i,s=n,o=n){if(ki.test(e)&&(e=parseFloat(e),e=qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qe(s.min,s.max,r);n===s&&(a-=e),n.min=yI(n.min,e,t,a,i),n.max=yI(n.max,e,t,a,i)}function vI(n,e,[t,r,i],s,o){tW(n,e[t],e[r],e[i],e.scale,s,o)}const nW=["x","scaleX","originX"],rW=["y","scaleY","originY"];function wI(n,e,t,r){vI(n.x,e,nW,t?t.x:void 0,r?r.x:void 0),vI(n.y,e,rW,t?t.y:void 0,r?r.y:void 0)}function xI(n){return n.translate===0&&n.scale===1}function FL(n){return xI(n.x)&&xI(n.y)}function iW(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function BL(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function bI(n){return Jn(n.x)/Jn(n.y)}class sW{constructor(){this.members=[]}add(e){vT(this.members,e),e.scheduleRender()}remove(e){if(wT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SI(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const oW=(n,e)=>n.depth-e.depth;class aW{constructor(){this.children=[],this.isDirty=!1}add(e){vT(this.children,e),this.isDirty=!0}remove(e){wT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oW),this.isDirty=!1,this.children.forEach(e)}}function lW(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ri(r),n(s-e))};return Le.read(r,!0),()=>Ri(r)}function cW(n){window.MotionDebug&&window.MotionDebug.record(n)}function uW(n){return n instanceof SVGElement&&n.tagName!=="svg"}function dW(n,e,t){const r=nn(n)?n:mc(n);return r.start(yT("",r,e,t)),r.animation}const AI=["","X","Y","Z"],hW={visibility:"hidden"},EI=1e3;let fW=0;const Sa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function VL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=fW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sa.totalNodes=Sa.resolvedTargetDeltas=Sa.recalculatedProjection=0,this.nodes.forEach(gW),this.nodes.forEach(bW),this.nodes.forEach(SW),this.nodes.forEach(yW),cW(Sa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new aW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uW(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const f=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=lW(f,250),av.hasAnimatedSinceResize&&(av.hasAnimatedSinceResize=!1,this.nodes.forEach(TI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||PW,{onLayoutAnimationStart:A,onLayoutAnimationComplete:b}=d.getProps(),S=!this.targetLayout||!BL(this.targetLayout,v)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const p={...gT(g,"layout"),onPlay:A,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p)}else f||TI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CI);return}this.isUpdating||this.nodes.forEach(wW),this.isUpdating=!1,this.nodes.forEach(xW),this.nodes.forEach(pW),this.nodes.forEach(mW),this.clearAllSnapshots();const a=performance.now();Pt.delta=ta(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,mS.update.process(Pt),mS.preRender.process(Pt),mS.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(vW),this.sharedNodes.forEach(EW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!FL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||ba(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ut();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Gs(a.x,l.offset.x),Gs(a.y,l.offset.y)),a}removeElementScroll(o){const a=ut();rr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){rr(a,o);const{scroll:f}=this.root;f&&(Gs(a.x,-f.offset.x),Gs(a.y,-f.offset.y))}Gs(a.x,d.offset.x),Gs(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=ut();rr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&su(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ba(d.latestValues)&&su(l,d.latestValues)}return ba(this.latestValues)&&su(l,this.latestValues),l}removeTransform(o){const a=ut();rr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ba(c.latestValues))continue;dA(c.latestValues)&&c.updateSnapshot();const d=ut(),h=c.measurePageBox();rr(d,h),wI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ba(this.latestValues)&&wI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Lf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rr(this.target,this.layout.layoutBox),ML(this.target,this.targetDelta)):rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Lf(this.relativeTargetOrigin,this.target,m.target),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dA(this.parent.latestValues)||RL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;rr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;F5(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=iu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=iu(),this.projectionDeltaWithTransform=iu());const g=this.projectionTransform;Nf(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=SI(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Sa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=iu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ut(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,A=this.getStack(),b=!A||A.members.length<=1,S=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(TW));this.animationProgress=0;let x;this.mixTargetDelta=p=>{const w=p/1e3;PI(h.x,o.x,w),PI(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CW(this.relativeTarget,this.relativeTargetOrigin,f,w),x&&iW(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ut()),rr(x,this.relativeTarget)),g&&(this.animationValues=d,Z5(d,c,this.latestValues,w,S,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{av.hasAnimatedSinceResize=!0,this.currentAnimation=dW(0,EI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&HL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ut();const h=Jn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Jn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}rr(a,l),su(a,d),Nf(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sW),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<AI.length;d++){const h="rotate"+AI[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hW;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ov(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ov(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=SI(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in xw){if(f[g]===void 0)continue;const{correct:A,applyTo:b}=xw[g],S=c.transform==="none"?f[g]:A(f[g],h);if(b){const x=b.length;for(let p=0;p<x;p++)c[b[p]]=S}else c[g]=S}return this.options.layoutId&&(c.pointerEvents=h===this?ov(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(CI),this.root.sharedNodes.clear()}}}function pW(n){n.updateLayout()}function mW(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?sr(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Jn(f);f.min=r[h].min,f.max=f.min+m}):HL(s,t.layoutBox,r)&&sr(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Jn(r[h]);f.max=f.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const a=iu();Nf(a,r,t.layoutBox);const l=iu();o?Nf(l,n.applyTransform(i,!0),t.measuredBox):Nf(l,r,t.layoutBox);const c=!FL(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=ut();Lf(v,t.layoutBox,f.layoutBox);const g=ut();Lf(g,r,m.layoutBox),BL(v,g)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=v,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function gW(n){Sa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function yW(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function vW(n){n.clearSnapshot()}function CI(n){n.clearMeasurements()}function wW(n){n.isLayoutDirty=!1}function xW(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function TI(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function bW(n){n.resolveTargetDelta()}function SW(n){n.calcProjection()}function AW(n){n.resetRotation()}function EW(n){n.removeLeadSnapshot()}function PI(n,e,t){n.translate=qe(e.translate,0,t),n.scale=qe(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function kI(n,e,t,r){n.min=qe(e.min,t.min,r),n.max=qe(e.max,t.max,r)}function CW(n,e,t,r){kI(n.x,e.x,t.x,r),kI(n.y,e.y,t.y,r)}function TW(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const PW={duration:.45,ease:[.4,0,.1,1]},II=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),_I=II("applewebkit/")&&!II("chrome/")?Math.round:tt;function RI(n){n.min=_I(n.min),n.max=_I(n.max)}function kW(n){RI(n.x),RI(n.y)}function HL(n,e,t){return n==="position"||n==="preserve-aspect"&&!cA(bI(e),bI(t),.2)}const IW=VL({attachResizeListener:(n,e)=>As(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),TS={current:void 0},$L=VL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!TS.current){const n=new IW({});n.mount(window),n.setOptions({layoutScroll:!0}),TS.current=n}return TS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_W={pan:{Feature:G5},drag:{Feature:W5,ProjectionNode:$L,MeasureLayout:DL}},RW=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function MW(n){const e=RW.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function fA(n,e,t=1){const[r,i]=MW(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return EL(o)?parseFloat(o):o}else return nA(i)?fA(i,e,t+1):i}function NW(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!nA(s))return;const o=fA(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!nA(s))continue;const o=fA(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const LW=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zL=n=>LW.has(n),DW=n=>Object.keys(n).some(zL),MI=n=>n===Cc||n===ie,NI=(n,e)=>parseFloat(n.split(", ")[e]),LI=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return NI(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?NI(s[1],n):0}},OW=new Set(["x","y","z"]),jW=zg.filter(n=>!OW.has(n));function FW(n){const e=[];return jW.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const uh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:LI(4,13),y:LI(5,14)};uh.translateX=uh.x;uh.translateY=uh.y;const BW=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=uh[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),n[c]=uh[c](l,s)}),n},VW=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(zL);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=Fh(d);const f=e[l];let m;if(Sw(f)){const v=f.length,g=f[0]===null?1:0;d=f[g],h=Fh(d);for(let A=g;A<v&&f[A]!==null;A++)m?uT(Fh(f[A])===m):m=Fh(f[A])}else m=Fh(f);if(h!==m)if(MI(h)&&MI(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===ie&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(f):(o||(s=FW(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=BW(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),sb&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function HW(n,e,t,r){return DW(e)?VW(n,e,t,r):{target:e,transitionEnd:r}}const $W=(n,e,t,r)=>{const i=NW(n,e,r);return e=i.target,r=i.transitionEnd,HW(n,e,t,r)},pA={current:null},UL={current:!1};function zW(){if(UL.current=!0,!!sb)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>pA.current=n.matches;n.addListener(e),e()}else pA.current=!1}function UW(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(nn(s))n.addValue(i,s),Cw(r)&&r.add(i);else if(nn(o))n.addValue(i,mc(s,{owner:n})),Cw(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,mc(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const DI=new WeakMap,WL=Object.keys(rp),WW=WL.length,OI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GW=tT.length;class KW{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ab(t),this.isVariantNode=RN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const f=d[h];a[h]!==void 0&&nn(f)&&(f.set(a[h],!1),Cw(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,DI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),UL.current||zW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){DI.delete(this.current),this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Ec.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<WW;l++){const c=WL[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=rp[c];f&&(o=f),d(t)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&nu(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<OI.length;r++){const i=OI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=UW(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<GW;r++){const i=tT[r],s=this.props[i];(np(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=mc(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=cT(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!nn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new xT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class GL extends KW{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=u5(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){l5(this,r,o);const a=$W(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function YW(n){return window.getComputedStyle(n)}class XW extends GL{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ec.has(t)){const r=mT(t);return r&&r.default||0}else{const r=YW(e),i=(DN(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return NL(e,t)}build(e,t,r,i){iT(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return lT(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){HN(e,t,r,i)}}class qW extends GL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ec.has(t)){const r=mT(t);return r&&r.default||0}return t=$N.has(t)?t:JC(t),e.getAttribute(t)}measureInstanceViewportBox(){return ut()}scrapeMotionValuesFromProps(e,t){return UN(e,t)}build(e,t,r,i){oT(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){zN(e,t,r,i)}mount(e){this.isSVGTag=aT(e.tagName),super.mount(e)}}const QW=(n,e)=>rT(n)?new qW(e,{enableHardwareAcceleration:!1}):new XW(e,{enableHardwareAcceleration:!0}),ZW={layout:{ProjectionNode:$L,MeasureLayout:DL}},JW={...C5,...Wz,..._W,...ZW},re=ez((n,e)=>Mz(n,e,JW,QW));function KL(){const n=E.useRef(!1);return $g(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function e4(){const n=KL(),[e,t]=E.useState(0),r=E.useCallback(()=>{n.current&&t(e+1)},[e]);return[E.useCallback(()=>Le.postRender(r),[r]),e]}class t4 extends E.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function n4({children:n,isPresent:e}){const t=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),E.createElement(t4,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(n,{ref:r}))}const PS=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=cb(r4),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[t]);return E.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[t]),E.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=E.createElement(n4,{isPresent:t},n)),E.createElement(ib.Provider,{value:c},n)};function r4(){return new Map}function i4(n){return E.useEffect(()=>()=>n(),[])}const Aa=n=>n.key||"";function s4(n,e){n.forEach(t=>{const r=Aa(t);e.set(r,t)})}function o4(n){const e=[];return E.Children.forEach(n,t=>{E.isValidElement(t)&&e.push(t)}),e}const dh=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(nT).forceRender||e4()[0],l=KL(),c=o4(n);let d=c;const h=E.useRef(new Map).current,f=E.useRef(d),m=E.useRef(new Map).current,v=E.useRef(!0);if($g(()=>{v.current=!1,s4(c,m),f.current=d}),i4(()=>{v.current=!0,m.clear(),h.clear()}),v.current)return E.createElement(E.Fragment,null,d.map(S=>E.createElement(PS,{key:Aa(S),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},S)));d=[...d];const g=f.current.map(Aa),A=c.map(Aa),b=g.length;for(let S=0;S<b;S++){const x=g[S];A.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((S,x)=>{if(A.indexOf(x)!==-1)return;const p=m.get(x);if(!p)return;const w=g.indexOf(x);let T=S;if(!T){const k=()=>{h.delete(x);const _=Array.from(m.keys()).filter(R=>!A.includes(R));if(_.forEach(R=>m.delete(R)),f.current=c.filter(R=>{const M=Aa(R);return M===x||_.includes(M)}),!h.size){if(l.current===!1)return;a(),r&&r()}};T=E.createElement(PS,{key:Aa(p),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:o},p),h.set(x,T)}d.splice(w,0,T)}),d=d.map(S=>{const x=S.key;return h.has(x)?S:E.createElement(PS,{key:Aa(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),E.createElement(E.Fragment,null,h.size?d:d.map(S=>E.cloneElement(S)))};function Pw(n){const e=cb(()=>mc(n)),{isStatic:t}=E.useContext(nb);if(t){const[,r]=E.useState(n);E.useEffect(()=>e.on("change",r),[])}return e}const a4=n=>n&&typeof n=="object"&&n.mix,l4=n=>a4(n)?n.mix:void 0;function c4(...n){const e=!Array.isArray(n[0]),t=e?0:-1,r=n[0+t],i=n[1+t],s=n[2+t],o=n[3+t],a=pT(i,s,{mixer:l4(s[0]),...o});return e?a(r):a}function YL(n,e){const t=Pw(e()),r=()=>t.set(e());return r(),$g(()=>{const i=()=>Le.update(r,!1,!0),s=n.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ri(r)}}),t}function u4(n){Mf.current=[],n();const e=YL(Mf.current,n);return Mf.current=void 0,e}function _y(n,e,t,r){if(typeof n=="function")return u4(n);const i=typeof e=="function"?e:c4(e,t,r);return Array.isArray(n)?jI(n,i):jI([n],([s])=>i(s))}function jI(n,e){const t=cb(()=>[]);return YL(n,()=>{t.length=0;const r=n.length;for(let i=0;i<r;i++)t[i]=n[i].get();return e(t)})}function FI(n,e={}){const{isStatic:t}=E.useContext(nb),r=E.useRef(null),i=Pw(nn(n)?n.get():n),s=()=>{r.current&&r.current.stop()};return E.useInsertionEffect(()=>i.attach((o,a)=>{if(t)return a(o);if(s(),r.current=sp({keyframes:[i.get(),o],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a}),!Pt.isProcessing){const l=performance.now()-Pt.timestamp;l<30&&(r.current.time=Ii(l))}return i.get()},s),[JSON.stringify(e)]),$g(()=>{if(nn(n))return n.on("change",o=>i.set(parseFloat(o)))},[i]),i}function XL(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=XL(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ah(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=XL(n))&&(r&&(r+=" "),r+=e);return r}function d4(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=qL(e))&&(r&&(r+=" "),r+=t);return r}function qL(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=qL(n[r]))&&(t&&(t+=" "),t+=e);return t}var bT="-";function h4(n){var e=p4(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(bT);return l[0]===""&&l.length!==1&&l.shift(),QL(l,e)||f4(a)}function o(a,l){var c=t[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function QL(n,e){var o;if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),i=r?QL(n.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=n.join(bT);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var BI=/^\[(.+)\]$/;function f4(n){if(BI.test(n)){var e=BI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function p4(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},i=g4(Object.entries(n.classGroups),t);return i.forEach(function(s){var o=s[0],a=s[1];mA(a,r,o,e)}),r}function mA(n,e,t,r){n.forEach(function(i){if(typeof i=="string"){var s=i===""?e:VI(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(m4(i)){mA(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];mA(l,VI(e,a),t,r)})})}function VI(n,e){var t=n;return e.split(bT).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function m4(n){return n.isThemeGetter}function g4(n,e){return e?n.map(function(t){var r=t[0],i=t[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):n}function y4(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function i(s,o){t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(o){var a=t.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){t.has(o)?t.set(o,a):i(o,a)}}}var ZL="!";function v4(n){var e=n.separator||":",t=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,d,h=0;h<o.length;h++){var f=o[h];if(l===0){if(f===r&&(t||o.slice(h,h+i)===e)){a.push(o.slice(c,h)),c=h+i;continue}if(f==="/"){d=h;continue}}f==="["?l++:f==="]"&&l--}var m=a.length===0?o:o.substring(c),v=m.startsWith(ZL),g=v?m.substring(1):m,A=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:A}}}function w4(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function x4(n){return{cache:y4(n.cacheSize),splitModifiers:v4(n),...h4(n)}}var b4=/\s+/;function S4(n,e){var t=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return n.trim().split(b4).map(function(o){var a=t(o),l=a.modifiers,c=a.hasImportantModifier,d=a.baseClassName,h=a.maybePostfixModifierPosition,f=r(h?d.substring(0,h):d),m=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:o};if(f=r(d),!f)return{isTailwindClass:!1,originalClassName:o};m=!1}var v=w4(l).join(":"),g=c?v+ZL:v;return{isTailwindClass:!0,modifierId:g,classGroupId:f,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,d=a+l;return s.has(d)?!1:(s.add(d),i(l,c).forEach(function(h){return s.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function A4(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,i,s,o=a;function a(c){var d=e[0],h=e.slice(1),f=h.reduce(function(m,v){return v(m)},d());return r=x4(f),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var d=i(c);if(d)return d;var h=S4(c,r);return s(c,h),h}return function(){return o(d4.apply(null,arguments))}}function Fe(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var JL=/^\[(?:([a-z-]+):)?(.+)\]$/i,E4=/^\d+\/\d+$/,C4=new Set(["px","full","screen"]),T4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k4=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Cr(n){return La(n)||C4.has(n)||E4.test(n)||gA(n)}function gA(n){return Tc(n,"length",L4)}function I4(n){return Tc(n,"size",eD)}function _4(n){return Tc(n,"position",eD)}function R4(n){return Tc(n,"url",D4)}function Ry(n){return Tc(n,"number",La)}function La(n){return!Number.isNaN(Number(n))}function M4(n){return n.endsWith("%")&&La(n.slice(0,-1))}function Vh(n){return HI(n)||Tc(n,"number",HI)}function xe(n){return JL.test(n)}function Hh(){return!0}function Vs(n){return T4.test(n)}function N4(n){return Tc(n,"",O4)}function Tc(n,e,t){var r=JL.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function L4(n){return P4.test(n)}function eD(){return!1}function D4(n){return n.startsWith("url(")}function HI(n){return Number.isInteger(Number(n))}function O4(n){return k4.test(n)}function j4(){var n=Fe("colors"),e=Fe("spacing"),t=Fe("blur"),r=Fe("brightness"),i=Fe("borderColor"),s=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),m=Fe("gradientColorStops"),v=Fe("gradientColorStopPositions"),g=Fe("inset"),A=Fe("margin"),b=Fe("opacity"),S=Fe("padding"),x=Fe("saturate"),p=Fe("scale"),w=Fe("sepia"),T=Fe("skew"),k=Fe("space"),_=Fe("translate"),R=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",xe,e]},j=function(){return[xe,e]},V=function(){return["",Cr]},L=function(){return["auto",La,xe]},$=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},D=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},O=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",xe]},U=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},W=function(){return[La,Ry]},K=function(){return[La,xe]};return{cacheSize:500,theme:{colors:[Hh],spacing:[Cr],blur:["none","",Vs,xe],brightness:W(),borderColor:[n],borderRadius:["none","","full",Vs,xe],borderSpacing:j(),borderWidth:V(),contrast:W(),grayscale:F(),hueRotate:K(),invert:F(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[M4,gA],inset:N(),margin:N(),opacity:W(),padding:j(),saturate:W(),scale:W(),sepia:F(),skew:K(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($(),[xe])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vh]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Vh]}],"grid-cols":[{"grid-cols":[Hh]}],"col-start-end":[{col:["auto",{span:["full",Vh]},xe]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Hh]}],"row-start-end":[{row:["auto",{span:[Vh]},xe]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(O())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(O(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(O(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",xe,e]}],"min-w":[{"min-w":["min","max","fit",xe,Cr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Vs]},Vs,xe]}],h:[{h:[xe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",xe,Cr]}],"max-h":[{"max-h":[xe,e,"min","max","fit"]}],"font-size":[{text:["base",Vs,gA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ry]}],"font-family":[{font:[Hh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",La,Ry]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xe,Cr]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(D(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr]}],"underline-offset":[{"underline-offset":["auto",xe,Cr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($(),[_4])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R4]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(D(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(D())}],"outline-offset":[{"outline-offset":[xe,Cr]}],"outline-w":[{outline:[Cr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Cr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Vs,N4]}],"shadow-color":[{shadow:[Hh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Vs,xe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[p]}],"scale-x":[{"scale-x":[p]}],"scale-y":[{"scale-y":[p]}],rotate:[{rotate:[Vh,xe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Cr,Ry]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var F4=A4(j4);function Ae(...n){return F4(Ah(n))}function $I(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function hb(...n){return e=>{let t=!1;const r=n.map(i=>{const s=$I(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$I(n[i],null)}}}}function Te(...n){return E.useCallback(hb(...n),n)}function hh(n){const e=V4(n),t=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find($4);if(l){const c=l.props.children,d=a.map(h=>h===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:h);return y.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return y.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var B4=hh("Slot");function V4(n){const e=E.forwardRef((t,r)=>{const{children:i,...s}=t;if(E.isValidElement(i)){const o=U4(i),a=z4(s,i.props);return i.type!==E.Fragment&&(a.ref=r?hb(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var H4=Symbol("radix.slottable");function $4(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===H4}function z4(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function U4(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const zI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,UI=Ah,ST=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return UI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=t==null?void 0:t[c],h=s==null?void 0:s[c];if(d===null)return null;const f=zI(d)||zI(h);return i[c][f]}),a=t&&Object.entries(t).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(v=>{let[g,A]=v;return Array.isArray(A)?A.includes({...s,...a}[g]):{...s,...a}[g]===A})?[...c,h,f]:c},[]);return UI(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)},W4=ST("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),It=J.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?B4:"button";return y.jsx(o,{className:Ae(W4({variant:e,size:t,className:n})),ref:s,...i})});It.displayName="Button";var G4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const K4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),we=(n,e)=>{const t=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>E.createElement("svg",{ref:c,...G4,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${K4(n)}`,...l},[...e.map(([d,h])=>E.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return t.displayName=`${n}`,t},AT=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),WI=we("BookHeart",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M16 8.2C16 7 15 6 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9C9 6 8 7 8 8.2c0 .6.3 1.2.7 1.6h0C10 11.1 12 13 12 13s2-1.9 3.3-3.1h0c.4-.4.7-1 .7-1.7z",key:"1dlbw1"}]]),Df=we("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]),kw=we("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Y4=we("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),tD=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nD=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),X4=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),rD=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),q4=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Q4=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Z4=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),J4=we("Cross",[["path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z",key:"1t5g7j"}]]),eG=we("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),iD=we("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]),sD=we("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),tG=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),nG=we("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),rG=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),oD=we("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),iG=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),sG=we("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),aD=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),oG=we("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),lD=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),cD=we("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),aG=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),lG=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),cG=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),uG=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),uD=we("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),yA=we("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),dG=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),hG=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fG=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vA=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ET=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dD=E.createContext({theme:"system",setTheme:()=>null});function pG({children:n,defaultTheme:e="system",storageKey:t="vite-ui-theme",...r}){const[i,s]=E.useState(()=>localStorage.getItem(t)||e);E.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(t,a),s(a)}};return y.jsx(dD.Provider,{...r,value:o,children:n})}const mG=()=>{const n=E.useContext(dD);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};function X(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function fa(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];const c=h=>{var b;const{scope:f,children:m,...v}=h,g=((b=f==null?void 0:f[n])==null?void 0:b[l])||a,A=E.useMemo(()=>v,Object.values(v));return y.jsx(g.Provider,{value:A,children:m})};c.displayName=s+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[n])==null?void 0:g[l])||a,v=E.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,gG(i,...e)]}function gG(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Ut=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},yG=lC[" useInsertionEffect ".trim().toString()]||Ut;function fh({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=vG({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const d=E.useRef(n!==void 0);E.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=E.useCallback(d=>{var h;if(a){const f=wG(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,n,s,o]);return[l,c]}function vG({defaultProp:n,onChange:e}){const[t,r]=E.useState(n),i=E.useRef(t),s=E.useRef(e);return yG(()=>{s.current=e},[e]),E.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function wG(n){return typeof n=="function"}var xG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=xG.reduce((n,e)=>{const t=hh(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function CT(n,e){n&&Ac.flushSync(()=>n.dispatchEvent(e))}function Kg(n){const e=n+"CollectionProvider",[t,r]=fa(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:A,children:b}=g,S=J.useRef(null),x=J.useRef(new Map).current;return y.jsx(i,{scope:A,itemMap:x,collectionRef:S,children:b})};o.displayName=e;const a=n+"CollectionSlot",l=hh(a),c=J.forwardRef((g,A)=>{const{scope:b,children:S}=g,x=s(a,b),p=Te(A,x.collectionRef);return y.jsx(l,{ref:p,children:S})});c.displayName=a;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=hh(d),m=J.forwardRef((g,A)=>{const{scope:b,children:S,...x}=g,p=J.useRef(null),w=Te(A,p),T=s(d,b);return J.useEffect(()=>(T.itemMap.set(p,{ref:p,...x}),()=>void T.itemMap.delete(p))),y.jsx(f,{[h]:"",ref:w,children:S})});m.displayName=d;function v(g){const A=s(n+"CollectionConsumer",g);return J.useCallback(()=>{const S=A.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(A.itemMap.values()).sort((T,k)=>x.indexOf(T.ref.current)-x.indexOf(k.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,r]}var bG=E.createContext(void 0);function fb(n){const e=E.useContext(bG);return n||e||"ltr"}function In(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function SG(n,e=globalThis==null?void 0:globalThis.document){const t=In(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var AG="DismissableLayer",wA="dismissableLayer.update",EG="dismissableLayer.pointerDownOutside",CG="dismissableLayer.focusOutside",GI,hD=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pb=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=E.useContext(hD),[d,h]=E.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),v=Te(e,k=>h(k)),g=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(A),S=d?g.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,p=S>=b,w=PG(k=>{const _=k.target,R=[...c.branches].some(M=>M.contains(_));!p||R||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},f),T=kG(k=>{const _=k.target;[...c.branches].some(M=>M.contains(_))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},f);return SG(k=>{S===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),E.useEffect(()=>{if(d)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(GI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),KI(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=GI)}},[d,f,t,c]),E.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),KI())},[d,c]),E.useEffect(()=>{const k=()=>m({});return document.addEventListener(wA,k),()=>document.removeEventListener(wA,k)},[]),y.jsx(fe.div,{...l,ref:v,style:{pointerEvents:x?p?"auto":"none":void 0,...n.style},onFocusCapture:X(n.onFocusCapture,T.onFocusCapture),onBlurCapture:X(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:X(n.onPointerDownCapture,w.onPointerDownCapture)})});pb.displayName=AG;var TG="DismissableLayerBranch",fD=E.forwardRef((n,e)=>{const t=E.useContext(hD),r=E.useRef(null),i=Te(e,r);return E.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),y.jsx(fe.div,{...n,ref:i})});fD.displayName=TG;function PG(n,e=globalThis==null?void 0:globalThis.document){const t=In(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){pD(EG,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function kG(n,e=globalThis==null?void 0:globalThis.document){const t=In(n),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&pD(CG,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function KI(){const n=new CustomEvent(wA);document.dispatchEvent(n)}function pD(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?CT(i,s):i.dispatchEvent(s)}var IG=pb,_G=fD,kS=0;function mD(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??YI()),document.body.insertAdjacentElement("beforeend",n[1]??YI()),kS++,()=>{kS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kS--}},[])}function YI(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var IS="focusScope.autoFocusOnMount",_S="focusScope.autoFocusOnUnmount",XI={bubbles:!1,cancelable:!0},RG="FocusScope",TT=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=E.useState(null),c=In(i),d=In(s),h=E.useRef(null),f=Te(e,g=>l(g)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let g=function(x){if(m.paused||!a)return;const p=x.target;a.contains(p)?h.current=p:$s(h.current,{select:!0})},A=function(x){if(m.paused||!a)return;const p=x.relatedTarget;p!==null&&(a.contains(p)||$s(h.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&$s(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",A);const S=new MutationObserver(b);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",A),S.disconnect()}}},[r,a,m.paused]),E.useEffect(()=>{if(a){QI.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(IS,XI);a.addEventListener(IS,c),a.dispatchEvent(b),b.defaultPrevented||(MG(jG(gD(a)),{select:!0}),document.activeElement===g&&$s(a))}return()=>{a.removeEventListener(IS,c),setTimeout(()=>{const b=new CustomEvent(_S,XI);a.addEventListener(_S,d),a.dispatchEvent(b),b.defaultPrevented||$s(g??document.body,{select:!0}),a.removeEventListener(_S,d),QI.remove(m)},0)}}},[a,c,d,m]);const v=E.useCallback(g=>{if(!t&&!r||m.paused)return;const A=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(A&&b){const S=g.currentTarget,[x,p]=NG(S);x&&p?!g.shiftKey&&b===p?(g.preventDefault(),t&&$s(x,{select:!0})):g.shiftKey&&b===x&&(g.preventDefault(),t&&$s(p,{select:!0})):b===S&&g.preventDefault()}},[t,r,m.paused]);return y.jsx(fe.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});TT.displayName=RG;function MG(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if($s(r,{select:e}),document.activeElement!==t)return}function NG(n){const e=gD(n),t=qI(e,n),r=qI(e.reverse(),n);return[t,r]}function gD(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function qI(n,e){for(const t of n)if(!LG(t,{upTo:e}))return t}function LG(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function DG(n){return n instanceof HTMLInputElement&&"select"in n}function $s(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&DG(n)&&e&&n.select()}}var QI=OG();function OG(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=ZI(n,e),n.unshift(e)},remove(e){var t;n=ZI(n,e),(t=n[0])==null||t.resume()}}}function ZI(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function jG(n){return n.filter(e=>e.tagName!=="A")}var FG=lC[" useId ".trim().toString()]||(()=>{}),BG=0;function ph(n){const[e,t]=E.useState(FG());return Ut(()=>{n||t(r=>r??String(BG++))},[n]),n||(e?`radix-${e}`:"")}const VG=["top","right","bottom","left"],ra=Math.min,Yn=Math.max,Iw=Math.round,My=Math.floor,_i=n=>({x:n,y:n}),HG={left:"right",right:"left",bottom:"top",top:"bottom"},$G={start:"end",end:"start"};function xA(n,e,t){return Yn(n,ra(e,t))}function _s(n,e){return typeof n=="function"?n(e):n}function Rs(n){return n.split("-")[0]}function Eh(n){return n.split("-")[1]}function PT(n){return n==="x"?"y":"x"}function kT(n){return n==="y"?"height":"width"}const zG=new Set(["top","bottom"]);function Ci(n){return zG.has(Rs(n))?"y":"x"}function IT(n){return PT(Ci(n))}function UG(n,e,t){t===void 0&&(t=!1);const r=Eh(n),i=IT(n),s=kT(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=_w(o)),[o,_w(o)]}function WG(n){const e=_w(n);return[bA(n),e,bA(e)]}function bA(n){return n.replace(/start|end/g,e=>$G[e])}const JI=["left","right"],e_=["right","left"],GG=["top","bottom"],KG=["bottom","top"];function YG(n,e,t){switch(n){case"top":case"bottom":return t?e?e_:JI:e?JI:e_;case"left":case"right":return e?GG:KG;default:return[]}}function XG(n,e,t,r){const i=Eh(n);let s=YG(Rs(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(bA)))),s}function _w(n){return n.replace(/left|right|bottom|top/g,e=>HG[e])}function qG(n){return{top:0,right:0,bottom:0,left:0,...n}}function yD(n){return typeof n!="number"?qG(n):{top:n,right:n,bottom:n,left:n}}function Rw(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function t_(n,e,t){let{reference:r,floating:i}=n;const s=Ci(e),o=IT(e),a=kT(o),l=Rs(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Eh(e)){case"start":m[o]-=f*(t&&c?-1:1);break;case"end":m[o]+=f*(t&&c?-1:1);break}return m}const QG=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=t_(c,r,l),f=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:A,fn:b}=a[g],{x:S,y:x,data:p,reset:w}=await b({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});d=S??d,h=x??h,m={...m,[A]:{...m[A],...p}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):w.rects),{x:d,y:h}=t_(c,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function op(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=_s(e,n),v=yD(m),A=a[f?h==="floating"?"reference":"floating":h],b=Rw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(A)))==null||t?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),S=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),p=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Rw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:x,strategy:l}):S);return{top:(b.top-w.top+v.top)/p.y,bottom:(w.bottom-b.bottom+v.bottom)/p.y,left:(b.left-w.left+v.left)/p.x,right:(w.right-b.right+v.right)/p.x}}const ZG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=_s(n,e)||{};if(c==null)return{};const h=yD(d),f={x:t,y:r},m=IT(i),v=kT(m),g=await o.getDimensions(c),A=m==="y",b=A?"top":"left",S=A?"bottom":"right",x=A?"clientHeight":"clientWidth",p=s.reference[v]+s.reference[m]-f[m]-s.floating[v],w=f[m]-s.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=T?T[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(T)))&&(k=a.floating[x]||s.floating[v]);const _=p/2-w/2,R=k/2-g[v]/2-1,M=ra(h[b],R),N=ra(h[S],R),j=M,V=k-g[v]-N,L=k/2-g[v]/2+_,$=xA(j,L,V),D=!l.arrow&&Eh(i)!=null&&L!==$&&s.reference[v]/2-(L<j?M:N)-g[v]/2<0,B=D?L<j?L-j:L-V:0;return{[m]:f[m]+B,data:{[m]:$,centerOffset:L-$-B,...D&&{alignmentOffset:B}},reset:D}}}),JG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...A}=_s(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=Rs(i),S=Ci(a),x=Rs(a)===a,p=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(x||!g?[_w(a)]:WG(a)),T=v!=="none";!f&&T&&w.push(...XG(a,g,v,p));const k=[a,...w],_=await op(e,A),R=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(_[b]),h){const L=UG(i,o,p);R.push(_[L[0]],_[L[1]])}if(M=[...M,{placement:i,overflows:R}],!R.every(L=>L<=0)){var N,j;const L=(((N=s.flip)==null?void 0:N.index)||0)+1,$=k[L];if($&&(!(h==="alignment"?S!==Ci($):!1)||M.every(O=>Ci(O.placement)===S?O.overflows[0]>0:!0)))return{data:{index:L,overflows:M},reset:{placement:$}};let D=(j=M.filter(B=>B.overflows[0]<=0).sort((B,O)=>B.overflows[1]-O.overflows[1])[0])==null?void 0:j.placement;if(!D)switch(m){case"bestFit":{var V;const B=(V=M.filter(O=>{if(T){const F=Ci(O.placement);return F===S||F==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(F=>F>0).reduce((F,U)=>F+U,0)]).sort((O,F)=>O[1]-F[1])[0])==null?void 0:V[0];B&&(D=B);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function n_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function r_(n){return VG.some(e=>n[e]>=0)}const e6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=_s(n,e);switch(r){case"referenceHidden":{const s=await op(e,{...i,elementContext:"reference"}),o=n_(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:r_(o)}}}case"escaped":{const s=await op(e,{...i,altBoundary:!0}),o=n_(s,t.floating);return{data:{escapedOffsets:o,escaped:r_(o)}}}default:return{}}}}},vD=new Set(["left","top"]);async function t6(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Rs(t),a=Eh(t),l=Ci(t)==="y",c=vD.has(o)?-1:1,d=s&&l?-1:1,h=_s(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const n6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await t6(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},r6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:A=>{let{x:b,y:S}=A;return{x:b,y:S}}},...l}=_s(n,e),c={x:t,y:r},d=await op(e,l),h=Ci(Rs(i)),f=PT(h);let m=c[f],v=c[h];if(s){const A=f==="y"?"top":"left",b=f==="y"?"bottom":"right",S=m+d[A],x=m-d[b];m=xA(S,m,x)}if(o){const A=h==="y"?"top":"left",b=h==="y"?"bottom":"right",S=v+d[A],x=v-d[b];v=xA(S,v,x)}const g=a.fn({...e,[f]:m,[h]:v});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[f]:s,[h]:o}}}}}},i6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_s(n,e),d={x:t,y:r},h=Ci(i),f=PT(h);let m=d[f],v=d[h];const g=_s(a,e),A=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",p=s.reference[f]-s.floating[x]+A.mainAxis,w=s.reference[f]+s.reference[x]-A.mainAxis;m<p?m=p:m>w&&(m=w)}if(c){var b,S;const x=f==="y"?"width":"height",p=vD.has(Rs(i)),w=s.reference[h]-s.floating[x]+(p&&((b=o.offset)==null?void 0:b[h])||0)+(p?0:A.crossAxis),T=s.reference[h]+s.reference[x]+(p?0:((S=o.offset)==null?void 0:S[h])||0)-(p?A.crossAxis:0);v<w?v=w:v>T&&(v=T)}return{[f]:m,[h]:v}}}},s6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=_s(n,e),d=await op(e,c),h=Rs(i),f=Eh(i),m=Ci(i)==="y",{width:v,height:g}=s.floating;let A,b;h==="top"||h==="bottom"?(A=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,A=f==="end"?"top":"bottom");const S=g-d.top-d.bottom,x=v-d.left-d.right,p=ra(g-d[A],S),w=ra(v-d[b],x),T=!e.middlewareData.shift;let k=p,_=w;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(_=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=S),T&&!f){const M=Yn(d.left,0),N=Yn(d.right,0),j=Yn(d.top,0),V=Yn(d.bottom,0);m?_=v-2*(M!==0||N!==0?M+N:Yn(d.left,d.right)):k=g-2*(j!==0||V!==0?j+V:Yn(d.top,d.bottom))}await l({...e,availableWidth:_,availableHeight:k});const R=await o.getDimensions(a.floating);return v!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function mb(){return typeof window<"u"}function Ch(n){return wD(n)?(n.nodeName||"").toLowerCase():"#document"}function Qn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ni(n){var e;return(e=(wD(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function wD(n){return mb()?n instanceof Node||n instanceof Qn(n).Node:!1}function qr(n){return mb()?n instanceof Element||n instanceof Qn(n).Element:!1}function Mi(n){return mb()?n instanceof HTMLElement||n instanceof Qn(n).HTMLElement:!1}function i_(n){return!mb()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qn(n).ShadowRoot}const o6=new Set(["inline","contents"]);function Yg(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Qr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!o6.has(i)}const a6=new Set(["table","td","th"]);function l6(n){return a6.has(Ch(n))}const c6=[":popover-open",":modal"];function gb(n){return c6.some(e=>{try{return n.matches(e)}catch{return!1}})}const u6=["transform","translate","scale","rotate","perspective"],d6=["transform","translate","scale","rotate","perspective","filter"],h6=["paint","layout","strict","content"];function _T(n){const e=RT(),t=qr(n)?Qr(n):n;return u6.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||d6.some(r=>(t.willChange||"").includes(r))||h6.some(r=>(t.contain||"").includes(r))}function f6(n){let e=ia(n);for(;Mi(e)&&!mh(e);){if(_T(e))return e;if(gb(e))return null;e=ia(e)}return null}function RT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p6=new Set(["html","body","#document"]);function mh(n){return p6.has(Ch(n))}function Qr(n){return Qn(n).getComputedStyle(n)}function yb(n){return qr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ia(n){if(Ch(n)==="html")return n;const e=n.assignedSlot||n.parentNode||i_(n)&&n.host||Ni(n);return i_(e)?e.host:e}function xD(n){const e=ia(n);return mh(e)?n.ownerDocument?n.ownerDocument.body:n.body:Mi(e)&&Yg(e)?e:xD(e)}function ap(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=xD(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Qn(i);if(s){const a=SA(o);return e.concat(o,o.visualViewport||[],Yg(i)?i:[],a&&t?ap(a):[])}return e.concat(i,ap(i,[],t))}function SA(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function bD(n){const e=Qr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Mi(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Iw(t)!==s||Iw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function MT(n){return qr(n)?n:n.contextElement}function mu(n){const e=MT(n);if(!Mi(e))return _i(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=bD(e);let o=(s?Iw(t.width):t.width)/r,a=(s?Iw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const m6=_i(0);function SD(n){const e=Qn(n);return!RT()||!e.visualViewport?m6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qn(n)?!1:e}function gc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=MT(n);let o=_i(1);e&&(r?qr(r)&&(o=mu(r)):o=mu(n));const a=g6(s,t,r)?SD(s):_i(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Qn(s),m=r&&qr(r)?Qn(r):r;let v=f,g=SA(v);for(;g&&r&&m!==v;){const A=mu(g),b=g.getBoundingClientRect(),S=Qr(g),x=b.left+(g.clientLeft+parseFloat(S.paddingLeft))*A.x,p=b.top+(g.clientTop+parseFloat(S.paddingTop))*A.y;l*=A.x,c*=A.y,d*=A.x,h*=A.y,l+=x,c+=p,v=Qn(g),g=SA(v)}}return Rw({width:d,height:h,x:l,y:c})}function vb(n,e){const t=yb(n).scrollLeft;return e?e.left+t:gc(Ni(n)).left+t}function AD(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-vb(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function y6(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Ni(r),a=e?gb(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=_i(1);const d=_i(0),h=Mi(r);if((h||!h&&!s)&&((Ch(r)!=="body"||Yg(o))&&(l=yb(r)),Mi(r))){const m=gc(r);c=mu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?AD(o,l):_i(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:t.y*c.y-l.scrollTop*c.y+d.y+f.y}}function v6(n){return Array.from(n.getClientRects())}function w6(n){const e=Ni(n),t=yb(n),r=n.ownerDocument.body,i=Yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+vb(n);const a=-t.scrollTop;return Qr(r).direction==="rtl"&&(o+=Yn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const s_=25;function x6(n,e){const t=Qn(n),r=Ni(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=RT();(!d||d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=vb(r);if(c<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-m);v<=s_&&(s-=v)}else c<=s_&&(s+=c);return{width:s,height:o,x:a,y:l}}const b6=new Set(["absolute","fixed"]);function S6(n,e){const t=gc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Mi(n)?mu(n):_i(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function o_(n,e,t){let r;if(e==="viewport")r=x6(n,t);else if(e==="document")r=w6(Ni(n));else if(qr(e))r=S6(e,t);else{const i=SD(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Rw(r)}function ED(n,e){const t=ia(n);return t===e||!qr(t)||mh(t)?!1:Qr(t).position==="fixed"||ED(t,e)}function A6(n,e){const t=e.get(n);if(t)return t;let r=ap(n,[],!1).filter(a=>qr(a)&&Ch(a)!=="body"),i=null;const s=Qr(n).position==="fixed";let o=s?ia(n):n;for(;qr(o)&&!mh(o);){const a=Qr(o),l=_T(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&b6.has(i.position)||Yg(o)&&!l&&ED(n,o))?r=r.filter(d=>d!==o):i=a,o=ia(o)}return e.set(n,r),r}function E6(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?gb(e)?[]:A6(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,d)=>{const h=o_(e,d,i);return c.top=Yn(h.top,c.top),c.right=ra(h.right,c.right),c.bottom=ra(h.bottom,c.bottom),c.left=Yn(h.left,c.left),c},o_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function C6(n){const{width:e,height:t}=bD(n);return{width:e,height:t}}function T6(n,e,t){const r=Mi(e),i=Ni(e),s=t==="fixed",o=gc(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=_i(0);function c(){l.x=vb(i)}if(r||!r&&!s)if((Ch(e)!=="body"||Yg(i))&&(a=yb(e)),r){const m=gc(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?AD(i,a):_i(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function RS(n){return Qr(n).position==="static"}function a_(n,e){if(!Mi(n)||Qr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ni(n)===t&&(t=t.ownerDocument.body),t}function CD(n,e){const t=Qn(n);if(gb(n))return t;if(!Mi(n)){let i=ia(n);for(;i&&!mh(i);){if(qr(i)&&!RS(i))return i;i=ia(i)}return t}let r=a_(n,e);for(;r&&l6(r)&&RS(r);)r=a_(r,e);return r&&mh(r)&&RS(r)&&!_T(r)?t:r||f6(n)||t}const P6=async function(n){const e=this.getOffsetParent||CD,t=this.getDimensions,r=await t(n.floating);return{reference:T6(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function k6(n){return Qr(n).direction==="rtl"}const I6={convertOffsetParentRelativeRectToViewportRelativeRect:y6,getDocumentElement:Ni,getClippingRect:E6,getOffsetParent:CD,getElementRects:P6,getClientRects:v6,getDimensions:C6,getScale:mu,isElement:qr,isRTL:k6};function TD(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function _6(n,e){let t=null,r;const i=Ni(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=c;if(a||e(),!f||!m)return;const v=My(h),g=My(i.clientWidth-(d+f)),A=My(i.clientHeight-(h+m)),b=My(d),x={rootMargin:-v+"px "+-g+"px "+-A+"px "+-b+"px",threshold:Yn(0,ra(1,l))||1};let p=!0;function w(T){const k=T[0].intersectionRatio;if(k!==l){if(!p)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!TD(c,n.getBoundingClientRect())&&o(),p=!1}try{t=new IntersectionObserver(w,{...x,root:i.ownerDocument})}catch{t=new IntersectionObserver(w,x)}t.observe(n)}return o(!0),s}function R6(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=MT(n),d=i||s?[...c?ap(c):[],...ap(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const h=c&&a?_6(c,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[S]=b;S&&S.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?gc(n):null;l&&A();function A(){const b=gc(n);g&&!TD(g,b)&&t(),g=b,v=requestAnimationFrame(A)}return t(),()=>{var b;d.forEach(S=>{i&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const M6=n6,N6=r6,L6=JG,D6=s6,O6=e6,l_=ZG,j6=i6,F6=(n,e,t)=>{const r=new Map,i={platform:I6,...t},s={...i.platform,_c:r};return QG(n,e,{...i,platform:s})};var B6=typeof document<"u",V6=function(){},lv=B6?E.useLayoutEffect:V6;function Mw(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Mw(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Mw(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function PD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function c_(n,e){const t=PD(n);return Math.round(e*t)/t}function MS(n){const e=E.useRef(n);return lv(()=>{e.current=n}),e}function H6(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,h]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=E.useState(r);Mw(f,r)||m(r);const[v,g]=E.useState(null),[A,b]=E.useState(null),S=E.useCallback(O=>{O!==T.current&&(T.current=O,g(O))},[]),x=E.useCallback(O=>{O!==k.current&&(k.current=O,b(O))},[]),p=s||v,w=o||A,T=E.useRef(null),k=E.useRef(null),_=E.useRef(d),R=l!=null,M=MS(l),N=MS(i),j=MS(c),V=E.useCallback(()=>{if(!T.current||!k.current)return;const O={placement:e,strategy:t,middleware:f};N.current&&(O.platform=N.current),F6(T.current,k.current,O).then(F=>{const U={...F,isPositioned:j.current!==!1};L.current&&!Mw(_.current,U)&&(_.current=U,Ac.flushSync(()=>{h(U)}))})},[f,e,t,N,j]);lv(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[c]);const L=E.useRef(!1);lv(()=>(L.current=!0,()=>{L.current=!1}),[]),lv(()=>{if(p&&(T.current=p),w&&(k.current=w),p&&w){if(M.current)return M.current(p,w,V);V()}},[p,w,V,M,R]);const $=E.useMemo(()=>({reference:T,floating:k,setReference:S,setFloating:x}),[S,x]),D=E.useMemo(()=>({reference:p,floating:w}),[p,w]),B=E.useMemo(()=>{const O={position:t,left:0,top:0};if(!D.floating)return O;const F=c_(D.floating,d.x),U=c_(D.floating,d.y);return a?{...O,transform:"translate("+F+"px, "+U+"px)",...PD(D.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:U}},[t,a,D.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:V,refs:$,elements:D,floatingStyles:B}),[d,V,$,D,B])}const $6=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?l_({element:r.current,padding:i}).fn(t):{}:r?l_({element:r,padding:i}).fn(t):{}}}},z6=(n,e)=>({...M6(n),options:[n,e]}),U6=(n,e)=>({...N6(n),options:[n,e]}),W6=(n,e)=>({...j6(n),options:[n,e]}),G6=(n,e)=>({...L6(n),options:[n,e]}),K6=(n,e)=>({...D6(n),options:[n,e]}),Y6=(n,e)=>({...O6(n),options:[n,e]}),X6=(n,e)=>({...$6(n),options:[n,e]});var q6="Arrow",kD=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return y.jsx(fe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});kD.displayName=q6;var Q6=kD;function ID(n){const[e,t]=E.useState(void 0);return Ut(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var NT="Popper",[_D,wb]=fa(NT),[Z6,RD]=_D(NT),MD=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return y.jsx(Z6,{scope:e,anchor:r,onAnchorChange:i,children:t})};MD.displayName=NT;var ND="PopperAnchor",LD=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=RD(ND,t),o=E.useRef(null),a=Te(e,o),l=E.useRef(null);return E.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:y.jsx(fe.div,{...i,ref:a})});LD.displayName=ND;var LT="PopperContent",[J6,e8]=_D(LT),DD=E.forwardRef((n,e)=>{var G,he,ue,te,se,me;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=n,A=RD(LT,t),[b,S]=E.useState(null),x=Te(e,oe=>S(oe)),[p,w]=E.useState(null),T=ID(p),k=(T==null?void 0:T.width)??0,_=(T==null?void 0:T.height)??0,R=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],j=N.length>0,V={padding:M,boundary:N.filter(n8),altBoundary:j},{refs:L,floatingStyles:$,placement:D,isPositioned:B,middlewareData:O}=H6({strategy:"fixed",placement:R,whileElementsMounted:(...oe)=>R6(...oe,{animationFrame:m==="always"}),elements:{reference:A.anchor},middleware:[z6({mainAxis:i+_,alignmentAxis:o}),l&&U6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?W6():void 0,...V}),l&&G6({...V}),K6({...V,apply:({elements:oe,rects:Se,availableWidth:je,availableHeight:He})=>{const{width:nr,height:ga}=Se.reference,Os=oe.floating.style;Os.setProperty("--radix-popper-available-width",`${je}px`),Os.setProperty("--radix-popper-available-height",`${He}px`),Os.setProperty("--radix-popper-anchor-width",`${nr}px`),Os.setProperty("--radix-popper-anchor-height",`${ga}px`)}}),p&&X6({element:p,padding:a}),r8({arrowWidth:k,arrowHeight:_}),f&&Y6({strategy:"referenceHidden",...V})]}),[F,U]=FD(D),W=In(v);Ut(()=>{B&&(W==null||W())},[B,W]);const K=(G=O.arrow)==null?void 0:G.x,Z=(he=O.arrow)==null?void 0:he.y,de=((ue=O.arrow)==null?void 0:ue.centerOffset)!==0,[Pe,ce]=E.useState();return Ut(()=>{b&&ce(window.getComputedStyle(b).zIndex)},[b]),y.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:B?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(te=O.transformOrigin)==null?void 0:te.x,(se=O.transformOrigin)==null?void 0:se.y].join(" "),...((me=O.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(J6,{scope:t,placedSide:F,onArrowChange:w,arrowX:K,arrowY:Z,shouldHideArrow:de,children:y.jsx(fe.div,{"data-side":F,"data-align":U,...g,ref:x,style:{...g.style,animation:B?void 0:"none"}})})})});DD.displayName=LT;var OD="PopperArrow",t8={top:"bottom",right:"left",bottom:"top",left:"right"},jD=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=e8(OD,r),o=t8[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(Q6,{...i,ref:t,style:{...i.style,display:"block"}})})});jD.displayName=OD;function n8(n){return n!==null}var r8=n=>({name:"transformOrigin",options:n,fn(e){var A,b,S;const{placement:t,rects:r,middlewareData:i}=e,o=((A=i.arrow)==null?void 0:A.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,d]=FD(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,m=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?h:`${f}px`,g=`${-l}px`):c==="top"?(v=o?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?h:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?h:`${m}px`),{data:{x:v,y:g}}}});function FD(n){const[e,t="center"]=n.split("-");return[e,t]}var BD=MD,VD=LD,HD=DD,$D=jD,i8="Portal",xb=E.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=E.useState(!1);Ut(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?VH.createPortal(y.jsx(fe.div,{...r,ref:e}),o):null});xb.displayName=i8;function s8(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Th=n=>{const{present:e,children:t}=n,r=o8(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),s=Te(r.ref,a8(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Th.displayName="Presence";function o8(n){const[e,t]=E.useState(),r=E.useRef(null),i=E.useRef(n),s=E.useRef("none"),o=n?"mounted":"unmounted",[a,l]=s8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=Ny(r.current);s.current=a==="mounted"?c:"none"},[a]),Ut(()=>{const c=r.current,d=i.current;if(d!==n){const f=s.current,m=Ny(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Ut(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const g=Ny(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},f=m=>{m.target===e&&(s.current=Ny(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function Ny(n){return(n==null?void 0:n.animationName)||"none"}function a8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var NS="rovingFocusGroup.onEntryFocus",l8={bubbles:!1,cancelable:!0},Xg="RovingFocusGroup",[AA,zD,c8]=Kg(Xg),[u8,UD]=fa(Xg,[c8]),[d8,h8]=u8(Xg),WD=E.forwardRef((n,e)=>y.jsx(AA.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(AA.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(f8,{...n,ref:e})})}));WD.displayName=Xg;var f8=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=n,f=E.useRef(null),m=Te(e,f),v=fb(s),[g,A]=fh({prop:o,defaultProp:a??null,onChange:l,caller:Xg}),[b,S]=E.useState(!1),x=In(c),p=zD(t),w=E.useRef(!1),[T,k]=E.useState(0);return E.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(NS,x),()=>_.removeEventListener(NS,x)},[x]),y.jsx(d8,{scope:t,orientation:r,dir:v,loop:i,currentTabStopId:g,onItemFocus:E.useCallback(_=>A(_),[A]),onItemShiftTab:E.useCallback(()=>S(!0),[]),onFocusableItemAdd:E.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:E.useCallback(()=>k(_=>_-1),[]),children:y.jsx(fe.div,{tabIndex:b||T===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...n.style},onMouseDown:X(n.onMouseDown,()=>{w.current=!0}),onFocus:X(n.onFocus,_=>{const R=!w.current;if(_.target===_.currentTarget&&R&&!b){const M=new CustomEvent(NS,l8);if(_.currentTarget.dispatchEvent(M),!M.defaultPrevented){const N=p().filter(D=>D.focusable),j=N.find(D=>D.active),V=N.find(D=>D.id===g),$=[j,V,...N].filter(Boolean).map(D=>D.ref.current);YD($,d)}}w.current=!1}),onBlur:X(n.onBlur,()=>S(!1))})})}),GD="RovingFocusGroupItem",KD=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=ph(),c=s||l,d=h8(GD,t),h=d.currentTabStopId===c,f=zD(t),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return E.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),y.jsx(AA.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:y.jsx(fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:X(n.onMouseDown,A=>{r?d.onItemFocus(c):A.preventDefault()}),onFocus:X(n.onFocus,()=>d.onItemFocus(c)),onKeyDown:X(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){d.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const b=g8(A,d.orientation,d.dir);if(b!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let x=f().filter(p=>p.focusable).map(p=>p.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const p=x.indexOf(A.currentTarget);x=d.loop?y8(x,p+1):x.slice(p+1)}setTimeout(()=>YD(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});KD.displayName=GD;var p8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function g8(n,e,t){const r=m8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return p8[r]}function YD(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function y8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var v8=WD,w8=KD,x8=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Nc=new WeakMap,Ly=new WeakMap,Dy={},LS=0,XD=function(n){return n&&(n.host||XD(n.parentNode))},b8=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=XD(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},S8=function(n,e,t,r){var i=b8(e,Array.isArray(n)?n:[n]);Dy[t]||(Dy[t]=new WeakMap);var s=Dy[t],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),v=m!==null&&m!=="false",g=(Nc.get(f)||0)+1,A=(s.get(f)||0)+1;Nc.set(f,g),s.set(f,A),o.push(f),g===1&&v&&Ly.set(f,!0),A===1&&f.setAttribute(t,"true"),v||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(e),a.clear(),LS++,function(){o.forEach(function(h){var f=Nc.get(h)-1,m=s.get(h)-1;Nc.set(h,f),s.set(h,m),f||(Ly.has(h)||h.removeAttribute(r),Ly.delete(h)),m||h.removeAttribute(t)}),LS--,LS||(Nc=new WeakMap,Nc=new WeakMap,Ly=new WeakMap,Dy={})}},qD=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=e||x8(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),S8(r,i,t,"aria-hidden")):function(){return null}},Ai=function(){return Ai=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ai.apply(this,arguments)};function QD(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function A8(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var cv="right-scroll-bar-position",uv="width-before-scroll-bar",E8="with-scroll-bars-hidden",C8="--removed-body-scroll-bar-size";function DS(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function T8(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var P8=typeof window<"u"?E.useLayoutEffect:E.useEffect,u_=new WeakMap;function k8(n,e){var t=T8(e||null,function(r){return n.forEach(function(i){return DS(i,r)})});return P8(function(){var r=u_.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||DS(a,null)}),s.forEach(function(a){i.has(a)||DS(a,o)})}u_.set(t,n)},[n]),t}function I8(n){return n}function _8(n,e){e===void 0&&(e=I8);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),t}}}};return i}function R8(n){n===void 0&&(n={});var e=_8(null);return e.options=Ai({async:!0,ssr:!1},n),e}var ZD=function(n){var e=n.sideCar,t=QD(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Ai({},t))};ZD.isSideCarExport=!0;function M8(n,e){return n.useMedium(e),ZD}var JD=R8(),OS=function(){},bb=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:OS,onWheelCapture:OS,onTouchMoveCapture:OS}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,d=n.enabled,h=n.shards,f=n.sideCar,m=n.noRelative,v=n.noIsolation,g=n.inert,A=n.allowPinchZoom,b=n.as,S=b===void 0?"div":b,x=n.gapMode,p=QD(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,T=k8([t,e]),k=Ai(Ai({},p),i);return E.createElement(E.Fragment,null,d&&E.createElement(w,{sideCar:JD,removeScrollBar:c,shards:h,noRelative:m,noIsolation:v,inert:g,setCallbacks:s,allowPinchZoom:!!A,lockRef:t,gapMode:x}),o?E.cloneElement(E.Children.only(a),Ai(Ai({},k),{ref:T})):E.createElement(S,Ai({},k,{className:l,ref:T}),a))});bb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bb.classNames={fullWidth:uv,zeroRight:cv};var d_,N8=function(){if(d_)return d_;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L8(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=N8();return e&&n.setAttribute("nonce",e),n}function D8(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function O8(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var j8=function(){var n=0,e=null;return{add:function(t){n==0&&(e=L8())&&(D8(e,t),O8(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F8=function(){var n=j8();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},e2=function(){var n=F8(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},B8={left:0,top:0,right:0,gap:0},jS=function(n){return parseInt(n||"",10)||0},V8=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[jS(t),jS(r),jS(i)]},H8=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return B8;var e=V8(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},$8=e2(),gu="data-scroll-locked",z8=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(E8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(gu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cv," .").concat(cv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uv," .").concat(uv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gu,`] {
    `).concat(C8,": ").concat(a,`px;
  }
`)},h_=function(){var n=parseInt(document.body.getAttribute(gu)||"0",10);return isFinite(n)?n:0},U8=function(){E.useEffect(function(){return document.body.setAttribute(gu,(h_()+1).toString()),function(){var n=h_()-1;n<=0?document.body.removeAttribute(gu):document.body.setAttribute(gu,n.toString())}},[])},W8=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;U8();var s=E.useMemo(function(){return H8(i)},[i]);return E.createElement($8,{styles:z8(s,!e,i,t?"":"!important")})},EA=!1;if(typeof window<"u")try{var Oy=Object.defineProperty({},"passive",{get:function(){return EA=!0,!0}});window.addEventListener("test",Oy,Oy),window.removeEventListener("test",Oy,Oy)}catch{EA=!1}var Lc=EA?{passive:!1}:!1,G8=function(n){return n.tagName==="TEXTAREA"},t2=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!G8(n)&&t[e]==="visible")},K8=function(n){return t2(n,"overflowY")},Y8=function(n){return t2(n,"overflowX")},f_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=n2(n,r);if(i){var s=r2(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},X8=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},q8=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},n2=function(n,e){return n==="v"?K8(e):Y8(e)},r2=function(n,e){return n==="v"?X8(e):q8(e)},Q8=function(n,e){return n==="h"&&e==="rtl"?-1:1},Z8=function(n,e,t,r,i){var s=Q8(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=r2(n,a),v=m[0],g=m[1],A=m[2],b=g-A-s*v;(v||b)&&n2(n,a)&&(h+=b,f+=v);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(i&&Math.abs(h)<1||!i&&o>h)||!d&&(i&&Math.abs(f)<1||!i&&-o>f))&&(c=!0),c},jy=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},p_=function(n){return[n.deltaX,n.deltaY]},m_=function(n){return n&&"current"in n?n.current:n},J8=function(n,e){return n[0]===e[0]&&n[1]===e[1]},eK=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},tK=0,Dc=[];function nK(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(tK++)[0],s=E.useState(e2)[0],o=E.useRef(n);E.useEffect(function(){o.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var g=A8([n.lockRef.current],(n.shards||[]).map(m_),!0).filter(Boolean);return g.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=E.useCallback(function(g,A){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=jy(g),S=t.current,x="deltaX"in g?g.deltaX:S[0]-b[0],p="deltaY"in g?g.deltaY:S[1]-b[1],w,T=g.target,k=Math.abs(x)>Math.abs(p)?"h":"v";if("touches"in g&&k==="h"&&T.type==="range")return!1;var _=f_(k,T);if(!_)return!0;if(_?w=k:(w=k==="v"?"h":"v",_=f_(k,T)),!_)return!1;if(!r.current&&"changedTouches"in g&&(x||p)&&(r.current=w),!w)return!0;var R=r.current||w;return Z8(R,A,g,R==="h"?x:p,!0)},[]),l=E.useCallback(function(g){var A=g;if(!(!Dc.length||Dc[Dc.length-1]!==s)){var b="deltaY"in A?p_(A):jy(A),S=e.current.filter(function(w){return w.name===A.type&&(w.target===A.target||A.target===w.shadowParent)&&J8(w.delta,b)})[0];if(S&&S.should){A.cancelable&&A.preventDefault();return}if(!S){var x=(o.current.shards||[]).map(m_).filter(Boolean).filter(function(w){return w.contains(A.target)}),p=x.length>0?a(A,x[0]):!o.current.noIsolation;p&&A.cancelable&&A.preventDefault()}}},[]),c=E.useCallback(function(g,A,b,S){var x={name:g,delta:A,target:b,should:S,shadowParent:rK(b)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(p){return p!==x})},1)},[]),d=E.useCallback(function(g){t.current=jy(g),r.current=void 0},[]),h=E.useCallback(function(g){c(g.type,p_(g),g.target,a(g,n.lockRef.current))},[]),f=E.useCallback(function(g){c(g.type,jy(g),g.target,a(g,n.lockRef.current))},[]);E.useEffect(function(){return Dc.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Lc),document.addEventListener("touchmove",l,Lc),document.addEventListener("touchstart",d,Lc),function(){Dc=Dc.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Lc),document.removeEventListener("touchmove",l,Lc),document.removeEventListener("touchstart",d,Lc)}},[]);var m=n.removeScrollBar,v=n.inert;return E.createElement(E.Fragment,null,v?E.createElement(s,{styles:eK(i)}):null,m?E.createElement(W8,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function rK(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const iK=M8(JD,nK);var i2=E.forwardRef(function(n,e){return E.createElement(bb,Ai({},n,{ref:e,sideCar:iK}))});i2.classNames=bb.classNames;const s2=i2;var CA=["Enter"," "],sK=["ArrowDown","PageUp","Home"],o2=["ArrowUp","PageDown","End"],oK=[...sK,...o2],aK={ltr:[...CA,"ArrowRight"],rtl:[...CA,"ArrowLeft"]},lK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qg="Menu",[lp,cK,uK]=Kg(qg),[Pc,a2]=fa(qg,[uK,wb,UD]),Sb=wb(),l2=UD(),[dK,kc]=Pc(qg),[hK,Qg]=Pc(qg),c2=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=Sb(e),[l,c]=E.useState(null),d=E.useRef(!1),h=In(s),f=fb(i);return E.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),y.jsx(BD,{...a,children:y.jsx(dK,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:c,children:y.jsx(hK,{scope:e,onClose:E.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};c2.displayName=qg;var fK="MenuAnchor",DT=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Sb(t);return y.jsx(VD,{...i,...r,ref:e})});DT.displayName=fK;var OT="MenuPortal",[pK,u2]=Pc(OT,{forceMount:void 0}),d2=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=kc(OT,e);return y.jsx(pK,{scope:e,forceMount:t,children:y.jsx(Th,{present:t||s.open,children:y.jsx(xb,{asChild:!0,container:i,children:r})})})};d2.displayName=OT;var xr="MenuContent",[mK,jT]=Pc(xr),h2=E.forwardRef((n,e)=>{const t=u2(xr,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=kc(xr,n.__scopeMenu),o=Qg(xr,n.__scopeMenu);return y.jsx(lp.Provider,{scope:n.__scopeMenu,children:y.jsx(Th,{present:r||s.open,children:y.jsx(lp.Slot,{scope:n.__scopeMenu,children:o.modal?y.jsx(gK,{...i,ref:e}):y.jsx(yK,{...i,ref:e})})})})}),gK=E.forwardRef((n,e)=>{const t=kc(xr,n.__scopeMenu),r=E.useRef(null),i=Te(e,r);return E.useEffect(()=>{const s=r.current;if(s)return qD(s)},[]),y.jsx(FT,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:X(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),yK=E.forwardRef((n,e)=>{const t=kc(xr,n.__scopeMenu);return y.jsx(FT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),vK=hh("MenuContent.ScrollLock"),FT=E.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:v,...g}=n,A=kc(xr,t),b=Qg(xr,t),S=Sb(t),x=l2(t),p=cK(t),[w,T]=E.useState(null),k=E.useRef(null),_=Te(e,k,A.onContentChange),R=E.useRef(0),M=E.useRef(""),N=E.useRef(0),j=E.useRef(null),V=E.useRef("right"),L=E.useRef(0),$=v?s2:E.Fragment,D=v?{as:vK,allowPinchZoom:!0}:void 0,B=F=>{var G,he;const U=M.current+F,W=p().filter(ue=>!ue.disabled),K=document.activeElement,Z=(G=W.find(ue=>ue.ref.current===K))==null?void 0:G.textValue,de=W.map(ue=>ue.textValue),Pe=_K(de,U,Z),ce=(he=W.find(ue=>ue.textValue===Pe))==null?void 0:he.ref.current;(function ue(te){M.current=te,window.clearTimeout(R.current),te!==""&&(R.current=window.setTimeout(()=>ue(""),1e3))})(U),ce&&setTimeout(()=>ce.focus())};E.useEffect(()=>()=>window.clearTimeout(R.current),[]),mD();const O=E.useCallback(F=>{var W,K;return V.current===((W=j.current)==null?void 0:W.side)&&MK(F,(K=j.current)==null?void 0:K.area)},[]);return y.jsx(mK,{scope:t,searchRef:M,onItemEnter:E.useCallback(F=>{O(F)&&F.preventDefault()},[O]),onItemLeave:E.useCallback(F=>{var U;O(F)||((U=k.current)==null||U.focus(),T(null))},[O]),onTriggerLeave:E.useCallback(F=>{O(F)&&F.preventDefault()},[O]),pointerGraceTimerRef:N,onPointerGraceIntentChange:E.useCallback(F=>{j.current=F},[]),children:y.jsx($,{...D,children:y.jsx(TT,{asChild:!0,trapped:i,onMountAutoFocus:X(s,F=>{var U;F.preventDefault(),(U=k.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(pb,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:y.jsx(v8,{asChild:!0,...x,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:T,onEntryFocus:X(l,F=>{b.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(HD,{role:"menu","aria-orientation":"vertical","data-state":k2(A.open),"data-radix-menu-content":"",dir:b.dir,...S,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:X(g.onKeyDown,F=>{const W=F.target.closest("[data-radix-menu-content]")===F.currentTarget,K=F.ctrlKey||F.altKey||F.metaKey,Z=F.key.length===1;W&&(F.key==="Tab"&&F.preventDefault(),!K&&Z&&B(F.key));const de=k.current;if(F.target!==de||!oK.includes(F.key))return;F.preventDefault();const ce=p().filter(G=>!G.disabled).map(G=>G.ref.current);o2.includes(F.key)&&ce.reverse(),kK(ce)}),onBlur:X(n.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(R.current),M.current="")}),onPointerMove:X(n.onPointerMove,cp(F=>{const U=F.target,W=L.current!==F.clientX;if(F.currentTarget.contains(U)&&W){const K=F.clientX>L.current?"right":"left";V.current=K,L.current=F.clientX}}))})})})})})})});h2.displayName=xr;var wK="MenuGroup",BT=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return y.jsx(fe.div,{role:"group",...r,ref:e})});BT.displayName=wK;var xK="MenuLabel",f2=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return y.jsx(fe.div,{...r,ref:e})});f2.displayName=xK;var Nw="MenuItem",g_="menu.itemSelect",Ab=E.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=E.useRef(null),o=Qg(Nw,n.__scopeMenu),a=jT(Nw,n.__scopeMenu),l=Te(e,s),c=E.useRef(!1),d=()=>{const h=s.current;if(!t&&h){const f=new CustomEvent(g_,{bubbles:!0,cancelable:!0});h.addEventListener(g_,m=>r==null?void 0:r(m),{once:!0}),CT(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return y.jsx(p2,{...i,ref:l,disabled:t,onClick:X(n.onClick,d),onPointerDown:h=>{var f;(f=n.onPointerDown)==null||f.call(n,h),c.current=!0},onPointerUp:X(n.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:X(n.onKeyDown,h=>{const f=a.searchRef.current!=="";t||f&&h.key===" "||CA.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ab.displayName=Nw;var p2=E.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=jT(Nw,t),a=l2(t),l=E.useRef(null),c=Te(e,l),[d,h]=E.useState(!1),[f,m]=E.useState("");return E.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[s.children]),y.jsx(lp.ItemSlot,{scope:t,disabled:r,textValue:i??f,children:y.jsx(w8,{asChild:!0,...a,focusable:!r,children:y.jsx(fe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:X(n.onPointerMove,cp(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(n.onPointerLeave,cp(v=>o.onItemLeave(v))),onFocus:X(n.onFocus,()=>h(!0)),onBlur:X(n.onBlur,()=>h(!1))})})})}),bK="MenuCheckboxItem",m2=E.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return y.jsx(x2,{scope:n.__scopeMenu,checked:t,children:y.jsx(Ab,{role:"menuitemcheckbox","aria-checked":Lw(t)?"mixed":t,...i,ref:e,"data-state":HT(t),onSelect:X(i.onSelect,()=>r==null?void 0:r(Lw(t)?!0:!t),{checkForDefaultPrevented:!1})})})});m2.displayName=bK;var g2="MenuRadioGroup",[SK,AK]=Pc(g2,{value:void 0,onValueChange:()=>{}}),y2=E.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=In(r);return y.jsx(SK,{scope:n.__scopeMenu,value:t,onValueChange:s,children:y.jsx(BT,{...i,ref:e})})});y2.displayName=g2;var v2="MenuRadioItem",w2=E.forwardRef((n,e)=>{const{value:t,...r}=n,i=AK(v2,n.__scopeMenu),s=t===i.value;return y.jsx(x2,{scope:n.__scopeMenu,checked:s,children:y.jsx(Ab,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":HT(s),onSelect:X(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});w2.displayName=v2;var VT="MenuItemIndicator",[x2,EK]=Pc(VT,{checked:!1}),b2=E.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=EK(VT,t);return y.jsx(Th,{present:r||Lw(s.checked)||s.checked===!0,children:y.jsx(fe.span,{...i,ref:e,"data-state":HT(s.checked)})})});b2.displayName=VT;var CK="MenuSeparator",S2=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return y.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});S2.displayName=CK;var TK="MenuArrow",A2=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Sb(t);return y.jsx($D,{...i,...r,ref:e})});A2.displayName=TK;var PK="MenuSub",[QQ,E2]=Pc(PK),Jh="MenuSubTrigger",C2=E.forwardRef((n,e)=>{const t=kc(Jh,n.__scopeMenu),r=Qg(Jh,n.__scopeMenu),i=E2(Jh,n.__scopeMenu),s=jT(Jh,n.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},d=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>d,[d]),E.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),y.jsx(DT,{asChild:!0,...c,children:y.jsx(p2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":k2(t.open),...n,ref:hb(e,i.onTriggerChange),onClick:h=>{var f;(f=n.onClick)==null||f.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:X(n.onPointerMove,cp(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:X(n.onPointerLeave,cp(h=>{var m,v;d();const f=(m=t.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(v=t.content)==null?void 0:v.dataset.side,A=g==="right",b=A?-5:5,S=f[A?"left":"right"],x=f[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:S,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:S,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:X(n.onKeyDown,h=>{var m;const f=s.searchRef.current!=="";n.disabled||f&&h.key===" "||aK[r.dir].includes(h.key)&&(t.onOpenChange(!0),(m=t.content)==null||m.focus(),h.preventDefault())})})})});C2.displayName=Jh;var T2="MenuSubContent",P2=E.forwardRef((n,e)=>{const t=u2(xr,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=kc(xr,n.__scopeMenu),o=Qg(xr,n.__scopeMenu),a=E2(T2,n.__scopeMenu),l=E.useRef(null),c=Te(e,l);return y.jsx(lp.Provider,{scope:n.__scopeMenu,children:y.jsx(Th,{present:r||s.open,children:y.jsx(lp.Slot,{scope:n.__scopeMenu,children:y.jsx(FT,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:X(n.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:X(n.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:X(n.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=lK[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});P2.displayName=T2;function k2(n){return n?"open":"closed"}function Lw(n){return n==="indeterminate"}function HT(n){return Lw(n)?"indeterminate":n?"checked":"unchecked"}function kK(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function IK(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function _K(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=IK(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function RK(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&t<(h-c)*(r-d)/(f-d)+c&&(i=!i)}return i}function MK(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return RK(t,e)}function cp(n){return e=>e.pointerType==="mouse"?n(e):void 0}var NK=c2,LK=DT,DK=d2,OK=h2,jK=BT,FK=f2,BK=Ab,VK=m2,HK=y2,$K=w2,zK=b2,UK=S2,WK=A2,GK=C2,KK=P2,Eb="DropdownMenu",[YK,ZQ]=fa(Eb,[a2]),yn=a2(),[XK,I2]=YK(Eb),_2=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=yn(e),c=E.useRef(null),[d,h]=fh({prop:i,defaultProp:s??!1,onChange:o,caller:Eb});return y.jsx(XK,{scope:e,triggerId:ph(),triggerRef:c,contentId:ph(),open:d,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(f=>!f),[h]),modal:a,children:y.jsx(NK,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:t})})};_2.displayName=Eb;var R2="DropdownMenuTrigger",M2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=I2(R2,t),o=yn(t);return y.jsx(LK,{asChild:!0,...o,children:y.jsx(fe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:hb(e,s.triggerRef),onPointerDown:X(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:X(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});M2.displayName=R2;var qK="DropdownMenuPortal",N2=n=>{const{__scopeDropdownMenu:e,...t}=n,r=yn(e);return y.jsx(DK,{...r,...t})};N2.displayName=qK;var L2="DropdownMenuContent",D2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=I2(L2,t),s=yn(t),o=E.useRef(!1);return y.jsx(OK,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:X(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:X(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D2.displayName=L2;var QK="DropdownMenuGroup",ZK=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(jK,{...i,...r,ref:e})});ZK.displayName=QK;var JK="DropdownMenuLabel",O2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(FK,{...i,...r,ref:e})});O2.displayName=JK;var eY="DropdownMenuItem",j2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(BK,{...i,...r,ref:e})});j2.displayName=eY;var tY="DropdownMenuCheckboxItem",F2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(VK,{...i,...r,ref:e})});F2.displayName=tY;var nY="DropdownMenuRadioGroup",rY=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(HK,{...i,...r,ref:e})});rY.displayName=nY;var iY="DropdownMenuRadioItem",B2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx($K,{...i,...r,ref:e})});B2.displayName=iY;var sY="DropdownMenuItemIndicator",V2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(zK,{...i,...r,ref:e})});V2.displayName=sY;var oY="DropdownMenuSeparator",H2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(UK,{...i,...r,ref:e})});H2.displayName=oY;var aY="DropdownMenuArrow",lY=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(WK,{...i,...r,ref:e})});lY.displayName=aY;var cY="DropdownMenuSubTrigger",$2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(GK,{...i,...r,ref:e})});$2.displayName=cY;var uY="DropdownMenuSubContent",z2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return y.jsx(KK,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z2.displayName=uY;var dY=_2,hY=M2,fY=N2,U2=D2,W2=O2,G2=j2,K2=F2,Y2=B2,X2=V2,q2=H2,Q2=$2,Z2=z2;const pY=dY,mY=hY,gY=J.forwardRef(({className:n,inset:e,children:t,...r},i)=>y.jsxs(Q2,{ref:i,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,y.jsx(rD,{className:"ml-auto h-4 w-4"})]}));gY.displayName=Q2.displayName;const yY=J.forwardRef(({className:n,...e},t)=>y.jsx(Z2,{ref:t,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));yY.displayName=Z2.displayName;const J2=J.forwardRef(({className:n,sideOffset:e=4,...t},r)=>y.jsx(fY,{children:y.jsx(U2,{ref:r,sideOffset:e,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));J2.displayName=U2.displayName;const dv=J.forwardRef(({className:n,inset:e,...t},r)=>y.jsx(G2,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));dv.displayName=G2.displayName;const vY=J.forwardRef(({className:n,children:e,checked:t,...r},i)=>y.jsxs(K2,{ref:i,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(X2,{children:y.jsx(tD,{className:"h-4 w-4"})})}),e]}));vY.displayName=K2.displayName;const wY=J.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(Y2,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(X2,{children:y.jsx(Q4,{className:"h-2 w-2 fill-current"})})}),e]}));wY.displayName=Y2.displayName;const xY=J.forwardRef(({className:n,inset:e,...t},r)=>y.jsx(W2,{ref:r,className:Ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));xY.displayName=W2.displayName;const bY=J.forwardRef(({className:n,...e},t)=>y.jsx(q2,{ref:t,className:Ae("-mx-1 my-1 h-px bg-muted",n),...e}));bY.displayName=q2.displayName;function Dw(){const{setTheme:n}=mG();return y.jsxs(pY,{children:[y.jsx(mY,{asChild:!0,children:y.jsxs(It,{variant:"outline",size:"icon",children:[y.jsx(dG,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),y.jsx(lG,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),y.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),y.jsxs(J2,{align:"end",children:[y.jsx(dv,{onClick:()=>n("light"),children:"Light"}),y.jsx(dv,{onClick:()=>n("dark"),children:"Dark"}),y.jsx(dv,{onClick:()=>n("system"),children:"System"})]})]})}const up=({direction:n="down",className:e,...t})=>y.jsx("div",{className:Ae("w-full h-20 md:h-32 lg:h-40 leading-[0] fill-current",n==="up"?"-mt-1":"-mb-1",e),...t,children:y.jsx("svg",{className:"relative block w-full h-full",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",style:{transform:n==="up"?"rotate(180deg)":""},children:y.jsx("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31.74,904.67,72.43,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"})})}),y_=[{name:"Home",path:"/",icon:oD},{name:"Library",path:"/library",icon:sG},{name:"About Us",path:"/about",icon:iG},{name:"Salvation",path:"/salvation",icon:J4},{name:"Contact Us",path:"/contact",icon:aD}],SY=({children:n})=>{const[e,t]=E.useState(!1),r=Ds(),i=()=>t(!e);return y.jsxs("div",{className:"min-h-screen flex flex-col bg-background transition-colors duration-500 overflow-x-hidden",children:[y.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 shadow-lg bg-background",children:[y.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between h-20",children:[y.jsxs(Ht,{to:"/",className:"flex items-center space-x-2",children:[y.jsx(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.2},children:y.jsx(Df,{className:"h-10 w-10 text-primary"})}),y.jsx("span",{className:"text-2xl font-bold gradient-text",style:{fontFamily:"'Lexend', sans-serif"},children:"Kingdom Pages"})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[y_.map((s,o)=>y.jsx(re.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*o+.5},children:y.jsx(Ht,{to:s.path,onClick:()=>e&&i(),className:({isActive:a})=>`relative px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ease-in-out hover:text-primary transform hover:scale-105 ${a?"text-primary font-semibold":"text-muted-foreground"}`,children:({isActive:a})=>y.jsxs(y.Fragment,{children:[s.name,a&&y.jsx(re.div,{layoutId:"active-nav-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",initial:!1,transition:{type:"spring",stiffness:350,damping:30}})]})})},s.name)),y.jsx(re.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},className:"ml-4",children:y.jsx(Dw,{})})]}),y.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[y.jsx(Dw,{}),y.jsx(It,{variant:"ghost",size:"icon",onClick:i,"aria-label":"Open menu",children:e?y.jsx(ET,{className:"h-6 w-6"}):y.jsx(lD,{className:"h-6 w-6"})})]})]})}),y.jsx(dh,{children:e&&y.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card shadow-xl origin-top",children:y.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 max-h-[calc(100vh-5rem)] overflow-y-auto",children:y_.map(s=>y.jsx(Ht,{to:s.path,onClick:i,className:({isActive:o})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${o?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted/50"}`,children:y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(s.icon,{className:"h-5 w-5"}),y.jsx("span",{children:s.name})]})},s.name))})})})]}),y.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pt-8 pb-12 relative",children:y.jsx(dh,{mode:"wait",children:y.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n},r.pathname)})}),y.jsxs("footer",{className:"relative mt-0 pt-1 pb-1 text-center text-muted-foreground",children:[y.jsx(up,{direction:"up",className:"text-background"}),y.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"relative",children:[y.jsx("div",{className:"flex justify-center items-center space-x-2 mb-4",children:y.jsxs("span",{className:"text-sm",children:["Kingdom Pages  ",new Date().getFullYear()]})}),y.jsx("p",{className:"text-xs",children:"Inspiring faith through digital stories."}),y.jsx("div",{className:"mt-4 space-x-4",children:y.jsx(Ht,{to:"/terms-of-service",className:"hover:text-primary transition-colors",children:"Terms of Service"})})]})]})]})},AY=()=>{const{pathname:n}=Ds();return E.useEffect(()=>{window.scrollTo(0,0)},[n]),null},EY=`**Vee**\r
\r
so everyone, listen up, my manager announces. This is unexpected and the time frame is short, but we all have to make our contributions. Assistant Managers and below, \\$200; Managers upward, \\$700.\r
\r
See ehn my colleague whispers to me.\r
\r
I can hear him speaking, but honestly, Im not really listening. This announcement is quite unexpected, and knowing the amount in my bank account, its looking pretty impossible at the moment.\r
\r
Vee, are you even listening to me? he whispers.\r
\r
Moments later, after the meeting.\r
\r
My mobile phone rings, and I immediately pick it up without looking at the caller ID.\r
\r
Hello.\r
\r
Good afternoon, Ma. I trust you are having a great day. Im calling to remind you of the commitment you made to The Messenger Angel Book. We need to produce several copies to send to the different communities. We are therefore counting on you to do something before the week runs out. God bless you, Ma.\r
\r
Thank you for the reminder, I reply, trying to insert some cheer into my voice.\r
\r
**3 Hours Later**\r
\r
Im driving into my estate, super glad to finally be heading home after a long day. I cant wait to put my feet up and watch something nice. Just take a break from everything.\r
\r
Just as I pull up to the gate, a super happy greeting draws me out of my reverie. Its Charles, our trusty security man. Hes always cheerful and super helpful. I cant even count the number of times he has gone out of his way to make my life easier. Most times, he does it without me asking.\r
\r
Aunty, welcome Ma. How was your day, Ma? he greets, speaking in Nigerian pidgin English.\r
\r
It was fine, Charles, thank you.\r
\r
Im honestly not in the mood for small talk, but I dont want to be rude to Charles.\r
\r
Oblivious to my state of mind, Charles forges ahead.\r
\r
Aunty, e be like say you get early appointment this morning, because as I say make I bring soap come wash your car, you don already dey commot. But tomorrow I go wake up early, come wash your car sharp sharp. He smiles.\r
\r
Oh, thats kind of you. Yes, I was in a hurry; someone was waiting for me. But thank you all the same.\r
\r
Im really trying to keep a kind look on my face, although all I want is to be in the sanctuary of my house.\r
\r
I walk along the side of my car to the back seat, grabbing my bags in hopes of a quick escape.\r
\r
I head towards my apartment, only to realise that Charles is already lingering at my entrance with a hopeful expression.\r
\r
Okay, Maermmm Auntiee get something wey I wan ask you.\r
\r
What is it, Charles? I hope all is well.\r
\r
Auntie, all is well ona my pikin call me say she need money to buy JAMB form, and the registration dey end tomorrow. You know say I spend all the money wey I get when I go bury my brother last month. Abeg, if you fit just help me.\r
\r
He kneels down, really pleading with me. How can I refuse to help him? I mean, its Charles. I know hes not trying to take advantage of me. Hes not that type of person.\r
\r
You know say na only you I fit beg for inside this estate, he pleads sincerely.\r
\r
Its okay, Charles. Please get up, you dont have to do all this. Just send me the account details, okay?\r
\r
Immediately, he leaps up. Haaaaa, Aunty, God go bless you, God go prosper you He proceeds to utter several blessings.\r
\r
Amen, Charles. Thank God. Have a good evening.\r
\r
With those parting words, I quickly unlock the door and shut myself in.\r
\r
Finally, some peace and quiet. I drop all my bags on the entry table and take off my heels. I feel like this respite couldnt have come even one second later.\r
\r
Rubbing my slightly aching soles, I turn on the TV to one of the only stations worth watching, in my opinion, LoveWorld XP.\r
\r
Next stop on the road to getting comfy: I have to get out of these work clothes. Sweatpants and a comfy T-shirt sound more like it. So, I head to my room to change into that.\r
\r
A loud grumble from my tummy reminds me that I havent had anything to eat since lunchtime, 8 hours ago.\r
\r
At this point, I cant help but celebrate the genius of whoever came up with the idea of instant noodles. Imagine having to cook in a moment like this, when hunger is already making your stomach grumble every 15 seconds. To the kitchen I go, quickly preparing two packets of my favourite noodles.\r
\r
Minutes later, I am comfortably situated on my couch, tucked under my favourite duvet. I dig into my perfect bowl of noodles while watching LoveWorld Expressions to catch the latest music video. A notification pops up on my phone.\r
\r
Big Sis , the text from my little sister reads. I was wondering when this young lady would call me; I havent heard from her in days.\r
\r
I fire off a quick response so I can get back to my food.\r
\r
Baby girl, how are you? Called you yesterday but your line was off.\r
\r
In true Gen Z fashion, my sisters response is swift.\r
\r
Heeeeey! Only God knows how many other people have tried to reach me and couldnt. Sis, its my phone o. It started misbehaving some days ago. It just goes off when the battery is like 60%. I took it to the phone repair shop and the guys there said the battery is bad.\r
\r
Are you for real? Sorry o, but that your phone has tried shaa, lol.\r
\r
I really dont know what to do right now because Dad just bought me a new laptop 2 weeks ago, and I cant start telling him that my phone is bad.\r
\r
Youre right. He will tell you to go and read your books .\r
\r
Sis, thats why I have you now, the best big sis in the whole world. Pretty please, SisI need a new phone.\r
\r
I honestly cannot believe this day. I drop the forkful of noodles I was about to eat. My appetite is completely gone at this point.\r
\r
Minutes pass, and Im fully aware that I havent responded. But right now, it all feels too much. First it was the \\$700 demand at work, then the reminder about my Messenger Angel Book pledge, then the unexpected plea for help from Charles, now my sister. Whats next?\r
\r
Another text comes in with a loud ping. I know my sister is probably wondering why my response is taking so long. She has no idea what this adulting business entails.\r
\r
Reluctantly, I open the text. Whatever she has to say will probably leave me with no choice but to fulfill my role as the deputy parent.\r
\r
Okay, Sis, please just give me money to repair the phoneIm really desperate. You know Im in my final year, and I really need a phone to communicate with all these lecturers. Youre my only hope right now .\r
\r
A deep sigh involuntarily escapes me. How can I not help? My sister needs me. I will have to find a way to make it work.\r
\r
No problem, girl, what are elder sisters for? Send me the cost of buying a new phone vs repairing the phone. I will weigh the pros and cons and send you the money for whichever option I decide on.\r
\r
My sisters reply is immediate, lest I even think about changing my mind.\r
\r
I love you with all my heart, Big Sis \r
You are simply the best.\r
\r
Yeah, yeah. I wonder if she would still say that if I had said I couldnt help. Anyways, it is well.\r
\r
I look at the TV, seeing the end credits of the show rolling out but not registering anything Im seeing. My mind is full. I head to the kitchen and trash the leftover cold noodles. So much for a relaxing night with a little entertainment for distraction.\r
\r
Suddenly it hits mewhat am I actually going to do? Whats in my account is not so much. I wish there was someone I could call right now to help me with some funds.\r
\r
Almost immediately, a direct response to my worrisome train of thought wells up in my heart: that you may always and under all circumstances and whatever the need be self-sufficient (possessing enough to require no aid or support and furnished in abundance for every good work and charitable donation).\r
\r
Wow, where did this thought come from? Yeah, thats true though.\r
\r
Again, the same sweet and soft but clear voice whispers to me: If I will not open to you the windows of heaven and pour you out a blessing, that there shall not be room enough to receive it.\r
\r
Thats right! I paid the tenth last week, so this is my lot!\r
\r
Energy surges in immediately.\r
\r
Unknown tongues are uttered.\r
\r
Hagar is going on.\r
\r
More words like the precious ones from before are pouring out.\r
\r
Soon, there is a roaring.\r
\r
Soon, theres a note of victory. Theres a knowing that I just lambanoed.\r
\r
What a way to end the day! Now I can enjoy my sleep, knowing fully well that I have nothing to worry about. Im just going to prepare my work clothes for tomorrow so it wont take up my time in the morning.\r
\r
I run my mind through my closet and decide to wear my beige dress with the fringe bottom. But that means I would have to change the blue bag I was carrying today to a beige one, to avoid being a walking fashion disaster.\r
\r
I head to my bag closet and pull out the beige bag I had in mind. I start transferring things from my blue bag into it.\r
\r
As I am placing my cards in the side pocket of my beige bag, my hand brushes against some paper-like itemsa bundle of notes, it seems.\r
\r
Wondering what long-forgotten notes it could be, I pull out the items from the bag. Its then I realise its not a bundle of old notesits money. An actual bundle of money. How did this get here? I dont recall putting it here. I sit on my bed, absolutely stunned. I am trying to remember possibly keeping such an amount away, but nothing is coming to mind.\r
\r
Could it really be? Who put the money in my bag? Honestly, I need to stop asking unnecessary questions and count the money. Its exactly the amount I had been wishing I could ask someone for moments ago.\r
\r
It works! I dance and jump all around my room. When I finally calm down, I place the money in my wallet and finish the rest of my preparations for work.\r
\r
I make sure my dress is ironed and hung, my shoes are polished, and my lunch for tomorrow is prepped. Now, its time to call it a day.\r
\r
I reach for my phone to set an alarm, and a notification pops up from my bank.\r
\r
These banks, dont they sleep? Which charge have they collected again?\r
\r
Wait a minuteis this real?\r
\r
I sit up\r
\r
Its a credit alert with several zeros!\r
\r
Another message pops up just as Im coming to terms with the credit alert Ive just seen!\r
\r
Hey Vee, how are you? Ive been meaning to do this, and tonight I just felt I shouldnt let it pass today. Just a little something to say thank you for housing me for a month last year when I had house issues. You are special.\r
\r
Okay!!!!! This is what Im talking about! Wowwwwww, Im loving this life mehn!!!!\r
\r
The life of a Sealed One!`,CY=`Im working on my desktop when suddenly I feel a slight pain in my eyes.\r
I think I need to call it a day. I've been working on this document for hours, and this slight pain is a clear indication that I need to pack up and go home. Moreover, its past 6 p.m.\r
\r
*1 Week Later*\r
\r
Im driving to the gym, humming along to one of the latest Afrobeat gospel songs. I downloaded it last night, and Ive had it on repeat since I woke up.\r
The guys are going to give me a hard time for being late, but I had some work to finish before I could close for the day.\r
\r
A flash of light suddenly appears and then disappears in front of my eyes. Its so weird I dont even know how to explain it.\r
Its strange because I dont feel any pain in my eyes, and its not like I was working on my computer.\r
\r
Just then, the gym building comes into view. I park the car and head in, ready to face the music for my tardiness. My buddies are all in a corner, probably halfway into their workouts.\r
\r
Hey mate! What took you so long? Jason asks while doing chest presses.\r
He needs to do 20 press-ups for being the last one to arrive Matthew adds.\r
\r
Guys, Im not even up to 5 minutes late I try to defend myself.\r
\r
We keep the banter going, and soon enough, Ive forgotten all about the strange incident in the car.\r
\r
*2 Months Later*\r
\r
My phone rings.\r
Hello, Sir.\r
Paul, could you please come to my office? my boss asks.\r
Okay, Sir, Ill be there in a minute.\r
\r
I make my way to his office and let myself in after he calls for me to come in.\r
Its a little darker than normal, and hes sitting with his chair facing away from his desk toward the back wall, head raised to the ceiling.\r
\r
Good afternoon, Sir, I greet, though I cant hide the slight amusement in my voice. From where Im standing, it looks like he has cucumbers on his eyes.\r
\r
My boss turns his chair to face me, removing the cucumbers from his eyes.\r
You can let the laughter out, Paul. I know youre wondering what Im up to\r
Uhmmm well since you mentioned it, Sir I manage to say, barely stifling a chuckle.\r
\r
My optician is working on medicated contact lenses for me because my vision gets blurry sometimes. In the meantime, he advised me to put sliced cucumbers on my eyes regularly, eat carrots, and generally drink lots of water. My eyes were really hurting right now, so I got someone to get me some cucumber slices.\r
Oh, Im really sorry about that, Sir. I didnt know you had such experiences.\r
\r
I suddenly feel a little guilty for laughing. I honestly didnt know he was doing it out of necessity. I figured he just wanted a little rest and relaxation in the middle of the workday. But this sounds a little serious.\r
\r
Theres no need for sympathy, Paul, he says matter-of-factly.\r
You know the work we do involves looking at the screen for hours. Trust me, very soon you will be able to relate to what Im saying.\r
\r
Ooookay, Sir.\r
\r
Back to business. The Creative Director of Art Match is coming in at 2 p.m. Please go through the web design for their app and see if it needs any more improvements.\r
\r
Okay, Sir. Will do, Sir.\r
\r
*Independence Day*\r
\r
Its Independence Day, and the parents are hosting a barbecue for the whole family. Its been a tradition for 5 years now, and its one of those days I really look forward to.\r
\r
Hey Dad, do you want more roast potatoes to eat with your steak? I ask, seeing my dad has already finished all the sides on his plate.\r
Yes, Paul, that would be great.\r
\r
One by one, the kids also put in their requests: Uncle Paul, please, I want some too! Me three, Uncle Paul!\r
\r
Theyre so adorable. My nieces and nephews love listening to war stories from my dad, their grandpa. They literally flock around him at every family gathering. The unintended consequence is that whatever Dad eats, they want to have a taste too.\r
\r
I head to the buffet table where everythings been set up and pile two plates with different side dishes, just in case. I return to our little spot, greeting familiar faces along the way.\r
\r
Thank you, Son. Thank you, Uncle. Thanks, Uncle.\r
Youre welcome. I think I'm going to sit here and relax for a while.\r
\r
Little Johnny comes to sit on my lap. Warm arms go around my neck, and a kiss follows on my cheek. How sweet.\r
\r
Mum, come have a seat. I hope youve rested well. Dad says you slept quite late supervising the cleaning of the house for us.\r
Yes, my love, Im fine. I hope youve had enough to eat.\r
Sure, Mum. My tummy is so full, I feel like I have to hit the gym tonight just to burn some calories.\r
\r
_(Everyone laughs)_\r
\r
Grandma, please can you read this book to me? four-year-old Samantha asks. Moving to where Mum is, she stretches her arms to be carried.\r
Okay, my love, I will. Paul, please hand me my glasses from that table.\r
Yes, Mum. I hand her the glasses.\r
\r
I look at the scene in front of me with a smile: Mum, with her glasses perched on her nose, little Samantha sitting in her lap while they open a colourful kiddies book. Honestly, I wish I could draw or paint so I could capture the moment.\r
\r
Anyway, thats what cameras are for, right? I reach for my phone to take pictures of my family.\r
\r
Suddenly, I feel a sharp pain in my eyes that causes me to drop my phone. I put pressure on my eyes with the heels of my palms, hoping to relieve some of the pain.\r
\r
Son, is everything okay? my mum asks, immediately coming to where Im seated.\r
Yes, Mum, Im fine. Its just a sharp pain I felt in my eyes, but the pain will soon subside.\r
How do you know?\r
because its not the first time its happened. It comes and goes, but its been more frequent in the past month. If you have cucumbers in the house, I can just cut some slices and put them on my eyes. Ill be okay.\r
\r
Hey, whats happening? Is everything alright? Dad asks.\r
Its Paul. Hes having pains in his eyes.\r
Son, you may have to look into visiting an optician and getting a pair of glasses.\r
I dont think its that serious. It may just be the kind of work I do. You know Im a programmer; I have to spend hours looking at the screen. Moreover, I just got into my thirtiesIm too young for that.\r
\r
My parents chuckle.\r
Son, I started wearing medicated glasses in my twenties, and your dad started wearing his while in high school. Come to think of it, it may be hereditary. Most of your uncles and aunties on both your dads and my side of the family wear glasses. Its probably glaucomathats what we were mostly diagnosed with.\r
Mum, just give me the cucumber slices. Ill be fine, trust me.\r
If you say so, son. But think about what we said. The earlier you get the glasses, the better.\r
\r
*2 Weeks Later*\r
\r
Its Saturday, and Im getting ready to leave the house for my 10 oclock appointment when my phone rings. Caller ID shows its Jason.\r
\r
Hey bro, how are you doing?\r
Im great, really glad the weekend is here. I had such a busy week.\r
Same here, man. What are you up to? I was wondering if we could hang out later this evening. I have some business proposals I want you to analyze.\r
No problem. Im getting ready to see an optician now, but after the appointment Im free for the day.\r
An optician?  Is there an issue?\r
Yeah, I've been feeling this sharp pain in my eyes and getting these flashes of light. Its been more frequent lately, and I'm thinking maybe its glaucoma. Both my parents were diagnosed with it when they were younger. Worse still, my line of work doesnt help matters.\r
\r
Jason is silent for a while.\r
Hello Jason, are you still there?\r
Bro, have you forgotten who you are?\r
I dont understand.\r
Youre sealed, manand the sealed have a culture!\r
Yeah, man, I know Im sealed\r
You sure arent acting like it, cause we dont utter the kind of things you just did some minutes ago. Do you remember I have a goodly heritage? And this heritage doesnt come with any disease. I think you need a word bath cause youve been listening to the wrong voices.\r
\r
Suddenly, its like a lightbulb comes on in my mind.\r
Youre right, bro. Optician appointment cancelled. Word appointment activated. Talk to you laterI need to do what I should have done since.\r
Sure thing. Ill be expecting your call later.\r
\r
I go back to my room, pull out my iPad, and open the PCDL app. After going through the library for some minutes, I finally find what Im looking for and click playword bath mode activated.\r
\r
Its been thirty minutes. I am sweating even though the cooling unit is on. I am pacing the floor and uttering words, some in English and some in a strange language.\r
\r
my body is the member of Christ (inserts unknown tongues) that same Spirit quickens my eyes my body is His temple, He sees through my eyes (inserts unknown tongues).\r
\r
*3 Months Later*\r
\r
I bump into Jason at the shop close to my house.\r
Paul, my guy, how are you? Fancy seeing you here. By the way, thanks for the other dayI made some changes to the business proposal, and it was approved.\r
Oh, thats great. Congrats!\r
Meanwhile, how are things with your eyes?\r
J, Im so happy you called me that day. I dealt with it right after we spoke, and that was the end of the pain and the flashes. In fact, my vision is clearer than its ever been.\r
Thats the sealed life, bro!`,TY=`Its great to be starting school again. I had missed my friends, especially Eden.\r
\r
Hey Gianna, I kept a seat for you! Eden shouts, waving at me.\r
\r
Thanks, Eden. I launch myself at her for a bear hug.\r
\r
I missed you.\r
\r
I missed you too, but I miss the holidays already, she chuckles.\r
\r
Hey kids, its time to get off the bus.\r
\r
We get off and walk into the school compound, side by side.\r
\r
Hey G, theres like a glow on your face. You cant be that happy to be back in school. Honestly, no one ever looks this excited on the first day of school except the weirdos, and the last time I checked, you werent one.\r
\r
Wellllllll, lets just say something special happened to me during the summer. I became a member of a special group of people.\r
\r
Oh really, thats cool. Personally, Im in enough groups and I have so much going on in my life right now. I cant add being a part of a new group.\r
\r
Trust me, Eden, you would definitely want to join this group when I tell you more about it.\r
\r
Im serious, Gianna. Maybe next year, but not this year. Anyways, lets hurry to class.\r
\r
*Weeks later*\r
\r
Our teacher is going around the class handing back our marked GST 601 test scripts. I am a little nervous because I remember the test was quite difficult for me.\r
\r
Ermm Eden, what was your score? Cause mine is not good, I lean over to ask. Her desk has always been the one right in front of mine. It makes it easier for us to talk and pass notes during class, although we dont do it all the time.\r
\r
G, mine is not good, and from the murmurings Im hearing, no ones score was above average.\r
\r
This is not good at all.\r
\r
I dont think you should stress yourself over it though, Eden tries to comfort me. This is the 3rd test were writing in this course, and the results have not been any different. Remember weve always heard stories from seniors about how tough this course is. Right now, we should just aim at maintaining the average and not going below it.\r
\r
I know Eden is trying to say this is not a big deal, but I dont understand why this is happening. This is not what I was expecting.\r
\r
Hey G, are you okay? Youve been looking disturbed since you got this test result, and now youre mumbling to yourself.\r
\r
Oops, I must have been speaking out loud.\r
\r
Its just its not supposed to be like this this was not the picture I had this was not the impression I was given Im supposed to be always on top.\r
\r
Gianna, what are you talking about? What picture? What impression? Who and what are you referring to?\r
\r
Its the special group I told you about.\r
\r
Girl, you are making a big deal out of nothing. I dont know what group you joined or what information they are giving you there. Its just one course, and youre acing the others. Moreover, its a general thing.\r
\r
But Im different! I practically shout, feeling exasperated.\r
I know she doesnt understand, but I know what I was told. I know what I believe.\r
\r
*2 Days later*\r
\r
Its the weekend and Im very eager to attend our special group meeting. We meet physically every weekend, and I always enjoy it. I gain so much knowledge about my new identity from every meeting.\r
\r
Today, there are some things on my chest that I need to expressthings that have been bothering me since I got that test result earlier in the week.\r
\r
*Hours later*\r
\r
and this is the end of our discussion. Before we go, is there anybody that has a question? Yes, Gianna, I can see your hand. Please share your question with us.\r
\r
Thank you. During the summer, not too long after I joined the group, I remember when one of you said that as members of this group, we will always remain tops in everything we do, including our academics. But theres a course in school Im having issues with, and even though everyone in school has resigned themselves to the fact that they wont go above average, I dont want that for myself. So, what am I not doing right?\r
\r
The Sealed Ones have a manual, Gianna. Are you reading the manual? The manual is the best guide to show you who we are, how we operate, and how to live this life. You have to diligently study the manual for your questions to be answered. And mind you, its not a one-time thingyou have to study it daily to rightly live this life\r
\r
Ohhhh, I must confess, I was given the manual as soon as I became a member of the group, but I havent really been reading it cause I thought attending these weekend meetings and listening to you all talk was enough. But now Im going back to study it.\r
\r
*Days later*\r
\r
Ever since I got back from the meeting last week, Ive been studying the manual every day. Theres so much to see.\r
\r
Im studying the manual once again, and I see some striking sentences there:\r
\r
but ye have an unction from the Holy One, and ye know all things.\r
\r
hath not given us the spirit of fear; but of power, and of love, and of a sound mind.\r
\r
I brood on these words for minutes and, after a while, I personalize them and repeat the words to myself, stopping only to utter strange tongues, until my whole mind is consumed with the words and new pictures are formed in me.\r
\r
*1 Week later*\r
\r
School is on, and our GST 601 teacher just walked into class. A collective groan resounds from the class.\r
\r
Meanwhile, I start muttering to myself softly those precious words I had seen in the manual.\r
\r
Minutes into the class, Eden nudges me softly. Hey G, you seem to be following what is being taught\r
\r
Yeah, I actually am.\r
\r
Really how did that happen? Did you have extra lessons with the teacher?\r
\r
No, you see\r
\r
Theres an interruption from the teacher, and our conversation is cut short before I can explain.\r
\r
Okay class, we are going to have a quick test.\r
\r
The end of the Term\r
\r
Awards are being handed to the best students in various courses.\r
\r
and the Best Student in GST 601 is Miss Gianna Lee\r
\r
Wowwwwww, G! I know youre smart, but for years there hasnt been a best student in GST 601 because its so technical and tough to understand. I mean, when the school session started, the whole class, including you, complained about how we have to try so hard just to maintain average. But then, suddenly you started picking up and now you even got a distinction!!! What happened? Cause I know you werent having extra classes with the teacher\r
\r
Well, Eden, remember I told you how I joined a special group of people? You see, there are certain things that are not consistent with these people, and one of these things is that they dont fail at anything nor do they settle for average. When the test scores came out, I knew something was missing, so I had to study the manual of the group to know what to do.\r
\r
Ohhh, you definitely need to tell me more about these people. I know I said I wasnt interested in joining a new group, but now Ive had a change of heart. What is the name of this group? What do I need to do to join them? Do they have room for more people? I need to know everything.\r
\r
Woah woah, relax, Ill tell you, I say laughing. We are called the Sealed Ones. And dont worry, Sis, its so easy to be a memberyou dont need to do anything hectic. Also, theres room for billions of people to join. Come, let me take you somewhere less noisy and tell you all about us.`,PY=`Thank you, dear people of Smyrna, I say, closing off yet another very well-attended election rally.\r
\r
\r
Loud applause and cheers follow as I wave goodbye to the people. I am continually overwhelmed with gratitude by the great show of support for my campaign to be the next Governor of Smyrna.\r
\r
\r
Congratulations, Sir. The votes of the people belong to you, my trusted Executive Assistant, Linda, comments as I step into our makeshift office.\r
\r
\r
Great job, Mr. Andrewor should I say Governor Andrew Bob, whos been my campaign manager from the beginning, grips my hand in a firm shake. Everyone in the room is in high spirits.\r
\r
\r
Aside from the large crowds that have attended all our rallies in the last couple of months, the stats and all the analysis point to the fact that our work here will not be in vain. I am far ahead of all my opponents in the voter polls. In fact, I recently heard Ive been nicknamed *The Golden Man* by the media.\r
\r
\r
My eyes scan the room, meeting the eyes of every single member of the team. I know how hard theyve worked to get us to this point. I hope they can feel how much I appreciate their efforts. I am trusting that in a couple of months, we will get to celebrate the fruits of our labor. We just need to shore up our position and keep pressing our advantage for the next eight weeks. Its time to seal the deal.\r
\r
\r
\r
**One week later**\r
\r
\r
Its 6 a.m. My wife and I wake up to all our phones ringing incessantly. The noise cuts through the fog of sleep, and almost immediately, we are both wide awake. Our eyes connect, communicating silently, minds racing to our teenage daughter who is at school in a different city.\r
\r
\r
In a split second, we each reach for the nearest phone. The call is not what I expectedthankfullybut the news Im getting is not any less catastrophic. I hurriedly grab the TV remote, switching it on, and right there on the screen is breaking news that could potentially cost me all my lifes work.\r
\r
\r
What in the world are you talking about? I hear my wife exclaim in the background.\r
\r
\r
The entire room fades away as I stare at the TV screen, watching the whole debacle unfold. It feels like watching an atomic bomb detonate on all our hopes for the future. I cant watch any longer or I may not be able to prevent the mental breakdown trying to engulf my mind. I head to the study, where Ive spent many sleepless nights and early mornings toiling away at making our dreams a realitydreams that now seem virtually impossible.\r
\r
\r
I lock the door behind me, but I cant stop seeing the images from the news headline. *THE GOLDEN MAN EMBROILED IN SCANDAL!* keeps flashing in my mind. Everything we worked for, all the investment, down the drain because of an incident that took place twenty-five years ago.\r
\r
\r
My mind travels back to that fateful daythe day my friend and I were caught in the act of stealing a prized painting.\r
\r
\r
I was born without a silver spoon, raised in a tardy neighborhood. We barely had a proper meal to eat in a day. With two younger siblings and a sick single mother who tried to get cleaning jobs to make money, I got sucked in by the bad crowd. They taught me to pick pockets to make ends meet.\r
\r
\r
I knew it was wrong, but with my dad gone, I felt responsible as the eldest son. I couldnt bear to see my siblings hungry or my mum cry every night because she was too weak to get a proper job.\r
\r
\r
This is the exact kind of situation I was hoping to prevent as the new Governor of Smyrna. How ironic that the same incident that made me vow to be an agent of change in my community would cost me the opportunity to do so.\r
\r
\r
I remember the day the new kid, Jimmy, showed up on our block. He bragged about how experienced he wasnot just at picking pockets, but stealing larger and more expensive items. It wasnt long before he goaded us into going for bigger steals. He convinced us that we could cart away one of the principals prized paintings worth thousands of dollars. We were frightened and reluctant, but the desire to impress Jimmy was compelling.\r
\r
\r
On the day of the stint, I tried so hard to come up with a thousand and one excuses not to join the squad, but none of my attempts were successful. Eventually, I gave up and joined them.\r
\r
\r
It didnt take much. With Jimmys superior skills, we successfully broke into the principals house and picked up the painting. On our way out, something else caught Jimmys attention. As he went in for a closer look, an alarm was triggered. We scurried out of the house trying to escape, but unfortunately one of my friends sprained his leg while jumping from the window. I ran back to help him while the others fled, and thats how we got caught by the principals housekeeper, who called the police.\r
\r
\r
Interestingly, it was discovered that Jimmywhose name was not even Jimmywas a notorious thief in the city he previously resided in and was actually on the run from the cops. Thankfully, I was young enough not to get sent to prison. The judge was compassionate, and I got away with community service and mandatory counseling.\r
\r
\r
I thought I had paid dearly for that act through the punishment that was given. In addition, I had a permanent mark on my record that stopped me from getting my top picks for university. Yet here I am, years later, paying the ultimate price for my sins.\r
\r
\r
\r
**Hours later**\r
\r
\r
Loud banging on the door brings me out of the loop my brain has been stuck in. I cant tell how many hours its been, only that the sun is no longer high in the sky, and it was just rising when I set foot in here and locked the door behind me. I can only imagine what Gracie has had to deal with all day. I have been recounting every single detail, rehashing every decision and circumstance that led to this moment. I dont really know what to say or how to face everyone.\r
\r
\r
Honey, are you alright? Its been hours, Gracie calls at the door. Ive tried to give you space, but if you dont say anything, Im going to have to call someone to break the door down. I need to know if you are okay. I can hear the deep concern in her voice.\r
\r
\r
I have to get it together. I need to face Gracie, and I need to speak to the team.\r
\r
\r
Im coming, honey, I respond as I go to unlock the door. The moment the door opens, Gracie wraps her arms around me, and the emotions Ive been holding back come rushing out.\r
\r
\r
\r
**Two weeks later**\r
\r
\r
Its getting closer to the elections, and the media is in a frenzy. With all the negative press around the scandal, the other aspirants have suddenly come up in the polls. The people of Smyrna are divided into so many camps. Its almost hard to imagine that a few weeks ago, I was *The Golden Man*.\r
\r
\r
Im in a meeting with my campaign team, and its been going on for hoursjust like the one we had yesterday, the day before, and every day since the scandal erupted. I honestly dont know what other strategies we can implement.\r
\r
\r
We tried a public apology, to show the people how remorseful I am for my actions all those years ago. We tried a press conference where I answered all the media questions to help people understand the difficulty of my circumstances back then. Ive even resorted to carrying out humanitarian activities, intentionally reported to the media. Nothing has made a difference. Im not even among the top three aspirants. Every time an update comes in, my heart races hoping for some good news, but its been back-to-back bad news.\r
\r
\r
I made up my mind this morning that if we couldnt come up with a viable solution today, then I would have to consider calling it quits. Weve been at it for hours, and all evidence points to the same conclusion: there is absolutely no way my campaign will be able to recover from the scandal. I guess its time to make one of the toughest announcements Ive ever had to make.\r
\r
\r
Ladies and gentlemen, can I have everyones attention I call out, drawing the room silent. I take a bracing breath, gathering my strength as the atmosphere becomes completely solemn.\r
\r
\r
First off, I want to say, you are the most amazing team. You have put your all into this campaign, and I am eternally grateful for every single one of you.\r
\r
\r
Once again, I am so sorry that you had to go through the fiasco of these past two weeks. It was my actions that brought scandal to this campaign, and for that I am deeply sorry. I cant tell you in words how much I wish I could go back in time and reverse what happened. Regardless, no amount of wishing can make that happen, and that leads me to my final announcement.\r
\r
\r
You all stood by me in the last two weeks. We tried every strategy in the book, and I am so grateful. But at some point, I have to evaluate if all the sacrifice is worth it. I strongly believe that the best course of action now would be to drop out of the race and cut our losses. I will give my final decision tomorrow. Thank you all.\r
\r
\r
Without lingering to see their responses, I pick up my briefcase and head out to the parking lot. I cant bear to see the disappointment on their faces.\r
\r
\r
\r
**Later that day**\r
\r
\r
Honey, you need to eat your food. Youve barely eaten well in weeks. Gracie looks at me with the concern Ive seen on her face more times than I can count in the past two weeks.\r
\r
\r
She hasnt said much, but I know this whole thing must be taking a toll on her. Weve worked towards this vision meticulously since we got engaged all those years ago. Ive been postponing the conversation about my decision to drop out of the race, but now I have to tell her. I reach out to hold her two hands in mine.\r
\r
\r
Babe, I need to tell you something Thank you so much for standing by me all these years. I may not say it enough, but you have been the most amazing wifehelping me and supporting this vision all these years. I know how much youve put in, and it means so much to me. Even these past two weeks, youve been such an encouragement to me, so thank you from the bottom of my heart.\r
\r
\r
At this point, I can barely restrain my emotions, but I have to soldier on. I think that, with everything thats happened, the right thing for me to do is to step down.\r
\r
\r
The shock on her face is undeniable.\r
\r
\r
Okay, honey, hear me out I try to reassure her.\r
\r
\r
I can see shes got that determined glint in her eyesthe one that means she is not going to go down without a fight. So I nod for her to voice her thoughts.\r
\r
\r
I felt you needed your space, she says, and Ive let you be for a while. But I think its high time I speak frankly, because theres something youve not taken into consideration.\r
\r
\r
Okay whats that? I reply, feeling a little baffled that she thinks I havent explored every possible option. I would never give up on our dream without considering every avenue out of this mess.\r
\r
\r
You are among the Sealed Ones, Andrew.\r
\r
\r
Yeah I know Im a Sealed One, but whats that got to do with this? Im honestly perplexed.\r
\r
\r
You committed this crime before you became a Sealed One. And our manual says that when you become a Sealed One, you are a new creatureold things are passed away, and all things have become new. He loved us and washed us from our sins in His own blood.\r
\r
\r
Yeah, I know God has forgiven me, but this is about the people.\r
\r
\r
You need to talk to the Master and take advantage of His grace, she continues. If you read the Manual, you will see several people in our lineage who did terrible thingssome worse than what you did, if we want to compare. Like Jacob, David, and even Paul. By Gods grace, they ended up as great men, fulfilling their God-given purpose. So theres absolutely no situation beyond Gods grace and restoration. Your case will not be different.\r
\r
\r
Suddenly, a light bulb turns on in my mind, and I realize shes right. I have been going about this all wrong. I have been allowing the old guilt and shame from the past to condemn me, when in reality, my status as a Sealed One rids me of every mistake of the past.\r
\r
\r
Thank you so much, babe. I never saw it in this light. I will go right away to study the Manual and then have a talk with the Master.\r
\r
\r
Hours later, I am on the floor of the study in a kneeling position, head bowed down. I speak in unknown tongues and then utter some words in English as I am inspired: All things work together for my good Better is the end of a thing than the beginning thereof The more I speak, the greater my conviction that things are turning around and my victory is sure.\r
\r
\r
**The next day**\r
\r
\r
The team is seated in the boardroom, and they all rise to greet me as soon as I walk in. The atmosphere is tense, following yesterdays announcement.\r
\r
\r
Good morning, everyone, I greet with my brightest smile.\r
\r
\r
Some of the faces in the room are obviously surprised by my jovial mood. I can imagine they must be shocked by the complete 180. After my prayer session yesterday, I was flooded with the kind of peace that only the Master gives.\r
\r
\r
Not wanting to waste any more time, I begin the meeting. Ladies and gentlemen, today is a new day for us. Im not stepping down, and theres going to be a turnaround of events.\r
\r
\r
One of the maintenance staff knocks on the door and enters without waiting for my response.\r
\r
\r
Sorry to interrupt, Sir, but a call was made that we should watch the TV right now. Apparently, theres a large group of people rallying on the streets. They are stating that you were underaged when you committed the crime. Moreover, you served the punishment. They said youve helped several young people from the city since then. And guess who is leading the groupthe principal himself!\r
\r
\r
Another staff member walks in. Sir, theres a young man on another station being interviewed. He says he was a street kid that was into crime, but through your influence he became clean, and now hes a doctor\r
\r
\r
**One month later**\r
\r
\r
With great pleasure, would you rise as we welcome the Executive Governor of Smyrnaour *Golden Man*His Excellency Governor Andrew and his lovely wife to the podium\r
\r
`,kY=`To be loved by Love Himself
To have the entirety of nature sing and dance to your tune
To be an extension of eternity
Created creator
His breath in your lungs
His word in your mouth
His works by your hands
To be gifted only with goodness
Grace and mercy arrive at your home each morning to escort you on your way
Blessings tuck you in at night`,IY=`Water your garden
with the stream of life flowing within you
And sweet fruits will dangle from your branches
Like precious stones
from the robe of a king`,_Y=`Salt of the earth
 Dont play with dirt
Keep your flavour pure
Child of the Most High
Hold your head high
Be careful where you place your feet
Watch what your mouth eats
Dont you know you were paid for?
Residence of the Holy Ghost
Guard your entrance
Dont you know youre not your own?`,RY=`You opened your mouth and shot daggers at me, yesterday
Yesterday, my defense was down
Yesterday, I wrapped myself in a blanket of uneasiness and went to sleep
Today, I arose with determination and my defense was recalibrated
Today, you are no longer my opponent
My future and I have more noble wars to fight
Today I am strength`,MY=`You are the Lord of my life
The love of my life
The Lord of my life
You pulled me out of troubled waters
Swaddled me with Your peace
Quietly reminded me on Your love
Carried me when the road was long
You renewed my breath before it had a chance to give out
You brought me back to myself
Now You hold my heart in the palm of your hands
And stir it to produce sweet things
I open my mouth and trees spring up
Stretching far beyond the expanse of my mind
Each branch producing fruits of every kind
Nations bring baskets from near and far to eat and feed their people
You have made me a spring of life`,NY=`Bad dream shakes you awake
Jesus on the tip of your tongue
Fuzzy mental calculations
Attempt to plant bad dream in your reality
Close your eyes
Dream again
Or cancel dreams for the night
Tell sleep its all you need
Youre in control`,LY=`I put my hand in the fire and it didnt burn
The waters covered me
Taking out every inch of air
But I stood in the midst of the waters, breathing
Now watch me
Watch me squash every lie that made its way into my consciousness
Watch me dance on the devils neck`,DY=`What kind of person would I be if I listened to you?
What kind of person would I be if I didnt?
Youre looking straight at me
But theres something youre not seeing
Or am I the one in oblivion to the meaning of the words you pour on me?
Is there a meaning to the words you pour on me?
Or are they spurts of emotions that have no where else to go?
Direction or distraction
What are you turning me towards?
What are you turning me away from?`,OY=`You are a strange thing
A strange thing to this earth and all that it knows
But nothing strange about you from where Im standing
Just beauty in its purest form
A personification of light and glory
Oh how you shine`,jY=`When death answered my call and came to take me
You stood by my door and said no
Not this one
You kept me when I didnt know what was keeping me
When I didnt want to be kept
What is my life that I cannot give to you
What could You possibly ask me to do that I wouldnt make possible for You
I will be the name you have called me
Praise
The song on my lips the song on their lips the fragrance in your presence
I will be the thing you have made me
Light
The bright and shiny
The morning that comes after the night
The dancing that comes after the mourning
I have fought every contrary voice and won`,FY=`Is this me?
Sleeping with peace
Waking with joy
What wind came and swept me out of who I was last year
That it no longer feels like a year ago but five
I sunk myself so deep in You
Your love grew me new eyes
That I cant quite look back and see anything but beauty
With gratitude filling my heart and pouring out of my lips daily
No regrets?
I must be brand new
Fresh out of the fire
All impurities burnt out
Between the seven course Word meals
and Holy Ghost administrative activities
Operating without my consciousness
When did the transformation happen
Do you see what I see?
Or are you still looking at the old me?`,BY=`Who do you think you are?
Why do you walk so high?
Come back down to earth
Stop playing with the clouds
I closed my eyes and I found myself in the clouds again
This time so high up you couldnt reach me
Not with your hands, not with your voice
Where was I going?
However far my eyes could take me
The One who called me gave me no dimensions for He Himself is without dimensions`,VY=`Your love is more real than anything
If I found out the sky was no longer blue
Or that the sea was now land
I wouldnt ask
What about Your love? Is it still here?
Is it still real?
You are my reality`,HY=`Your eyes are too wide
Youve seen too much its made you blind
Youve heard too much
Your ears are filled to deafness
Senses marred beyond usefulness
No back up either
Internal light out of service
What trap awaits you today?
Close your eyes and see
The truth is clearer when you close your eyes`,$Y=`Cameras! Lights! Action!
I began
Playing my role as it was written for me
Saying my lines
Gradually immersed into this world the Director had created
Feeding off my fellow actors
Taking their cues
Suddenly the Director yells cut
I startle and stop
Then He walks towards me and whispers, Do you remember the script?
Ofcourse Sir I do, was I not following it? I replied
Remember I wrote it and to play your role exactly as I imagined and created it, you have to keep your eyes on Me He explained
Perceiving my concern at the feasibility of this instruction, He continued, If you do this, youll no longer be an actor playing a role, youll be fulfilling the purpose of the Director
Is this what you want?
Wholeheartedly I answered, Yes Sir
The Director walked back to His position and once again yelled, Action!
This time my eyes never left Him
Suddenly the words I spoke came alive from my lips and I could feel myself disappear
I was acting but it wasnt me, it was Him
I was speaking but I wasnt
I was no longer there
It was all Him
As I looked intently at His face, His eyes were filled with tears but He was beaming with a smile
I wondered to myself what the expression on His face meant then He replied me there in my thoughts, This is what I wanted from the beginning of time, before I ever wrote the script
It was never just about the script, it was and is about you and I as one`,zY=`I saw men sleeping, walking
Heavy eyed for the sleep that had fallen on them
I saw men sleeping, walking and I was distraught
I was distraught for what might befall them in their sleep
What slimy hands might find this an occasion to slip them up
For what pits they might fall into
In my distress I brought the light to their eyes in hope
That it might open their eyes
But they shut their eyes harder and pushed me away
for the brightness of this truth caused their sleepy eyes agony
And they loved their sleep
Then I heard a Voice call out to me saying,
Let them be. For I will cause the ground beneath them to shake and there shall be an awakening. And the light that shone before their eyes and couldnt open it will shine within them and there will be no escaping it. And their eyes will be open wide and will not be shut to sleep ever again.
Then I fell on my knees before the One Who spoke to perform it as He had spoken
And my heart was at peace`,UY=`How many ways can I say I love you
The have you eaten? texts
The call me when you get home
The listening ear
Praying with you at 2am in the morning
In how many ways did you say you love me?
How many times and in how many places did your blood spill for me?
How many stripes did your flesh take?
Or is it the consuming overwhelming love wrapping itself around me in the night seasons?
The smile on my face looking at you
The smile on your face looking at me
How can I describe the endless sweetness of your love?
My body stretched out on the floor
My face soaked in tears
Can you see that I love you?
The longing
It never ends
How do you know its love
If it doesnt give you a new heart
Daily turning out treasures you didnt know existed within
What do I do with this love?
Do I take you to your favourite spot?
Or do I curl up in a ball of tears in secret?
Holding on to you in realms beyond
Speaking unutterable words
How do I love you?
When I wake up every morning and your love renews itself
Fresher, stronger than last night
When I dont think I can love you more than I did yesterday
You show me how
Loving me into loving you
An infinite cycle of bliss`,WY=`Oh to see your face my Precious Lord
What would I do?
Would I jump and leap endlessly in excitement?
Would I rush to hold you, kiss your hands and feet?
Or would I be flat on my face as dead enamoured by your very presence?
Oh to be face to face with the One I adore
The One who deserves all the love songs and poems a soul could ever compose
But Who desires the heart that truly loves Him with or without sweet words to give
What an arrival it will be
What a departure
The earth and all in it have never had such a moment until that magnificent Day
The King of kings arriving in the grandest of splendour to pick His kids up
Oh to be home with you forever my Lord and King`,GY=`Lord I hope I put a smile on your face everyday
Because when I look at you
When I let my heart sink a little deeper into your loveliness
My smile is so big my face cant contain it
Lord I hope youre proud of me
Because Im so proud to be yours
Im so proud to be the one you want
Im so proud to identify with you
Even when standing with you means
Fighting wars
Id rather fight wars with you than have peace without you
Assuming theres such a thing as peace without you
Im with you Lord
Im not going anywhere
Lord I hope your heart sings when you think of me
Because I cant stop the songs in my heart
Theyve become a permanent soundtrack to my daily living
All Im saying Lord is
In you, With you
Ive found the greatest love
& I cant help but wonder
If every transcendent experience of you is what you experience of me
Lord your love is surer to me than the sky is blue
I pray you never have a reason to doubt my love for you`,Zg=[{id:1,title:"A loved life",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:kY,picture:"./assets/ALovedLife.png"},{id:2,title:"A watered garden",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:IY,picture:"/assets/AWateredGarden.png"},{id:3,title:"Salt preserved",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:_Y,picture:"/assets/SaltPreserved.png"},{id:4,title:"Strength",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:RY,picture:"/assets/Strength.png"},{id:5,title:"Blooming love",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:MY,picture:"/assets/BloomingLove.png"},{id:6,title:"Cream your dreams",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:NY,picture:"/assets/CreamYourDreams.png"},{id:7,title:"Undefeated",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:LY,picture:"/assets/Undefeated.png"},{id:8,title:"Discernment",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:DY,picture:"/assets/Discernment.png"},{id:9,title:"Strange beauty",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:OY,picture:"/assets/StrangeBeauty.png"},{id:10,title:"Preserved for purpose",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:jY,picture:"/assets/PreservedForPurpose.png"},{id:11,title:"New year, new me",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:FY,picture:"/assets/NewYearNewMe.png"},{id:12,title:"A head in the clouds",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:BY,picture:"/assets/AHeadInTheClouds.png"},{id:13,title:"Real love",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:VY,picture:"/assets/RealLove.png"},{id:14,title:"Beyond the senses",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:HY,picture:"assets/BeyondTheSenses.png"},{id:15,title:"Following the script",author:"P.E.B",genre:"Poems",length:2,type:"Poem",collection:"Eyes that see, A heart that speaks",content:$Y,picture:"/assets/FollowingTheScript.png"},{id:16,title:"Revival",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:zY,picture:"/assets/Revival.png"},{id:17,title:"Expressions of love",author:"P.E.B",genre:"Poems",length:2,type:"Poem",collection:"Eyes that see, A heart that speaks",content:UY,picture:"/assets/ExpressionsOfLove.png"},{id:18,title:"Almost home",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:WY,picture:"/assets/AlmostHome.png"},{id:19,title:"Love confessions",author:"P.E.B",genre:"Poems",length:2,type:"Poem",collection:"Eyes that see, A heart that speaks",content:GY,picture:"/assets/LoveConfessions.png"},{id:20,title:"Nothing Lacking",author:"Miss EJA",genre:"Stories",length:17,type:"Stories",collection:"The Sealed Life Chronicles",content:EY,picture:"/assets/NothingLacking.png"},{id:21,title:"Sight by Speaking",author:"Miss EJA",genre:"Stories",length:14,type:"Stories",collection:"The Sealed Life Chronicles",content:CY,picture:"/assets/SightBySpeaking.png"},{id:22,title:"The Summer Everything Changed",author:"Miss EJA",genre:"Stories",length:12,type:"Stories",collection:"The Sealed Life Chronicles",content:TY,picture:"/assets/TheSummerEverythingChanged.png"},{id:23,title:"The Golden Man's Trial",author:"Miss EJA",genre:"Stories",type:"Stories",length:23,collection:"The Sealed Life Chronicles",content:PY,picture:"/assets/TheGoldenMansTrial.png"},{id:24,title:"Fate and faith",author:"Delight Adisa",genre:"Novels",length:131,type:"PDF",collection:"",content:"/assets/FateAndFaith.pdf",pdfUrl:"/assets/FateAndFaith.pdf",picture:"/assets/FateAndFaith.jpg"}],KY=n=>Zg.find(e=>e.id===parseInt(n)),FS=({className:n,initial:e,animate:t})=>y.jsx(re.div,{className:`orb ${n}`,initial:e,animate:t}),BS=({icon:n,title:e,description:t,link:r,linkText:i,delay:s})=>{const o=E.useRef(null),a=Pw(0),l=Pw(0),c=FI(a),d=FI(l);_y(d,[-.5,.5],["40%","60%"]),_y(c,[-.5,.5],["40%","60%"]);const h=g=>{const A=o.current.getBoundingClientRect(),b=A.width,S=A.height,x=g.clientX-A.left,p=g.clientY-A.top,w=x/b-.5,T=p/S-.5;a.set(w),l.set(T)},f=()=>{a.set(0),l.set(0)},m=_y(d,[-.5,.5],["12.5deg","-12.5deg"]),v=_y(c,[-.5,.5],["-12.5deg","12.5deg"]);return y.jsx(re.div,{ref:o,onMouseMove:h,onMouseLeave:f,style:{rotateX:m,rotateY:v,transformStyle:"preserve-3d"},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:s},className:"relative h-full",children:y.jsxs("div",{style:{transform:"translateZ(75px)",transformStyle:"preserve-3d"},className:"h-full text-center p-6 md:p-8 glassmorphism rounded-2xl flex flex-col aurora-card",children:[y.jsx("div",{className:"mb-4 inline-block p-4 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full text-primary",children:y.jsx(n,{size:32,style:{transform:"translateZ(50px)"}})}),y.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",style:{transform:"translateZ(50px)"},children:e}),y.jsx("p",{className:"text-muted-foreground mb-6 flex-grow",style:{transform:"translateZ(40px)"},children:t}),y.jsx(It,{asChild:!0,variant:"outline",style:{transform:"translateZ(60px)"},children:y.jsxs(Ht,{to:r,className:"group",children:[i," ",y.jsx(AT,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})},YY=()=>{const n=Zg.slice(0,10);return y.jsx("div",{className:"relative flex w-full overflow-x-hidden",children:y.jsxs("div",{className:"marquee",children:[y.jsx("div",{className:"marquee__content",children:n.map(e=>y.jsxs("div",{className:"flex flex-col items-center mx-6 space-y-2",children:[y.jsx("img",{src:e.picture,alt:e.title,className:"w-36 h-32 object-cover rounded-xl shadow-lg"}),y.jsx("span",{className:"text-base font-medium text-foreground text-center whitespace-nowrap",children:e.title})]},`${e.id}-1`))}),y.jsx("div",{"aria-hidden":"true",className:"marquee__content",children:n.map(e=>y.jsxs("div",{className:"flex flex-col items-center mx-6 space-y-2",children:[y.jsx("img",{src:e.picture,alt:e.title,className:"w-36 h-32 object-cover rounded-xl shadow-lg"}),y.jsx("span",{className:"text-base font-medium text-foreground text-center whitespace-nowrap",children:e.title})]},`${e.id}-2`))})]})})},XY=()=>y.jsxs("div",{className:"space-y-24 md:space-y-32 overflow-hidden",children:[y.jsxs("div",{className:"creative-bg",children:[y.jsx(FS,{className:"orb-1",initial:{top:"10%",left:"10%"},animate:{top:["10%","60%","20%","10%"],left:["10%","70%","50%","10%"],transition:{duration:40,repeat:1/0,ease:"easeInOut"}}}),y.jsx(FS,{className:"orb-2",initial:{top:"80%",left:"80%"},animate:{top:["80%","20%","70%","80%"],left:["80%","30%","90%","80%"],transition:{duration:35,repeat:1/0,ease:"easeInOut"}}}),y.jsx(FS,{className:"orb-3",initial:{top:"50%",left:"50%"},animate:{top:["50%","10%","90%","50%"],left:["50%","90%","10%","50%"],transition:{duration:45,repeat:1/0,ease:"easeInOut"}}})]}),y.jsxs("section",{id:"home",className:"text-center py-8 md:py-2 relative",children:[y.jsxs(re.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:"easeOut"},className:"relative z-10",children:[y.jsxs(re.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:200,damping:20},className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-1 rounded-full text-sm font-semibold mb-6 transform -rotate-3",children:[y.jsx(yA,{className:"w-4 h-4"}),"Welcome Home, Kingdom Pager"]}),y.jsxs("h1",{className:"text-6xl md:text-8xl font-black mb-6 leading-none tracking-tighter",children:[y.jsx("span",{className:"block",children:"READ. CONNECT."}),y.jsx("span",{className:"block highlight-scribble",children:"BE INSPIRED."})]}),y.jsx("p",{className:"max-w-xl mx-auto text-lg md:text-xl text-muted-foreground mb-10",children:y.jsx("em",{children:"A sacred space for Holy Spirit inspired voices  where faith meets creativity and every page carries a word of blessing. "})}),y.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[y.jsx(It,{size:"lg",asChild:!0,className:"group bg-gradient-to-r from-primary to-secondary text-primary-foreground hover:opacity-90 transition-opacity",children:y.jsxs(Ht,{to:"/library",children:["Explore the Library",y.jsx(AT,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),y.jsx(It,{size:"lg",variant:"outline",asChild:!0,children:y.jsx(Ht,{to:"/about",children:"Our Story"})})]})]}),y.jsx(up,{direction:"down",className:"text-background"}),y.jsxs("div",{className:"py-10 bg-background relative z-10",children:[y.jsx("h3",{className:"text-center text-xl font-semibold mb-8 text-muted-foreground",children:"Discover Our Collection"}),y.jsx(YY,{})]}),y.jsx(up,{direction:"up",className:"text-background"}),y.jsxs("section",{id:"features",className:"container mx-auto px-4 relative z-10",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"A Canvas for Creativity"}),y.jsx("p",{className:"max-w-2xl mx-auto text-muted-foreground",children:" Everything you need to immerse yourself in the world of Holy Spirit inspired literary work."})]}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",style:{perspective:"1000px"},children:[y.jsx(BS,{icon:kw,title:"Curated Library",description:"Explore literature and visual works crafted by Holy Spirit-led artists  each piece rooted in faith and purpose.",delay:.2,link:"/library",linkText:"Start Reading"}),y.jsx(BS,{x:!0,icon:iD,title:"Share Your Story",description:"Has our Spirit-led platform personally inspired you in a way that you would like to share with us?",delay:.4,link:"/contact",linkText:"Get in Touch"}),y.jsx(BS,{icon:aG,title:"Join the Dialogue",description:"Engage with a vibrant community. Share interpretations, explore inspired writings, and discuss the topics that matter most.",delay:.6,link:"/library",linkText:"Start Commenting"})]})]}),y.jsx("section",{className:"container mx-auto text-center py-20 relative z-10",children:y.jsxs(re.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.7},className:"glassmorphism p-10 md:p-16 rounded-2xl aurora-card",children:[y.jsx("h2",{className:"text-4xl font-bold mb-4 gradient-text",children:"Ready to Begin Your Next Chapter?"}),y.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-muted-foreground",children:"A divine perspective awaits in every Spirit-inspired story  and its just a click away."}),y.jsx(It,{size:"lg",asChild:!0,className:"group bg-gradient-to-r from-primary to-secondary text-primary-foreground hover:opacity-90 transition-opacity",children:y.jsxs(Ht,{to:"/library",children:["Take Me to the Library ",y.jsx(kw,{className:"ml-2 h-5 w-5 transition-transform group-hover:rotate-3"})]})})]})})]})]}),yu=J.forwardRef(({className:n,type:e,...t},r)=>y.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));yu.displayName="Input";function Ow(n,[e,t]){return Math.min(t,Math.max(e,n))}function eO(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var tO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qY="VisuallyHidden",$T=E.forwardRef((n,e)=>y.jsx(fe.span,{...n,ref:e,style:{...tO,...n.style}}));$T.displayName=qY;var QY=[" ","Enter","ArrowUp","ArrowDown"],ZY=[" ","Enter"],yc="Select",[Cb,Tb,JY]=Kg(yc),[Ph,JQ]=fa(yc,[JY,wb]),Pb=wb(),[e9,pa]=Ph(yc),[t9,n9]=Ph(yc),nO=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:m,form:v}=n,g=Pb(e),[A,b]=E.useState(null),[S,x]=E.useState(null),[p,w]=E.useState(!1),T=fb(c),[k,_]=fh({prop:r,defaultProp:i??!1,onChange:s,caller:yc}),[R,M]=fh({prop:o,defaultProp:a,onChange:l,caller:yc}),N=E.useRef(null),j=A?v||!!A.closest("form"):!0,[V,L]=E.useState(new Set),$=Array.from(V).map(D=>D.props.value).join(";");return y.jsx(BD,{...g,children:y.jsxs(e9,{required:m,scope:e,trigger:A,onTriggerChange:b,valueNode:S,onValueNodeChange:x,valueNodeHasChildren:p,onValueNodeHasChildrenChange:w,contentId:ph(),value:R,onValueChange:M,open:k,onOpenChange:_,dir:T,triggerPointerDownPosRef:N,disabled:f,children:[y.jsx(Cb.Provider,{scope:e,children:y.jsx(t9,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(D=>{L(B=>new Set(B).add(D))},[]),onNativeOptionRemove:E.useCallback(D=>{L(B=>{const O=new Set(B);return O.delete(D),O})},[]),children:t})}),j?y.jsxs(TO,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:R,onChange:D=>M(D.target.value),disabled:f,form:v,children:[R===void 0?y.jsx("option",{value:""}):null,Array.from(V)]},$):null]})})};nO.displayName=yc;var rO="SelectTrigger",iO=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=Pb(t),o=pa(rO,t),a=o.disabled||r,l=Te(e,o.onTriggerChange),c=Tb(t),d=E.useRef("touch"),[h,f,m]=kO(g=>{const A=c().filter(x=>!x.disabled),b=A.find(x=>x.value===o.value),S=IO(A,g,b);S!==void 0&&o.onValueChange(S.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return y.jsx(VD,{asChild:!0,...s,children:y.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":PO(o.value)?"":void 0,...i,ref:l,onClick:X(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:X(i.onPointerDown,g=>{d.current=g.pointerType;const A=g.target;A.hasPointerCapture(g.pointerId)&&A.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:X(i.onKeyDown,g=>{const A=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(A&&g.key===" ")&&QY.includes(g.key)&&(v(),g.preventDefault())})})})});iO.displayName=rO;var sO="SelectValue",oO=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=pa(sO,t),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=Te(e,l.onValueNodeChange);return Ut(()=>{c(d)},[c,d]),y.jsx(fe.span,{...a,ref:h,style:{pointerEvents:"none"},children:PO(l.value)?y.jsx(y.Fragment,{children:o}):s})});oO.displayName=sO;var r9="SelectIcon",aO=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return y.jsx(fe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});aO.displayName=r9;var i9="SelectPortal",lO=n=>y.jsx(xb,{asChild:!0,...n});lO.displayName=i9;var vc="SelectContent",cO=E.forwardRef((n,e)=>{const t=pa(vc,n.__scopeSelect),[r,i]=E.useState();if(Ut(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?Ac.createPortal(y.jsx(uO,{scope:n.__scopeSelect,children:y.jsx(Cb.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),s):null}return y.jsx(dO,{...n,ref:e})});cO.displayName=vc;var Tr=10,[uO,ma]=Ph(vc),s9="SelectContentImpl",o9=hh("SelectContent.RemoveScroll"),dO=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:A,...b}=n,S=pa(vc,t),[x,p]=E.useState(null),[w,T]=E.useState(null),k=Te(e,G=>p(G)),[_,R]=E.useState(null),[M,N]=E.useState(null),j=Tb(t),[V,L]=E.useState(!1),$=E.useRef(!1);E.useEffect(()=>{if(x)return qD(x)},[x]),mD();const D=E.useCallback(G=>{const[he,...ue]=j().map(me=>me.ref.current),[te]=ue.slice(-1),se=document.activeElement;for(const me of G)if(me===se||(me==null||me.scrollIntoView({block:"nearest"}),me===he&&w&&(w.scrollTop=0),me===te&&w&&(w.scrollTop=w.scrollHeight),me==null||me.focus(),document.activeElement!==se))return},[j,w]),B=E.useCallback(()=>D([_,x]),[D,_,x]);E.useEffect(()=>{V&&B()},[V,B]);const{onOpenChange:O,triggerPointerDownPosRef:F}=S;E.useEffect(()=>{if(x){let G={x:0,y:0};const he=te=>{var se,me;G={x:Math.abs(Math.round(te.pageX)-(((se=F.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(te.pageY)-(((me=F.current)==null?void 0:me.y)??0))}},ue=te=>{G.x<=10&&G.y<=10?te.preventDefault():x.contains(te.target)||O(!1),document.removeEventListener("pointermove",he),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",ue,{capture:!0})}}},[x,O,F]),E.useEffect(()=>{const G=()=>O(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[O]);const[U,W]=kO(G=>{const he=j().filter(se=>!se.disabled),ue=he.find(se=>se.ref.current===document.activeElement),te=IO(he,G,ue);te&&setTimeout(()=>te.ref.current.focus())}),K=E.useCallback((G,he,ue)=>{const te=!$.current&&!ue;(S.value!==void 0&&S.value===he||te)&&(R(G),te&&($.current=!0))},[S.value]),Z=E.useCallback(()=>x==null?void 0:x.focus(),[x]),de=E.useCallback((G,he,ue)=>{const te=!$.current&&!ue;(S.value!==void 0&&S.value===he||te)&&N(G)},[S.value]),Pe=r==="popper"?TA:hO,ce=Pe===TA?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:A}:{};return y.jsx(uO,{scope:t,content:x,viewport:w,onViewportChange:T,itemRefCallback:K,selectedItem:_,onItemLeave:Z,itemTextRefCallback:de,focusSelectedItem:B,selectedItemText:M,position:r,isPositioned:V,searchRef:U,children:y.jsx(s2,{as:o9,allowPinchZoom:!0,children:y.jsx(TT,{asChild:!0,trapped:S.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:X(i,G=>{var he;(he=S.trigger)==null||he.focus({preventScroll:!0}),G.preventDefault()}),children:y.jsx(pb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:y.jsx(Pe,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:G=>G.preventDefault(),...b,...ce,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:X(b.onKeyDown,G=>{const he=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!he&&G.key.length===1&&W(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let te=j().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(G.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const se=G.target,me=te.indexOf(se);te=te.slice(me+1)}setTimeout(()=>D(te)),G.preventDefault()}})})})})})})});dO.displayName=s9;var a9="SelectItemAlignedPosition",hO=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=pa(vc,t),o=ma(vc,t),[a,l]=E.useState(null),[c,d]=E.useState(null),h=Te(e,k=>d(k)),f=Tb(t),m=E.useRef(!1),v=E.useRef(!0),{viewport:g,selectedItem:A,selectedItemText:b,focusSelectedItem:S}=o,x=E.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&A&&b){const k=s.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(s.dir!=="rtl"){const se=M.left-_.left,me=R.left-se,oe=k.left-me,Se=k.width+oe,je=Math.max(Se,_.width),He=window.innerWidth-Tr,nr=Ow(me,[Tr,Math.max(Tr,He-je)]);a.style.minWidth=Se+"px",a.style.left=nr+"px"}else{const se=_.right-M.right,me=window.innerWidth-R.right-se,oe=window.innerWidth-k.right-me,Se=k.width+oe,je=Math.max(Se,_.width),He=window.innerWidth-Tr,nr=Ow(me,[Tr,Math.max(Tr,He-je)]);a.style.minWidth=Se+"px",a.style.right=nr+"px"}const N=f(),j=window.innerHeight-Tr*2,V=g.scrollHeight,L=window.getComputedStyle(c),$=parseInt(L.borderTopWidth,10),D=parseInt(L.paddingTop,10),B=parseInt(L.borderBottomWidth,10),O=parseInt(L.paddingBottom,10),F=$+D+V+O+B,U=Math.min(A.offsetHeight*5,F),W=window.getComputedStyle(g),K=parseInt(W.paddingTop,10),Z=parseInt(W.paddingBottom,10),de=k.top+k.height/2-Tr,Pe=j-de,ce=A.offsetHeight/2,G=A.offsetTop+ce,he=$+D+G,ue=F-he;if(he<=de){const se=N.length>0&&A===N[N.length-1].ref.current;a.style.bottom="0px";const me=c.clientHeight-g.offsetTop-g.offsetHeight,oe=Math.max(Pe,ce+(se?Z:0)+me+B),Se=he+oe;a.style.height=Se+"px"}else{const se=N.length>0&&A===N[0].ref.current;a.style.top="0px";const oe=Math.max(de,$+g.offsetTop+(se?K:0)+ce)+ue;a.style.height=oe+"px",g.scrollTop=he-de+g.offsetTop}a.style.margin=`${Tr}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,c,g,A,b,s.dir,r]);Ut(()=>x(),[x]);const[p,w]=E.useState();Ut(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const T=E.useCallback(k=>{k&&v.current===!0&&(x(),S==null||S(),v.current=!1)},[x,S]);return y.jsx(c9,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:y.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:p},children:y.jsx(fe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});hO.displayName=a9;var l9="SelectPopperPosition",TA=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Tr,...s}=n,o=Pb(t);return y.jsx(HD,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TA.displayName=l9;var[c9,zT]=Ph(vc,{}),PA="SelectViewport",fO=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=ma(PA,t),o=zT(PA,t),a=Te(e,s.onViewportChange),l=E.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(Cb.Slot,{scope:t,children:y.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:X(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Tr*2,g=parseFloat(h.style.minHeight),A=parseFloat(h.style.height),b=Math.max(g,A);if(b<v){const S=b+m,x=Math.min(v,S),p=S-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=p>0?p:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});fO.displayName=PA;var pO="SelectGroup",[u9,d9]=Ph(pO),h9=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=ph();return y.jsx(u9,{scope:t,id:i,children:y.jsx(fe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});h9.displayName=pO;var mO="SelectLabel",gO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=d9(mO,t);return y.jsx(fe.div,{id:i.id,...r,ref:e})});gO.displayName=mO;var jw="SelectItem",[f9,yO]=Ph(jw),vO=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=pa(jw,t),l=ma(jw,t),c=a.value===r,[d,h]=E.useState(s??""),[f,m]=E.useState(!1),v=Te(e,S=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,S,r,i)}),g=ph(),A=E.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(f9,{scope:t,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:E.useCallback(S=>{h(x=>x||((S==null?void 0:S.textContent)??"").trim())},[]),children:y.jsx(Cb.ItemSlot,{scope:t,value:r,disabled:i,textValue:d,children:y.jsx(fe.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:X(o.onFocus,()=>m(!0)),onBlur:X(o.onBlur,()=>m(!1)),onClick:X(o.onClick,()=>{A.current!=="mouse"&&b()}),onPointerUp:X(o.onPointerUp,()=>{A.current==="mouse"&&b()}),onPointerDown:X(o.onPointerDown,S=>{A.current=S.pointerType}),onPointerMove:X(o.onPointerMove,S=>{var x;A.current=S.pointerType,i?(x=l.onItemLeave)==null||x.call(l):A.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(o.onPointerLeave,S=>{var x;S.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:X(o.onKeyDown,S=>{var p;((p=l.searchRef)==null?void 0:p.current)!==""&&S.key===" "||(ZY.includes(S.key)&&b(),S.key===" "&&S.preventDefault())})})})})});vO.displayName=jw;var ef="SelectItemText",wO=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=pa(ef,t),a=ma(ef,t),l=yO(ef,t),c=n9(ef,t),[d,h]=E.useState(null),f=Te(e,b=>h(b),l.onItemTextChange,b=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,b,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=E.useMemo(()=>y.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:A}=c;return Ut(()=>(g(v),()=>A(v)),[g,A,v]),y.jsxs(y.Fragment,{children:[y.jsx(fe.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ac.createPortal(s.children,o.valueNode):null]})});wO.displayName=ef;var xO="SelectItemIndicator",bO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return yO(xO,t).isSelected?y.jsx(fe.span,{"aria-hidden":!0,...r,ref:e}):null});bO.displayName=xO;var kA="SelectScrollUpButton",SO=E.forwardRef((n,e)=>{const t=ma(kA,n.__scopeSelect),r=zT(kA,n.__scopeSelect),[i,s]=E.useState(!1),o=Te(e,r.onScrollButtonChange);return Ut(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?y.jsx(EO,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});SO.displayName=kA;var IA="SelectScrollDownButton",AO=E.forwardRef((n,e)=>{const t=ma(IA,n.__scopeSelect),r=zT(IA,n.__scopeSelect),[i,s]=E.useState(!1),o=Te(e,r.onScrollButtonChange);return Ut(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?y.jsx(EO,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});AO.displayName=IA;var EO=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=ma("SelectScrollButton",t),o=E.useRef(null),a=Tb(t),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),Ut(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),y.jsx(fe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:X(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:X(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:X(i.onPointerLeave,()=>{l()})})}),p9="SelectSeparator",CO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return y.jsx(fe.div,{"aria-hidden":!0,...r,ref:e})});CO.displayName=p9;var _A="SelectArrow",m9=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Pb(t),s=pa(_A,t),o=ma(_A,t);return s.open&&o.position==="popper"?y.jsx($D,{...i,...r,ref:e}):null});m9.displayName=_A;var g9="SelectBubbleInput",TO=E.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=E.useRef(null),s=Te(r,i),o=eO(e);return E.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),y.jsx(fe.select,{...t,style:{...tO,...t.style},ref:s,defaultValue:e})});TO.displayName=g9;function PO(n){return n===""||n===void 0}function kO(n){const e=In(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function IO(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=y9(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function y9(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var v9=nO,_O=iO,w9=oO,x9=aO,b9=lO,RO=cO,S9=fO,MO=gO,NO=vO,A9=wO,E9=bO,LO=SO,DO=AO,OO=CO;const VS=v9,HS=w9,hv=J.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(_O,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:[e,y.jsx(x9,{asChild:!0,children:y.jsx(nD,{className:"h-4 w-4 opacity-50"})})]}));hv.displayName=_O.displayName;const jO=J.forwardRef(({className:n,...e},t)=>y.jsx(LO,{ref:t,className:Ae("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(q4,{className:"h-4 w-4"})}));jO.displayName=LO.displayName;const FO=J.forwardRef(({className:n,...e},t)=>y.jsx(DO,{ref:t,className:Ae("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(nD,{className:"h-4 w-4"})}));FO.displayName=DO.displayName;const fv=J.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>y.jsx(b9,{children:y.jsxs(RO,{ref:i,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[y.jsx(jO,{}),y.jsx(S9,{className:Ae("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(FO,{})]})}));fv.displayName=RO.displayName;const C9=J.forwardRef(({className:n,...e},t)=>y.jsx(MO,{ref:t,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));C9.displayName=MO.displayName;const Ea=J.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(NO,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(E9,{children:y.jsx(tD,{className:"h-4 w-4"})})}),y.jsx(A9,{children:e})]}));Ea.displayName=NO.displayName;const T9=J.forwardRef(({className:n,...e},t)=>y.jsx(OO,{ref:t,className:Ae("-mx-1 my-1 h-px bg-muted",n),...e}));T9.displayName=OO.displayName;const BO=J.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));BO.displayName="CardBase";const oc=J.forwardRef(({className:n,children:e,...t},r)=>{const i=E.useRef(null),s=o=>{if(!i.current)return;const a=i.current.getBoundingClientRect();i.current.style.setProperty("--mouse-x",`${o.clientX-a.left}px`),i.current.style.setProperty("--mouse-y",`${o.clientY-a.top}px`)};return y.jsx(BO,{ref:r,className:Ae("aurora-card relative",n),onMouseMove:s,...t,children:y.jsx("div",{ref:i,className:"h-full w-full",children:e})})});oc.displayName="Card";const ac=J.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ae("flex flex-col space-y-1.5 p-6",n),...e}));ac.displayName="CardHeader";const lc=J.forwardRef(({className:n,...e},t)=>y.jsx("h3",{ref:t,className:Ae("text-2xl font-semibold leading-none tracking-tight",n),...e}));lc.displayName="CardTitle";const Zo=J.forwardRef(({className:n,...e},t)=>y.jsx("p",{ref:t,className:Ae("text-sm text-muted-foreground",n),...e}));Zo.displayName="CardDescription";const cc=J.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ae("p-6 pt-0",n),...e}));cc.displayName="CardContent";const UT=J.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ae("flex items-center p-6 pt-0",n),...e}));UT.displayName="CardFooter";var P9="Label",VO=E.forwardRef((n,e)=>y.jsx(fe.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));VO.displayName=P9;var HO=VO;const k9=ST("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wr=J.forwardRef(({className:n,...e},t)=>y.jsx(HO,{ref:t,className:Ae(k9(),n),...e}));Wr.displayName=HO.displayName;var $O=["PageUp","PageDown"],zO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UO={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},kh="Slider",[RA,I9,_9]=Kg(kh),[WO,eZ]=fa(kh,[_9]),[R9,kb]=WO(kh),GO=E.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:v,...g}=n,A=E.useRef(new Set),b=E.useRef(0),x=o==="horizontal"?M9:N9,[p=[],w]=fh({prop:d,defaultProp:c,onChange:N=>{var V;(V=[...A.current][b.current])==null||V.focus(),h(N)}}),T=E.useRef(p);function k(N){const j=F9(p,N);M(N,j)}function _(N){M(N,b.current)}function R(){const N=T.current[b.current];p[b.current]!==N&&f(p)}function M(N,j,{commit:V}={commit:!1}){const L=$9(s),$=z9(Math.round((N-r)/s)*s+r,L),D=Ow($,[r,i]);w((B=[])=>{const O=O9(B,D,j);if(H9(O,l*s)){b.current=O.indexOf(D);const F=String(O)!==String(B);return F&&V&&f(O),F?O:B}else return B})}return y.jsx(R9,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:A.current,values:p,orientation:o,form:v,children:y.jsx(RA.Provider,{scope:n.__scopeSlider,children:y.jsx(RA.Slot,{scope:n.__scopeSlider,children:y.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:X(g.onPointerDown,()=>{a||(T.current=p)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:k,onSlideMove:a?void 0:_,onSlideEnd:a?void 0:R,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(i,p.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:j})=>{if(!a){const $=$O.includes(N.key)||N.shiftKey&&zO.includes(N.key)?10:1,D=b.current,B=p[D],O=s*$*j;M(B+O,D,{commit:!0})}}})})})})});GO.displayName=kh;var[KO,YO]=WO(kh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),M9=E.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=n,[h,f]=E.useState(null),m=Te(e,x=>f(x)),v=E.useRef(void 0),g=fb(i),A=g==="ltr",b=A&&!s||!A&&s;function S(x){const p=v.current||h.getBoundingClientRect(),w=[0,p.width],k=WT(w,b?[t,r]:[r,t]);return v.current=p,k(x-p.left)}return y.jsx(KO,{scope:n.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:y.jsx(XO,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const p=S(x.clientX);o==null||o(p)},onSlideMove:x=>{const p=S(x.clientX);a==null||a(p)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:x=>{const w=UO[b?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:w?-1:1})}})})}),N9=E.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=n,d=E.useRef(null),h=Te(e,d),f=E.useRef(void 0),m=!i;function v(g){const A=f.current||d.current.getBoundingClientRect(),b=[0,A.height],x=WT(b,m?[r,t]:[t,r]);return f.current=A,x(g-A.top)}return y.jsx(KO,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:y.jsx(XO,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const A=v(g.clientY);s==null||s(A)},onSlideMove:g=>{const A=v(g.clientY);o==null||o(A)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:g=>{const b=UO[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:b?-1:1})}})})}),XO=E.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=n,d=kb(kh,t);return y.jsx(fe.span,{...c,ref:e,onKeyDown:X(n.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):$O.concat(zO).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:X(n.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:X(n.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:X(n.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),s(h))})})}),qO="SliderTrack",QO=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=kb(qO,t);return y.jsx(fe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});QO.displayName=qO;var MA="SliderRange",ZO=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=kb(MA,t),s=YO(MA,t),o=E.useRef(null),a=Te(e,o),l=i.values.length,c=i.values.map(f=>tj(f,i.min,i.max)),d=l>1?Math.min(...c):0,h=100-Math.max(...c);return y.jsx(fe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:d+"%",[s.endEdge]:h+"%"}})});ZO.displayName=MA;var NA="SliderThumb",JO=E.forwardRef((n,e)=>{const t=I9(n.__scopeSlider),[r,i]=E.useState(null),s=Te(e,a=>i(a)),o=E.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return y.jsx(L9,{...n,ref:s,index:o})}),L9=E.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=kb(NA,t),a=YO(NA,t),[l,c]=E.useState(null),d=Te(e,S=>c(S)),h=l?o.form||!!l.closest("form"):!0,f=ID(l),m=o.values[r],v=m===void 0?0:tj(m,o.min,o.max),g=j9(r,o.values.length),A=f==null?void 0:f[a.size],b=A?B9(A,v,a.direction):0;return E.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${b}px)`},children:[y.jsx(RA.ItemSlot,{scope:n.__scopeSlider,children:y.jsx(fe.span,{role:"slider","aria-label":n["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:n.style,onFocus:X(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&y.jsx(ej,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});JO.displayName=NA;var D9="RadioBubbleInput",ej=E.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const i=E.useRef(null),s=Te(i,r),o=eO(e);return E.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),y.jsx(fe.input,{style:{display:"none"},...t,ref:s,defaultValue:e})});ej.displayName=D9;function O9(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function tj(n,e,t){const s=100/(t-e)*(n-e);return Ow(s,[0,100])}function j9(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function F9(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function B9(n,e,t){const r=n/2,s=WT([0,50],[0,r]);return(r-s(e)*t)*t}function V9(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function H9(n,e){if(e>0){const t=V9(n);return Math.min(...t)>=e}return!0}function WT(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function $9(n){return(String(n).split(".")[1]||"").length}function z9(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var nj=GO,U9=QO,W9=ZO,v_=JO;const rj=J.forwardRef(({className:n,...e},t)=>y.jsxs(nj,{ref:t,className:Ae("relative flex w-full touch-none select-none items-center",n),...e,children:[y.jsx(U9,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary/40 dark:bg-secondary/30",children:y.jsx(W9,{className:"absolute h-full bg-primary dark:bg-accent"})}),y.jsx(v_,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-accent dark:bg-popover"}),e.value&&e.value.length>1&&y.jsx(v_,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-accent dark:bg-popover"})]}));rj.displayName=nj.displayName;const G9=["All",...new Set(Zg.map(n=>n.genre))],K9=["All",...new Set(Zg.map(n=>n.author))],Y9=()=>{const[n,e]=E.useState(""),[t,r]=E.useState("All"),[i,s]=E.useState("All"),[o,a]=E.useState([0,200]),[l,c]=E.useState("title_asc"),[d,h]=E.useState(!1),f=E.useMemo(()=>{let g=Zg;return n&&(g=g.filter(A=>A.title.toLowerCase().includes(n.toLowerCase()))),t!=="All"&&(g=g.filter(A=>A.genre===t)),i!=="All"&&(g=g.filter(A=>A.author===i)),g=g.filter(A=>A.length>=o[0]&&A.length<=o[1]),g.sort((A,b)=>l==="title_asc"?A.title.localeCompare(b.title):l==="title_desc"?b.title.localeCompare(A.title):l==="author_asc"?A.author.localeCompare(b.author):l==="author_desc"?b.author.localeCompare(A.author):0),g},[n,t,i,o,l]),m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},v={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return y.jsxs("section",{id:"library",className:"space-y-8 scroll-mt-20 pt-16",children:[y.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"p-6 md:p-8 bg-gradient-to-r from-primary/5 via-secondary/5 to-accent/5 rounded-xl shadow-lg glassmorphism",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[y.jsx("h1",{className:"text-4xl font-bold gradient-text",children:"Our Digital Library"}),y.jsxs(It,{onClick:()=>h(!d),variant:"outline",className:"md:hidden flex items-center gap-2",children:[y.jsx(tG,{size:18})," ",d?"Hide":"Show"," Filters"]})]}),y.jsxs("div",{className:"relative mb-6",children:[y.jsx(yu,{type:"text",placeholder:"Search by title...",value:n,onChange:g=>e(g.target.value),className:"pl-10 text-lg h-12 bg-background/80 focus:ring-primary"}),y.jsx(uG,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),y.jsxs(re.div,{className:`grid md:grid-cols-2 lg:grid-cols-4 gap-4 ${d||window.innerWidth>=768?"grid":"hidden"}`,initial:!1,animate:d||window.innerWidth>=768?"visible":"hidden",variants:{visible:{opacity:1,height:"auto",transition:{duration:.3}},hidden:{opacity:0,height:0,transition:{duration:.3}}},children:[y.jsxs("div",{children:[y.jsx(Wr,{htmlFor:"genre-select",className:"text-sm font-medium text-foreground/80",children:"Genre"}),y.jsxs(VS,{value:t,onValueChange:r,children:[y.jsx(hv,{id:"genre-select",className:"w-full bg-background/80",children:y.jsx(HS,{placeholder:"Filter by genre"})}),y.jsx(fv,{children:G9.map(g=>y.jsx(Ea,{value:g,children:g},g))})]})]}),y.jsxs("div",{children:[y.jsx(Wr,{htmlFor:"author-select",className:"text-sm font-medium text-foreground/80",children:"Author"}),y.jsxs(VS,{value:i,onValueChange:s,children:[y.jsx(hv,{id:"author-select",className:"w-full bg-background/80",children:y.jsx(HS,{placeholder:"Filter by author"})}),y.jsx(fv,{children:K9.map(g=>y.jsx(Ea,{value:g,children:g},g))})]})]}),y.jsxs("div",{className:"lg:col-span-2",children:[y.jsxs(Wr,{htmlFor:"length-slider",className:"text-sm font-medium text-foreground/80",children:["Length (pages/issues): ",o[0]," - ",o[1]]}),y.jsx(rj,{id:"length-slider",min:0,max:200,step:10,value:o,onValueChange:a,className:"mt-2"})]}),y.jsxs("div",{children:[y.jsx(Wr,{htmlFor:"sort-select",className:"text-sm font-medium text-foreground/80",children:"Sort By"}),y.jsxs(VS,{value:l,onValueChange:c,children:[y.jsx(hv,{id:"sort-select",className:"w-full bg-background/80",children:y.jsx(HS,{placeholder:"Sort by"})}),y.jsxs(fv,{children:[y.jsx(Ea,{value:"title_asc",children:"Title (A-Z)"}),y.jsx(Ea,{value:"title_desc",children:"Title (Z-A)"}),y.jsx(Ea,{value:"author_asc",children:"Author (A-Z)"}),y.jsx(Ea,{value:"author_desc",children:"Author (Z-A)"})]})]})]})]})]}),f.length>0?y.jsx(re.div,{className:"grid grid-auto-fit gap-6",variants:m,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:f.map(g=>y.jsx(re.div,{variants:v,children:y.jsxs(oc,{className:"h-full flex flex-col overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 bg-card/80 glassmorphism transform hover:-translate-y-1",children:[y.jsx(ac,{className:"p-0",children:y.jsx(Ht,{to:`/read/${g.id}`,className:"block",children:y.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-purple-100 to-blue-100 flex items-center justify-center overflow-hidden",children:y.jsx("img",{src:g.picture,alt:g.title,className:"object-cover h-full w-full opacity-80 group-hover:opacity-100 transition-opacity duration-300"})})})}),y.jsxs(cc,{className:"p-4 flex-grow",children:[y.jsx(lc,{className:"text-xl mb-1 gradient-text",children:g.title}),y.jsxs(Zo,{className:"text-sm text-muted-foreground mb-2",children:["By ",g.author]}),y.jsxs("div",{className:"flex items-center space-x-4 text-xs text-foreground/70",children:[g.type==="PDF"?y.jsxs("span",{className:"flex items-center",children:[y.jsx(sD,{size:14,className:"mr-1 text-red-500"})," ",g.type]}):y.jsxs("span",{className:"flex items-center",children:[y.jsx(Y4,{size:14,className:"mr-1 text-primary"})," ",g.type]}),y.jsxs("span",{className:"flex items-center",children:[y.jsx(Z4,{size:14,className:"mr-1 text-secondary"})," ",g.length," pages"]})]})]}),y.jsx(UT,{className:"p-4 border-t border-border/50",children:y.jsx(Zo,{className:"text-xs mb-1 gradient-text",children:g.collection})})]})},g.id))}):y.jsxs(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center py-16 px-6 bg-card/50 rounded-xl glassmorphism",children:[y.jsx(nG,{size:48,className:"mx-auto text-primary mb-4"}),y.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Nothing Found"}),y.jsx("p",{className:"text-lg text-muted-foreground",children:"We couldn't find any items matching your search or filter criteria."}),y.jsx("p",{className:"text-muted-foreground mt-1",children:"Please try adjusting your filters or search term."})]})]})},$S=({icon:n,value:e,label:t,color:r,delay:i})=>y.jsxs(re.div,{className:`p-6 rounded-xl shadow-lg text-center glassmorphism border-2 ${r} aurora-card`,initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i},children:[y.jsx("div",{className:`mx-auto mb-3 w-16 h-16 rounded-full flex items-center justify-center bg-gradient-to-br ${r==="border-primary"?"from-primary to-purple-400":r==="border-secondary"?"from-secondary to-blue-400":"from-accent to-green-400"} text-primary-foreground`,children:J.createElement(n,{size:32})}),y.jsx("div",{className:"text-4xl font-bold gradient-text",children:e}),y.jsx("div",{className:"text-sm text-foreground/80",children:t})]}),zS=({date:n,title:e,description:t,icon:r,align:i,delay:s})=>y.jsxs(re.div,{className:`relative flex items-center w-full mb-8 ${i==="left"?"md:flex-row-reverse":"md:flex-row"}`,initial:{opacity:0,x:i==="left"?50:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:s},children:[y.jsx("div",{className:"hidden md:block w-5/12"}),y.jsx("div",{className:"z-10 flex items-center justify-center w-12 h-12 rounded-full shadow-xl bg-gradient-to-br from-primary to-secondary text-primary-foreground",children:J.createElement(r,{size:24})}),y.jsxs("div",{className:`w-full md:w-5/12 px-6 py-4 bg-card rounded-lg shadow-xl ${i==="left"?"md:text-right":"md:text-left"} aurora-card`,children:[y.jsx("p",{className:"mb-2 text-sm font-semibold text-primary",children:n}),y.jsx("h4",{className:"mb-2 font-bold text-lg text-foreground",children:e}),y.jsx("p",{className:"text-sm leading-snug tracking-wide text-foreground/80",children:t})]})]}),X9=()=>y.jsxs("div",{className:"space-y-16 relative",children:[y.jsx("div",{className:"creative-blob w-96 h-96 bg-primary/10 top-1/4 -left-32 animate-pulse"}),y.jsx("div",{className:"creative-blob w-72 h-72 bg-secondary/10 bottom-1/4 -right-32"}),y.jsxs("section",{id:"about",className:"text-center py-12 md:py-16 bg-gradient-to-bl from-purple-100/30 via-transparent to-blue-100/20 rounded-xl shadow-inner scroll-mt-20",children:[y.jsx(re.h1,{className:"text-5xl md:text-6xl font-extrabold mb-6 gradient-text",initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,ease:"easeOut"},children:"About Kingdom Pages"}),y.jsx(re.p,{className:"py-12 text-lg md:text-xl text-foreground/90 max-w-3xl mx-auto",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.2,ease:"easeOut"},children:"Kingdom Pages is a faith-driven digital library that brings together Christian stories, poems, and books that inspire faith, edify believers, and draws people into a personal relationship with Jesus Christ. Our mission is to make the Christian life tangible and relatable through literature that transforms hearts, renews minds, and strengthens the Kingdom of God"})]}),y.jsxs("section",{className:"container mx-auto",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 gradient-text",children:"Our Journey & Mission"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-center",children:[y.jsxs(re.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-6 p-6 rounded-lg bg-card shadow-xl glassmorphism aurora-card",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx(hG,{size:28,className:"mr-3 text-primary"}),y.jsx("h3",{className:"text-2xl font-semibold text-foreground",children:"Our Mission"})]}),y.jsx("p",{className:"text-foreground/80",children:"To spread the Gospel of Jesus Christ and edify believers through Spirit-inspired literature that transforms lives, nurtures faith, and builds the Kingdom of God. "})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx(WI,{size:28,className:"mr-3 text-secondary"}),y.jsx("h3",{className:"text-2xl font-semibold text-foreground",children:"Our Vision"})]}),y.jsx("p",{className:"text-foreground/80",children:"To be the leading Christian digital library where millions worldwide encounter Jesus, grow spiritually, and are inspired through books, poems, stories, and creative expressions."})]})]}),y.jsx(re.div,{initial:{opacity:0,scale:.5},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"w-full h-80 md:h-96 rounded-lg overflow-hidden shadow-2xl",children:y.jsx("img",{alt:"Diverse group of people reading and interacting with digital devices in a bright, hopeful setting",className:"w-full h-full object-cover",src:"https://images.unsplash.com/photo-1674858161001-b5bfc4a311dd"})})]})]}),y.jsxs("section",{className:"relative py-12 -mx-4 sm:-mx-6 lg:-mx-8",children:[y.jsx(up,{direction:"down",className:"text-card"}),y.jsxs("div",{className:"bg-card py-24 relative z-10",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16 gradient-text",children:"Our Milestones"}),y.jsxs("div",{className:"relative wrap overflow-hidden p-2 md:p-10 h-full container mx-auto",children:[y.jsx("div",{className:"absolute border-opacity-20 border-primary h-full border-2 left-1/2 -translate-x-1/2 z-0"}),y.jsx(zS,{date:"2025 - Q2",title:"The Spark of an Idea",description:" Kingdom Pages  Birthed by the Holy Spirit",icon:yA,align:"right",delay:.1}),y.jsx(zS,{date:"2025 - Q2",title:"Platform Development Begins",description:"Stories are submitted. A website is created to host and present them.",icon:iD,align:"left",delay:.2}),y.jsx(zS,{date:"2025 - Q3",title:"Official Website Launch ",description:"The library is open. Every reader can access all inspired material",icon:vA,align:"right",delay:.3})]})]}),y.jsx(up,{direction:"up",className:"text-card"})]}),y.jsxs("section",{className:"py-12 md:py-16 bg-card/80 rounded-xl shadow-xl glassmorphism",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 gradient-text",children:"Impact by Numbers"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-4xl mx-auto px-4",children:[y.jsx($S,{icon:WI,value:"28+",label:"Digital Items",color:"border-primary",delay:.1}),y.jsx($S,{icon:vA,value:"+",label:"Active Readers",color:"border-secondary",delay:.3}),y.jsx($S,{icon:yA,value:"3+",label:"Contributing Authors",color:"border-accent",delay:.5})]})]})]}),GT=J.forwardRef(({className:n,...e},t)=>y.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));GT.displayName="Textarea";const q9=1;let US=0;function Q9(){return US=(US+1)%Number.MAX_VALUE,US.toString()}const dn={state:{toasts:[]},listeners:[],getState:()=>dn.state,setState:n=>{typeof n=="function"?dn.state=n(dn.state):dn.state={...dn.state,...n},dn.listeners.forEach(e=>e(dn.state))},subscribe:n=>(dn.listeners.push(n),()=>{dn.listeners=dn.listeners.filter(e=>e!==n)})},Z9=({...n})=>{const e=Q9(),t=i=>dn.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>dn.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return dn.setState(i=>({...i,toasts:[{...n,id:e,dismiss:r},...i.toasts].slice(0,q9)})),{id:e,dismiss:r,update:t}};function KT(){const[n,e]=E.useState(dn.getState());return E.useEffect(()=>dn.subscribe(r=>{e(r)}),[]),E.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(i)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:Z9,toasts:n.toasts}}const WS=({icon:n,title:e,content:t,href:r,delay:i})=>y.jsxs(re.div,{className:"flex items-start space-x-4 p-6 bg-card rounded-xl shadow-lg glassmorphism aurora-card",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i},children:[y.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-primary to-secondary text-primary-foreground rounded-full flex items-center justify-center",children:J.createElement(n,{size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e}),r?y.jsx("a",{href:r,className:"text-primary hover:underline break-all",children:t}):y.jsx("p",{className:"text-foreground/80 break-all",children:t})]})]}),J9=()=>{const{toast:n}=KT(),[e,t]=E.useState({name:"",email:"",subject:"",message:""}),[r,i]=E.useState(!1),s=a=>{const{name:l,value:c}=a.target;t(d=>({...d,[l]:c}))},o=a=>{a.preventDefault(),i(!0);const{name:l,email:c,subject:d,message:h}=e,f="admin@kingdompages.digital",m=encodeURIComponent(`[From ${l}] ${d}`),v=encodeURIComponent(`Name: ${l}
Email: ${c}

Message:
${h}`),g=`mailto:${f}?subject=${m}&body=${v}`;window.location.href=g,n({title:"Email Client Opened",description:"Please complete sending the message in your email application.",variant:"default"}),setTimeout(()=>{t({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return y.jsxs("div",{className:"space-y-16 relative",children:[y.jsx("div",{className:"creative-blob w-80 h-80 bg-accent/10 top-1/2 -right-40"}),y.jsx("div",{className:"creative-blob w-80 h-80 bg-secondary/10 top-0 -left-40 animate-pulse"}),y.jsxs("section",{id:"contact",className:"text-center py-12 md:py-16 bg-gradient-to-br from-purple-100/30 via-blue-100/20 to-transparent rounded-xl shadow-inner scroll-mt-20",children:[y.jsx(re.h1,{className:"text-5xl md:text-6xl font-extrabold mb-6 gradient-text",initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,ease:"easeOut"},children:"Get In Touch"}),y.jsx(re.p,{className:"text-lg md:text-xl text-foreground/90 max-w-2xl mx-auto",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.2,ease:"easeOut"},children:"We would love to hear from you! Whether you have a question, feedback, or just want to say hello, feel free to reach out."})]}),y.jsx("section",{className:"container mx-auto",children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-start",children:[y.jsxs(re.div,{className:"space-y-6",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[y.jsx("h2",{className:"text-3xl font-bold mb-6 gradient-text",children:"Contact Information"}),y.jsx(WS,{icon:aD,title:"Email Us",content:"admin@kingdompages.digital",href:"mailto:admin@kingdompages.digital",delay:.1}),y.jsx(WS,{icon:cG,title:"Call Us",content:y.jsxs("span",{children:["on Kingschat ",y.jsx("em",{children:"- @Kingdompages"})]}),href:"",delay:.2}),y.jsx(WS,{icon:oG,title:"Our Office",content:"Nigeria",delay:.3})]}),y.jsxs(re.div,{className:"p-6 md:p-8 bg-card/90 rounded-xl shadow-2xl glassmorphism aurora-card",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},children:[y.jsx("h2",{className:"text-3xl font-bold mb-8 text-center gradient-text",children:"Send Us a Message"}),y.jsxs("form",{onSubmit:o,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx(Wr,{htmlFor:"name",className:"text-foreground/80",children:"Full Name"}),y.jsx(yu,{id:"name",name:"name",type:"text",placeholder:"Hannah Smith",required:!0,value:e.name,onChange:s,className:"bg-background/70"})]}),y.jsxs("div",{children:[y.jsx(Wr,{htmlFor:"email",className:"text-foreground/80",children:"Email Address"}),y.jsx(yu,{id:"email",name:"email",type:"email",placeholder:"you@example.com",required:!0,value:e.email,onChange:s,className:"bg-background/70"})]}),y.jsxs("div",{children:[y.jsx(Wr,{htmlFor:"subject",className:"text-foreground/80",children:"Subject"}),y.jsx(yu,{id:"subject",name:"subject",type:"text",placeholder:"Question about books",required:!0,value:e.subject,onChange:s,className:"bg-background/70"})]}),y.jsxs("div",{children:[y.jsx(Wr,{htmlFor:"message",className:"text-foreground/80",children:"Message"}),y.jsx(GT,{id:"message",name:"message",placeholder:"Your message here...",required:!0,rows:5,value:e.message,onChange:s,className:"bg-background/70"})]}),y.jsx(It,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground shadow-lg group",disabled:r,children:r?"Opening Email...":y.jsxs(y.Fragment,{children:["Send Message via Email ",y.jsx(uD,{size:18,className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]})]})]})}),y.jsxs("section",{className:"container mx-auto",children:[y.jsx("h2",{className:"text-3xl font-bold text-center mb-8 gradient-text",children:"Find Us On The Map"}),y.jsx(re.div,{className:"w-full h-80 md:h-96 rounded-xl overflow-hidden shadow-2xl border-2 border-primary/20",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.7},children:y.jsx("iframe",{src:"https://maps.app.goo.gl/BgGGTVzGCvN4RpRt7",style:{border:0,width:"100%",height:"100%"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Our Location on OpenStreetMap"})})]})]})};let Fy;const e7=new Uint8Array(16);function t7(){if(!Fy&&(Fy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fy(e7)}const Mt=[];for(let n=0;n<256;++n)Mt.push((n+256).toString(16).slice(1));function n7(n,e=0){return Mt[n[e+0]]+Mt[n[e+1]]+Mt[n[e+2]]+Mt[n[e+3]]+"-"+Mt[n[e+4]]+Mt[n[e+5]]+"-"+Mt[n[e+6]]+Mt[n[e+7]]+"-"+Mt[n[e+8]]+Mt[n[e+9]]+"-"+Mt[n[e+10]]+Mt[n[e+11]]+Mt[n[e+12]]+Mt[n[e+13]]+Mt[n[e+14]]+Mt[n[e+15]]}const r7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w_={randomUUID:r7};function i7(n,e,t){if(w_.randomUUID&&!e&&!n)return w_.randomUUID();n=n||{};const r=n.random||(n.rng||t7)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return n7(r)}var s7=typeof Element<"u",o7=typeof Map=="function",a7=typeof Set=="function",l7=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function pv(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!pv(n[r],e[r]))return!1;return!0}var s;if(o7&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!pv(r.value[1],e.get(r.value[0])))return!1;return!0}if(a7&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(l7&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof e.valueOf=="function")return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof e.toString=="function")return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(s7&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!pv(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}var c7=function(e,t){try{return pv(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const u7=vh(c7);var d7=function(n,e,t,r,i,s,o,a){if(!n){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[t,r,i,s,o,a],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},h7=d7;const x_=vh(h7);var f7=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var d=o[c];if(!l(d))return!1;var h=e[d],f=t[d];if(s=r?r.call(i,h,f,d):void 0,s===!1||s===void 0&&h!==f)return!1}return!0};const p7=vh(f7);var ij=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(ij||{}),GS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},b_=Object.values(ij),YT={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},m7=Object.entries(YT).reduce((n,[e,t])=>(n[t]=e,n),{}),Gr="data-rh",vu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},wu=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},g7=n=>{let e=wu(n,"title");const t=wu(n,vu.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=wu(n,vu.DEFAULT_TITLE);return e||r||void 0},y7=n=>wu(n,vu.ON_CHANGE_CLIENT_STATE)||(()=>{}),KS=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),v7=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(n.indexOf(a)!==-1&&r[a])return t.concat(r)}}return t},[]),w7=n=>console&&typeof console.warn=="function"&&console.warn(n),$h=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&w7(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const d=Object.keys(l);for(let f=0;f<d.length;f+=1){const m=d[f],v=m.toLowerCase();e.indexOf(v)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(v==="rel"&&l[v].toLowerCase()==="stylesheet")&&(c=v),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(c=m)}if(!c||!l[c])return!1;const h=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][h]?!1:(o[c][h]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],d={...r[c],...o[c]};r[c]=d}return i},[]).reverse()},x7=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},b7=n=>({baseTag:v7(["href"],n),bodyAttributes:KS("bodyAttributes",n),defer:wu(n,vu.DEFER),encode:wu(n,vu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:KS("htmlAttributes",n),linkTags:$h("link",["rel","href"],n),metaTags:$h("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:$h("noscript",["innerHTML"],n),onChangeClientState:y7(n),scriptTags:$h("script",["src","innerHTML"],n),styleTags:$h("style",["cssText"],n),title:g7(n),titleAttributes:KS("titleAttributes",n),prioritizeSeoTags:x7(n,vu.PRIORITIZE_SEO_TAGS)}),sj=n=>Array.isArray(n)?n.join(""):n,S7=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},YS=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(S7(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},S_=(n,e)=>({...n,[e]:void 0}),A7=["noscript","script","style"],LA=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),oj=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),E7=(n,e,t,r)=>{const i=oj(t),s=sj(e);return i?`<${n} ${Gr}="true" ${i}>${LA(s,r)}</${n}>`:`<${n} ${Gr}="true">${LA(s,r)}</${n}>`},C7=(n,e,t=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const h=typeof s[d]>"u"?d:`${d}="${LA(s[d],t)}"`;return c?`${c} ${h}`:h},""),a=s.innerHTML||s.cssText||"",l=A7.indexOf(n)===-1;return`${r}<${n} ${Gr}="true" ${o}${l?"/>":`>${a}</${n}>`}`},""),aj=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=YT[r];return t[i||r]=n[r],t},e),T7=(n,e,t)=>{const r={key:e,[Gr]:!0},i=aj(t,r);return[J.createElement("title",i,e)]},mv=(n,e)=>e.map((t,r)=>{const i={key:r,[Gr]:!0};return Object.keys(t).forEach(s=>{const a=YT[s]||s;if(a==="innerHTML"||a==="cssText"){const l=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=t[s]}),J.createElement(n,i)}),or=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>T7(n,e.title,e.titleAttributes),toString:()=>E7(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>aj(e),toString:()=>oj(e)};default:return{toComponent:()=>mv(n,e),toString:()=>C7(n,e,t)}}},P7=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=YS(n,GS.meta),s=YS(e,GS.link),o=YS(t,GS.script);return{priorityMethods:{toComponent:()=>[...mv("meta",i.priority),...mv("link",s.priority),...mv("script",o.priority)],toString:()=>`${or("meta",i.priority,r)} ${or("link",s.priority,r)} ${or("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},k7=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=n;let{linkTags:d,metaTags:h,scriptTags:f}=n,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:h,scriptTags:f}=P7(n)),{priority:m,base:or("base",e,r),bodyAttributes:or("bodyAttributes",t,r),htmlAttributes:or("htmlAttributes",i,r),link:or("link",d,r),meta:or("meta",h,r),noscript:or("noscript",s,r),script:or("script",f,r),style:or("style",o,r),title:or("title",{title:a,titleAttributes:l},r)}},DA=k7,By=[],lj=!!(typeof window<"u"&&window.document&&window.document.createElement),OA=class{constructor(n,e){H(this,"instances",[]);H(this,"canUseDOM",lj);H(this,"context");H(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?By:this.instances,add:n=>{(this.canUseDOM?By:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?By:this.instances).indexOf(n);(this.canUseDOM?By:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=DA({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},I7={},cj=J.createContext(I7),Au,uj=(Au=class extends E.Component{constructor(t){super(t);H(this,"helmetData");this.helmetData=new OA(this.props.context||{},Au.canUseDOM)}render(){return J.createElement(cj.Provider,{value:this.helmetData.value},this.props.children)}},H(Au,"canUseDOM",lj),Au),Oc=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Gr}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(n);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const d=c,h=typeof a[d]>"u"?"":a[d];l.setAttribute(c,h)}l.setAttribute(Gr,"true"),i.some((c,d)=>(o=d,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>t.appendChild(a)),{oldTags:i,newTags:s}},jA=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Gr),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";t.getAttribute(a)!==l&&t.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)t.removeAttribute(s[a]);i.length===s.length?t.removeAttribute(Gr):t.getAttribute(Gr)!==o.join(",")&&t.setAttribute(Gr,o.join(","))},_7=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=sj(n)),jA("title",e)},A_=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:d,title:h,titleAttributes:f}=n;jA("body",r),jA("html",i),_7(h,f);const m={baseTag:Oc("base",t),linkTags:Oc("link",s),metaTags:Oc("meta",o),noscriptTags:Oc("noscript",a),scriptTags:Oc("script",c),styleTags:Oc("style",d)},v={},g={};Object.keys(m).forEach(A=>{const{newTags:b,oldTags:S}=m[A];b.length&&(v[A]=b),S.length&&(g[A]=m[A].oldTags)}),e&&e(),l(n,v,g)},zh=null,R7=n=>{zh&&cancelAnimationFrame(zh),n.defer?zh=requestAnimationFrame(()=>{A_(n,()=>{zh=null})}):(A_(n),zh=null)},M7=R7,E_=class extends E.Component{constructor(){super(...arguments);H(this,"rendered",!1)}shouldComponentUpdate(e){return!p7(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=b7(e.get().map(s=>{const o={...s.props};return delete o.context,o}));uj.canUseDOM?M7(i):DA&&(r=DA(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},s1,FA=(s1=class extends E.Component{shouldComponentUpdate(n){return!u7(S_(this.props,"helmetData"),S_(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return x_(b_.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${b_.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),x_(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return J.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[m7[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof OA)){const i=r;r=new OA(i.context,!0),delete t.helmetData}return r?J.createElement(E_,{...t,context:r.value}):J.createElement(cj.Consumer,null,i=>J.createElement(E_,{...t,context:i}))}},H(s1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),s1);const N7="modulepreload",L7=function(n){return"/"+n},C_={},D7=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=L7(s),s in C_)return;C_[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":N7,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},hn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),BA=[.001,0,0,.001,0,0],XS=1.35,Wn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ei={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},dj="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},be={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},hj={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Kt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Of={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},jc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Jg={ERRORS:0,WARNINGS:1,INFOS:5},dp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Vy={moveTo:0,lineTo:1,curveTo:2,closePath:3},fj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ib=Jg.WARNINGS;function O7(n){Number.isInteger(n)&&(Ib=n)}function j7(){return Ib}function _b(n){Ib>=Jg.INFOS&&console.log(`Info: ${n}`)}function le(n){Ib>=Jg.WARNINGS&&console.log(`Warning: ${n}`)}function Re(n){throw new Error(n)}function ft(n,e){n||Re(e)}function F7(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function XT(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=z7(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return F7(r)?r:null}function qT(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&XT(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ye(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ic=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class T_ extends Ic{constructor(e,t){super(e,"PasswordException"),this.code=t}}class qS extends Ic{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Fw extends Ic{constructor(e){super(e,"InvalidPDFException")}}class hp extends Ic{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class B7 extends Ic{constructor(e){super(e,"FormatError")}}class Ms extends Ic{constructor(e){super(e,"AbortException")}}function pj(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Re("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function ey(n){typeof n!="string"&&Re("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function V7(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function H7(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function $7(){try{return new Function(""),!0}catch{return!1}}class Rt{static get isLittleEndian(){return ye(this,"isLittleEndian",H7())}static get isEvalSupported(){return ye(this,"isEvalSupported",$7())}static get isOffscreenCanvasSupported(){return ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ye(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ye(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ye(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const QS=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Eu,gv,vp,VA;class ne{static makeHexColor(e,t,r){return`#${QS[e]}${QS[t]}${QS[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],f=e[r+d+1];e[r+d]=h*i+f*o+l,e[r+d+1]=h*s+f*a+c}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5],d=e[0],h=e[1],f=e[2],m=e[3];let v=i*d+l,g=v,A=i*f+l,b=A,S=a*h+c,x=S,p=a*m+c,w=p;if(s!==0||o!==0){const T=s*d,k=s*f,_=o*h,R=o*m;v+=_,b+=_,A+=R,g+=R,S+=T,w+=T,p+=k,x+=k}r[0]=Math.min(r[0],v,A,g,b),r[1]=Math.min(r[1],S,p,x,w),r[2]=Math.max(r[2],v,A,g,b),r[3]=Math.max(r[3],S,p,x,w)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,l=r*s+i*o,c=s**2+o**2,d=(a+c)/2,h=Math.sqrt(d**2-(a*c-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l),I(this,vp,VA).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),I(this,vp,VA).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c)}}Eu=new WeakSet,gv=function(e,t,r,i,s,o,a,l,c,d){if(c<=0||c>=1)return;const h=1-c,f=c*c,m=f*c,v=h*(h*(h*e+3*c*t)+3*f*r)+m*i,g=h*(h*(h*s+3*c*o)+3*f*a)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],g)},vp=new WeakSet,VA=function(e,t,r,i,s,o,a,l,c,d,h,f){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&I(this,Eu,gv).call(this,e,t,r,i,s,o,a,l,-h/d,f);return}const m=d**2-4*h*c;if(m<0)return;const v=Math.sqrt(m),g=2*c;I(this,Eu,gv).call(this,e,t,r,i,s,o,a,l,(-d+v)/g,f),I(this,Eu,gv).call(this,e,t,r,i,s,o,a,l,(-d-v)/g,f)},C(ne,Eu),C(ne,vp);function z7(n){return decodeURIComponent(escape(n))}let ZS=null,P_=null;function mj(n){return ZS||(ZS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,P_=new Map([["","t"]])),n.replaceAll(ZS,(e,t,r)=>t?t.normalize("NFKC"):P_.get(r))}function QT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),pj(n)}const ZT="pdfjs_internal_id_";function U7(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function Zt(n,e,t){return Math.min(Math.max(n,e),t)}function gj(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(pj(n))}function W7(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):ey(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Di="http://www.w3.org/2000/svg",ka=class ka{};H(ka,"CSS",96),H(ka,"PDF",72),H(ka,"PDF_TO_CSS_UNITS",ka.CSS/ka.PDF);let Ns=ka;async function Ih(n,e="text"){if(tf(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class ty{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,h,f,m;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,f=0,m=1;break;case 90:d=0,h=1,f=1,m=0;break;case 270:d=0,h=-1,f=-1,m=0;break;case 0:d=1,h=0,f=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,m=-m);let v,g,A,b;d===0?(v=Math.abs(c-e[1])*r+s,g=Math.abs(l-e[0])*r+o,A=(e[3]-e[1])*r,b=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+s,g=Math.abs(c-e[1])*r+o,A=(e[2]-e[0])*r,b=(e[3]-e[1])*r),this.transform=[d*r,h*r,f*r,m*r,v-d*r*l-f*r*c,g-h*r*l-m*r*c],this.width=A,this.height=b}get rawDims(){const e=this.viewBox;return ye(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new ty({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return ne.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];ne.applyTransform(t,this.transform);const r=[e[2],e[3]];return ne.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return ne.applyInverseTransform(r,this.transform),r}}class Rb extends Ic{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function ny(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Mb(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function yj(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function vj(n,e="document.pdf"){if(typeof n!="string")return e;if(ny(n))return le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},s=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(s.test(o))return i(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const c of a)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class k_{constructor(){H(this,"started",Object.create(null));H(this,"times",[])}time(e){e in this.started&&le(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||le(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function tf(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ar(n){n.preventDefault()}function ot(n){n.preventDefault(),n.stopPropagation()}function G7(n){console.log("Deprecated API usage: "+n)}var wp;class Nb{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,wp)||P(this,wp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,wp).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=d,a+=h):c==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}wp=new WeakMap,C(Nb,wp,void 0);function wj(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new ty({viewBox:s,userUnit:1,scale:e,rotation:t})}function JT(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(le(`Not a valid color format: "${n}"`),[0,0,0])}function K7(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,JT(r))}e.remove()}function Ye(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function ei(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function sa(n,e,t=!1,r=!0){if(e instanceof ty){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Rt.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,d=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Zr{constructor(){const{pixelRatio:e}=Zr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=Zr.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*t))),i!==-1&&(a=i/e,l=i/t);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const Bw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Xs,Da,ar,qs,xp,Cu,bp,Gw,xj,Kw,bj,Yw,Sj,Oa,nf,Tu,yv;const Bi=class Bi{constructor(e){C(this,Kw);C(this,Yw);C(this,Oa);C(this,Tu);C(this,Xs,null);C(this,Da,null);C(this,ar,void 0);C(this,qs,null);C(this,xp,null);C(this,Cu,null);P(this,ar,e),u(Bi,bp)||P(Bi,bp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=P(this,Xs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,ar)._uiManager._signal;e.addEventListener("contextmenu",Ar,{signal:t}),e.addEventListener("pointerdown",I(Bi,Gw,xj),{signal:t});const r=P(this,qs,document.createElement("div"));r.className="buttons",e.append(r);const i=u(this,ar).toolbarPosition;if(i){const{style:s}=e,o=u(this,ar)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return u(this,Xs)}hide(){var e;u(this,Xs).classList.add("hidden"),(e=u(this,Da))==null||e.hideDropdown()}show(){var e;u(this,Xs).classList.remove("hidden"),(e=u(this,xp))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=u(this,ar),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",u(Bi,bp)[e]),I(this,Oa,nf).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),u(this,qs).append(r)}async addAltText(e){const t=await e.render();I(this,Oa,nf).call(this,t),u(this,qs).append(t,u(this,Tu,yv)),P(this,xp,e)}addColorPicker(e){P(this,Da,e);const t=e.renderButton();I(this,Oa,nf).call(this,t),u(this,qs).append(t,u(this,Tu,yv))}async addEditSignatureButton(e){const t=P(this,Cu,await e.renderEditButton(u(this,ar)));I(this,Oa,nf).call(this,t),u(this,qs).append(t,u(this,Tu,yv))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){u(this,Cu)&&(u(this,Cu).title=e)}remove(){var e;u(this,Xs).remove(),(e=u(this,Da))==null||e.destroy(),P(this,Da,null)}};Xs=new WeakMap,Da=new WeakMap,ar=new WeakMap,qs=new WeakMap,xp=new WeakMap,Cu=new WeakMap,bp=new WeakMap,Gw=new WeakSet,xj=function(e){e.stopPropagation()},Kw=new WeakSet,bj=function(e){u(this,ar)._focusEventsAllowed=!1,ot(e)},Yw=new WeakSet,Sj=function(e){u(this,ar)._focusEventsAllowed=!0,ot(e)},Oa=new WeakSet,nf=function(e){const t=u(this,ar)._uiManager._signal;e.addEventListener("focusin",I(this,Kw,bj).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",I(this,Yw,Sj).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ar,{signal:t})},Tu=new WeakSet,yv=function(){const e=document.createElement("div");return e.className="divider",e},C(Bi,Gw),C(Bi,bp,null);let HA=Bi;var Sp,ja,Fa,Xw,Aj,qw,Ej,Qw,Cj;class Y7{constructor(e){C(this,Xw);C(this,qw);C(this,Qw);C(this,Sp,null);C(this,ja,null);C(this,Fa,void 0);P(this,Fa,e)}show(e,t,r){const[i,s]=I(this,qw,Ej).call(this,t,r),{style:o}=u(this,ja)||P(this,ja,I(this,Xw,Aj).call(this));e.append(u(this,ja)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,ja).remove()}}Sp=new WeakMap,ja=new WeakMap,Fa=new WeakMap,Xw=new WeakSet,Aj=function(){const e=P(this,ja,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ar,{signal:u(this,Fa)._signal});const t=P(this,Sp,document.createElement("div"));return t.className="buttons",e.append(t),I(this,Qw,Cj).call(this),e},qw=new WeakSet,Ej=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},Qw=new WeakSet,Cj=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=u(this,Fa)._signal;e.addEventListener("contextmenu",Ar,{signal:r}),e.addEventListener("click",()=>{u(this,Fa).highlightSelection("floating_button")},{signal:r}),u(this,Sp).append(e)};function Tj(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Zw;class X7{constructor(){C(this,Zw,0)}get id(){return`${dj}${rn(this,Zw)._++}`}}Zw=new WeakMap;var Pu,Ap,Xt,ku,vv;const fP=class fP{constructor(){C(this,ku);C(this,Pu,QT());C(this,Ap,0);C(this,Xt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ye(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return I(this,ku,vv).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return I(this,ku,vv).call(this,e,e)}async getFromBlob(e,t){const r=await t;return I(this,ku,vv).call(this,e,r)}async getFromId(e){u(this,Xt)||P(this,Xt,new Map);const t=u(this,Xt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,Xt)||P(this,Xt,new Map);let r=u(this,Xt).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${u(this,Pu)}_${rn(this,Ap)._++}`,refCounter:1,isSvg:!1},u(this,Xt).set(e,r),u(this,Xt).set(r.id,r),r}getSvgUrl(e){const t=u(this,Xt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;u(this,Xt)||P(this,Xt,new Map);const t=u(this,Xt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Pu)}_`)}};Pu=new WeakMap,Ap=new WeakMap,Xt=new WeakMap,ku=new WeakSet,vv=async function(e,t){u(this,Xt)||P(this,Xt,new Map);let r=u(this,Xt).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,Pu)}_${rn(this,Ap)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Ih(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=fP._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){le(i),r=null}return u(this,Xt).set(e,r),r&&u(this,Xt).set(r.id,r),r};let $A=fP;var it,Qs,Ep,Ke;class q7{constructor(e=128){C(this,it,[]);C(this,Qs,!1);C(this,Ep,void 0);C(this,Ke,-1);P(this,Ep,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),u(this,Qs))return;const l={cmd:e,undo:t,post:r,type:s};if(u(this,Ke)===-1){u(this,it).length>0&&(u(this,it).length=0),P(this,Ke,0),u(this,it).push(l);return}if(o&&u(this,it)[u(this,Ke)].type===s){a&&(l.undo=u(this,it)[u(this,Ke)].undo),u(this,it)[u(this,Ke)]=l;return}const c=u(this,Ke)+1;c===u(this,Ep)?u(this,it).splice(0,1):(P(this,Ke,c),c<u(this,it).length&&u(this,it).splice(c)),u(this,it).push(l)}undo(){if(u(this,Ke)===-1)return;P(this,Qs,!0);const{undo:e,post:t}=u(this,it)[u(this,Ke)];e(),t==null||t(),P(this,Qs,!1),P(this,Ke,u(this,Ke)-1)}redo(){if(u(this,Ke)<u(this,it).length-1){P(this,Ke,u(this,Ke)+1),P(this,Qs,!0);const{cmd:e,post:t}=u(this,it)[u(this,Ke)];e(),t==null||t(),P(this,Qs,!1)}}hasSomethingToUndo(){return u(this,Ke)!==-1}hasSomethingToRedo(){return u(this,Ke)<u(this,it).length-1}cleanType(e){if(u(this,Ke)!==-1){for(let t=u(this,Ke);t>=0;t--)if(u(this,it)[t].type!==e){u(this,it).splice(t+1,u(this,Ke)-t),P(this,Ke,t);return}u(this,it).length=0,P(this,Ke,-1)}}destroy(){P(this,it,null)}}it=new WeakMap,Qs=new WeakMap,Ep=new WeakMap,Ke=new WeakMap;var Jw,Pj;class ry{constructor(e){C(this,Jw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Rt.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(I(this,Jw,Pj).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||ot(t))}}Jw=new WeakSet,Pj=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const e0=class e0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return K7(e),ye(this,"_colors",e)}convert(e){const t=JT(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return e0._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?ne.makeHexColor(...t):e}};H(e0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let zA=e0;var Iu,Rn,mt,Nt,_u,$i,Ru,lr,Zs,Js,Mu,Ba,ii,Ir,Va,Cp,Tp,Nu,Pp,si,eo,Lu,to,oi,t0,no,kp,ro,Ha,$a,io,Ip,wt,ke,zi,so,za,_p,Rp,oo,ai,Ui,Mp,Np,cr,Du,wv,Lp,UA,n0,kj,r0,Ij,Ou,xv,i0,_j,s0,Rj,o0,Mj,Dp,WA,a0,Nj,Op,GA,jp,KA,l0,Lj,Lt,sn,_r,Oi,c0,Dj,u0,Oj,Fp,YA,d0,jj,Ua,rf,Bp,XA;const au=class au{constructor(e,t,r,i,s,o,a,l,c,d,h,f,m,v,g){C(this,Du);C(this,Lp);C(this,n0);C(this,r0);C(this,Ou);C(this,i0);C(this,s0);C(this,o0);C(this,Dp);C(this,a0);C(this,Op);C(this,jp);C(this,l0);C(this,Lt);C(this,_r);C(this,c0);C(this,u0);C(this,Fp);C(this,d0);C(this,Ua);C(this,Bp);C(this,Iu,new AbortController);C(this,Rn,null);C(this,mt,new Map);C(this,Nt,new Map);C(this,_u,null);C(this,$i,null);C(this,Ru,null);C(this,lr,new q7);C(this,Zs,null);C(this,Js,null);C(this,Mu,0);C(this,Ba,new Set);C(this,ii,null);C(this,Ir,null);C(this,Va,new Set);H(this,"_editorUndoBar",null);C(this,Cp,!1);C(this,Tp,!1);C(this,Nu,!1);C(this,Pp,null);C(this,si,null);C(this,eo,null);C(this,Lu,null);C(this,to,!1);C(this,oi,null);C(this,t0,new X7);C(this,no,!1);C(this,kp,!1);C(this,ro,null);C(this,Ha,null);C(this,$a,null);C(this,io,null);C(this,Ip,null);C(this,wt,ae.NONE);C(this,ke,new Set);C(this,zi,null);C(this,so,null);C(this,za,null);C(this,_p,null);C(this,Rp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,oo,[0,0]);C(this,ai,null);C(this,Ui,null);C(this,Mp,null);C(this,Np,null);C(this,cr,null);const A=this._signal=u(this,Iu).signal;P(this,Ui,e),P(this,Mp,t),P(this,Np,r),P(this,_u,i),P(this,so,s),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:A}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),o._on("setpreference",this.onSetPreference.bind(this),{signal:A}),o._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:A}),I(this,i0,_j).call(this),I(this,l0,Lj).call(this),I(this,Dp,WA).call(this),P(this,$i,a.annotationStorage),P(this,Pp,a.filterFactory),P(this,za,l),P(this,Lu,c||null),P(this,Cp,d),P(this,Tp,h),P(this,Nu,f),P(this,Ip,m||null),this.viewParameters={realScale:Ns.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const e=au.prototype,t=o=>u(o,Ui).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ye(this,"_keyboardManager",new ry([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Ui).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Ui).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,o,a,l;(e=u(this,cr))==null||e.resolve(),P(this,cr,null),(t=u(this,Iu))==null||t.abort(),P(this,Iu,null),this._signal=null;for(const c of u(this,Nt).values())c.destroy();u(this,Nt).clear(),u(this,mt).clear(),u(this,Va).clear(),(r=u(this,io))==null||r.clear(),P(this,Rn,null),u(this,ke).clear(),u(this,lr).destroy(),(i=u(this,_u))==null||i.destroy(),(s=u(this,so))==null||s.destroy(),(o=u(this,oi))==null||o.hide(),P(this,oi,null),(a=u(this,$a))==null||a.destroy(),P(this,$a,null),u(this,si)&&(clearTimeout(u(this,si)),P(this,si,null)),u(this,ai)&&(clearTimeout(u(this,ai)),P(this,ai,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Ip)}get useNewAltTextFlow(){return u(this,Tp)}get useNewAltTextWhenAddingImage(){return u(this,Nu)}get hcmFilter(){return ye(this,"hcmFilter",u(this,za)?u(this,Pp).addHCMFilter(u(this,za).foreground,u(this,za).background):"none")}get direction(){return ye(this,"direction",getComputedStyle(u(this,Ui)).direction)}get highlightColors(){return ye(this,"highlightColors",u(this,Lu)?new Map(u(this,Lu).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return ye(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),P(this,Js,e)}setMainHighlightColorPicker(e){P(this,$a,e)}editAltText(e,t=!1){var r;(r=u(this,_u))==null||r.editAltText(this,e,t)}getSignature(e){var t;(t=u(this,so))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return u(this,so)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":P(this,Nu,t);break}}onPageChanging({pageNumber:e}){P(this,Mu,e-1)}focusMainContainer(){u(this,Ui).focus()}findParent(e,t){for(const r of u(this,Nt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){u(this,Mp).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,Va).add(e)}removeShouldRescale(e){u(this,Va).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Ns.PDF_TO_CSS_UNITS;for(const r of u(this,Va))r.onScaleChanging();(t=u(this,Js))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=I(this,Du,wv).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(c);if(!d)return;t.empty();const h=I(this,Lp,UA).call(this,c),f=u(this,wt)===ae.NONE,m=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(ae.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,$i)&&!u(this,$i).has(e.id)&&u(this,$i).setValue(e.id,e)}a11yAlert(e,t=null){const r=u(this,Np);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,u(this,to)&&(P(this,to,!1),I(this,Ou,xv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,ke))if(t.div.contains(e)){P(this,Ha,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,Ha))return;const[e,t]=u(this,Ha);P(this,Ha,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){I(this,Dp,WA).call(this),I(this,Op,GA).call(this)}removeEditListeners(){I(this,a0,Nj).call(this),I(this,jp,KA).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of u(this,Ir))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of u(this,Ir))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=u(this,Rn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,ke)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of u(this,Ir))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){le(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)I(this,Fp,YA).call(this,l);I(this,Bp,XA).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){le(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,wt)!==ae.NONE&&!this.isEditorHandlingKeyboard&&au._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,to)&&(P(this,to,!1),I(this,Ou,xv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(I(this,s0,Rj).call(this),I(this,Op,GA).call(this),I(this,Lt,sn).call(this,{isEditing:u(this,wt)!==ae.NONE,isEmpty:I(this,Ua,rf).call(this),hasSomethingToUndo:u(this,lr).hasSomethingToUndo(),hasSomethingToRedo:u(this,lr).hasSomethingToRedo(),hasSelectedEditor:!1})):(I(this,o0,Mj).call(this),I(this,jp,KA).call(this),I(this,Lt,sn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Ir)){P(this,Ir,e);for(const t of u(this,Ir))I(this,_r,Oi).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,t0).id}get currentLayer(){return u(this,Nt).get(u(this,Mu))}getLayer(e){return u(this,Nt).get(e)}get currentPageIndex(){return u(this,Mu)}addLayer(e){u(this,Nt).set(e.pageIndex,e),u(this,no)?e.enable():e.disable()}removeLayer(e){u(this,Nt).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1){var s,o,a;if(u(this,wt)!==e&&!(u(this,cr)&&(await u(this,cr).promise,!u(this,cr)))){if(P(this,cr,Promise.withResolvers()),(s=u(this,Js))==null||s.commitOrRemove(),P(this,wt,e),e===ae.NONE){this.setEditingState(!1),I(this,u0,Oj).call(this),(o=this._editorUndoBar)==null||o.hide(),u(this,cr).resolve();return}e===ae.SIGNATURE&&await((a=u(this,so))==null?void 0:a.loadSignatures()),this.setEditingState(!0),await I(this,c0,Dj).call(this),this.unselectAll();for(const l of u(this,Nt).values())l.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),u(this,cr).resolve();return}for(const l of u(this,mt).values())l.annotationElementId===t||l.id===t?(this.setSelected(l),i&&l.enterInEditMode()):l.unselect();u(this,cr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==u(this,wt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var r;if(u(this,Ir)){switch(e){case be.CREATE:this.currentLayer.addNewEditor(t);return;case be.HIGHLIGHT_DEFAULT_COLOR:(r=u(this,$a))==null||r.updateColor(t);break;case be.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,_p)||P(this,_p,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,ke))i.updateParams(e,t);for(const i of u(this,Ir))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of u(this,mt).values())o.editorType===e&&o.show(t);(((s=u(this,_p))==null?void 0:s.get(be.HIGHLIGHT_SHOW_ALL))??!0)!==t&&I(this,_r,Oi).call(this,[[be.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,kp)!==e){P(this,kp,e);for(const t of u(this,Nt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of u(this,mt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return u(this,mt).get(e)}addEditor(e){u(this,mt).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(u(this,si)&&clearTimeout(u(this,si)),P(this,si,setTimeout(()=>{this.focusMainContainer(),P(this,si,null)},0))),u(this,mt).delete(e.id),e.annotationElementId&&((t=u(this,io))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!u(this,Ba).has(e.annotationElementId))&&((r=u(this,$i))==null||r.remove(e.id))}addDeletedAnnotationElement(e){u(this,Ba).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Ba).has(e)}removeDeletedAnnotationElement(e){u(this,Ba).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Rn)!==e&&(P(this,Rn,e),e&&I(this,_r,Oi).call(this,e.propertiesToUpdate))}updateUI(e){u(this,d0,jj)===e&&I(this,_r,Oi).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){I(this,_r,Oi).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,ke).has(e)){u(this,ke).delete(e),e.unselect(),I(this,Lt,sn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,ke).add(e),e.select(),I(this,_r,Oi).call(this,e.propertiesToUpdate),I(this,Lt,sn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=u(this,Js))==null||t.commitOrRemove();for(const r of u(this,ke))r!==e&&r.unselect();u(this,ke).clear(),u(this,ke).add(e),e.select(),I(this,_r,Oi).call(this,e.propertiesToUpdate),I(this,Lt,sn).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,ke).has(e)}get firstSelectedEditor(){return u(this,ke).values().next().value}unselect(e){e.unselect(),u(this,ke).delete(e),I(this,Lt,sn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,ke).size!==0}get isEnterHandled(){return u(this,ke).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,lr).undo(),I(this,Lt,sn).call(this,{hasSomethingToUndo:u(this,lr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:I(this,Ua,rf).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,lr).redo(),I(this,Lt,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,lr).hasSomethingToRedo(),isEmpty:I(this,Ua,rf).call(this)})}addCommands(e){u(this,lr).add(e),I(this,Lt,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:I(this,Ua,rf).call(this)})}cleanUndoStack(e){u(this,lr).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,ke)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const o of t)I(this,Fp,YA).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Rn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Rn)||this.hasSelection}selectAll(){for(const e of u(this,ke))e.commit();I(this,Bp,XA).call(this,u(this,mt).values())}unselectAll(){var e;if(!(u(this,Rn)&&(u(this,Rn).commitOrRemove(),u(this,wt)!==ae.NONE))&&!((e=u(this,Js))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,ke))t.unselect();u(this,ke).clear(),I(this,Lt,sn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,oo)[0]+=e,u(this,oo)[1]+=t;const[i,s]=u(this,oo),o=[...u(this,ke)],a=1e3;u(this,ai)&&clearTimeout(u(this,ai)),P(this,ai,setTimeout(()=>{P(this,ai,null),u(this,oo)[0]=u(this,oo)[1]=0,this.addCommands({cmd:()=>{for(const l of o)u(this,mt).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)u(this,mt).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),P(this,ii,new Map);for(const e of u(this,ke))u(this,ii).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,ii))return!1;this.disableUserSelect(!1);const e=u(this,ii);P(this,ii,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(u(this,mt).has(i.id)){const l=u(this,Nt).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,ii))for(const r of u(this,ii).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,ke).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Rn)===e}getActive(){return u(this,Rn)}getMode(){return u(this,wt)}get imageManager(){return ye(this,"imageManager",new $A)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,d=t.rangeCount;c<d;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,d,h,f)=>({x:(d-i)/o,y:1-(c+h-r)/s,width:f/o,height:h/s});break;case"180":a=(c,d,h,f)=>({x:1-(c+h-r)/s,y:1-(d+f-i)/o,width:h/s,height:f/o});break;case"270":a=(c,d,h,f)=>({x:1-(d+f-i)/o,y:(c-r)/s,width:f/o,height:h/s});break;default:a=(c,d,h,f)=>({x:(c-r)/s,y:(d-i)/o,width:h/s,height:f/o});break}const l=[];for(let c=0,d=t.rangeCount;c<d;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:f,y:m,width:v,height:g}of h.getClientRects())v===0||g===0||l.push(a(f,m,v,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Ru)||P(this,Ru,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Ru))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,Ru))==null?void 0:i.get(e.data.id);if(!t)return;const r=u(this,$i).getRawValue(t);r&&(u(this,wt)===ae.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=u(this,io))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),u(this,io).delete(e))}addMissingCanvas(e,t){(u(this,io)||P(this,io,new Map)).set(e,t)}};Iu=new WeakMap,Rn=new WeakMap,mt=new WeakMap,Nt=new WeakMap,_u=new WeakMap,$i=new WeakMap,Ru=new WeakMap,lr=new WeakMap,Zs=new WeakMap,Js=new WeakMap,Mu=new WeakMap,Ba=new WeakMap,ii=new WeakMap,Ir=new WeakMap,Va=new WeakMap,Cp=new WeakMap,Tp=new WeakMap,Nu=new WeakMap,Pp=new WeakMap,si=new WeakMap,eo=new WeakMap,Lu=new WeakMap,to=new WeakMap,oi=new WeakMap,t0=new WeakMap,no=new WeakMap,kp=new WeakMap,ro=new WeakMap,Ha=new WeakMap,$a=new WeakMap,io=new WeakMap,Ip=new WeakMap,wt=new WeakMap,ke=new WeakMap,zi=new WeakMap,so=new WeakMap,za=new WeakMap,_p=new WeakMap,Rp=new WeakMap,oo=new WeakMap,ai=new WeakMap,Ui=new WeakMap,Mp=new WeakMap,Np=new WeakMap,cr=new WeakMap,Du=new WeakSet,wv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Lp=new WeakSet,UA=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of u(this,Nt).values())if(r.hasTextLayer(e))return r;return null},n0=new WeakSet,kj=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=I(this,Du,wv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(u(this,oi)||P(this,oi,new Y7(this)),u(this,oi).show(r,i,this.direction==="ltr"))},r0=new WeakSet,Ij=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){u(this,zi)&&((s=u(this,oi))==null||s.hide(),P(this,zi,null),I(this,Lt,sn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,zi))return;const i=I(this,Du,wv).call(this,e).closest(".textLayer");if(!i){u(this,zi)&&((o=u(this,oi))==null||o.hide(),P(this,zi,null),I(this,Lt,sn).call(this,{hasSelectedText:!1}));return}if((a=u(this,oi))==null||a.hide(),P(this,zi,t),I(this,Lt,sn).call(this,{hasSelectedText:!0}),!(u(this,wt)!==ae.HIGHLIGHT&&u(this,wt)!==ae.NONE)&&(u(this,wt)===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),P(this,to,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,wt)===ae.HIGHLIGHT?I(this,Lp,UA).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&I(this,Ou,xv).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Ou=new WeakSet,xv=function(e=""){u(this,wt)===ae.HIGHLIGHT?this.highlightSelection(e):u(this,Cp)&&I(this,n0,kj).call(this)},i0=new WeakSet,_j=function(){document.addEventListener("selectionchange",I(this,r0,Ij).bind(this),{signal:this._signal})},s0=new WeakSet,Rj=function(){if(u(this,eo))return;P(this,eo,new AbortController);const e=this.combinedSignal(u(this,eo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},o0=new WeakSet,Mj=function(){var e;(e=u(this,eo))==null||e.abort(),P(this,eo,null)},Dp=new WeakSet,WA=function(){if(u(this,ro))return;P(this,ro,new AbortController);const e=this.combinedSignal(u(this,ro));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},a0=new WeakSet,Nj=function(){var e;(e=u(this,ro))==null||e.abort(),P(this,ro,null)},Op=new WeakSet,GA=function(){if(u(this,Zs))return;P(this,Zs,new AbortController);const e=this.combinedSignal(u(this,Zs));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},jp=new WeakSet,KA=function(){var e;(e=u(this,Zs))==null||e.abort(),P(this,Zs,null)},l0=new WeakSet,Lj=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Lt=new WeakSet,sn=function(e){Object.entries(e).some(([r,i])=>u(this,Rp)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Rp),e)}),u(this,wt)===ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&I(this,_r,Oi).call(this,[[be.HIGHLIGHT_FREE,!0]]))},_r=new WeakSet,Oi=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},c0=new WeakSet,Dj=async function(){if(!u(this,no)){P(this,no,!0);const e=[];for(const t of u(this,Nt).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,mt).values())t.enable()}},u0=new WeakSet,Oj=function(){if(this.unselectAll(),u(this,no)){P(this,no,!1);for(const e of u(this,Nt).values())e.disable();for(const e of u(this,mt).values())e.disable()}},Fp=new WeakSet,YA=function(e){const t=u(this,Nt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},d0=new WeakSet,jj=function(){let e=null;for(e of u(this,ke));return e},Ua=new WeakSet,rf=function(){if(u(this,mt).size===0)return!0;if(u(this,mt).size===1)for(const e of u(this,mt).values())return e.isEmpty();return!1},Bp=new WeakSet,XA=function(e){for(const t of u(this,ke))t.unselect();u(this,ke).clear();for(const t of e)t.isEmpty()||(u(this,ke).add(t),t.select());I(this,Lt,sn).call(this,{hasSelectedEditor:this.hasSelection})},H(au,"TRANSLATE_SMALL",1),H(au,"TRANSLATE_BIG",10);let oa=au;var xt,li,Rr,ju,ci,Mn,Fu,ui,xn,Wi,Wa,di,ao,Ga,sf,Bu,bv;const on=class on{constructor(e){C(this,Ga);C(this,Bu);C(this,xt,null);C(this,li,!1);C(this,Rr,null);C(this,ju,null);C(this,ci,null);C(this,Mn,null);C(this,Fu,!1);C(this,ui,null);C(this,xn,null);C(this,Wi,null);C(this,Wa,null);C(this,di,!1);P(this,xn,e),P(this,di,e._uiManager.useNewAltTextFlow),u(on,ao)||P(on,ao,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){on._l10n??(on._l10n=e)}async render(){const e=P(this,Rr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=P(this,ju,document.createElement("span"));e.append(t),u(this,di)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(on,ao).missing),t.setAttribute("data-l10n-id",u(on,ao)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=u(this,xn)._uiManager._signal;e.addEventListener("contextmenu",Ar,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),u(this,xn)._uiManager.editAltText(u(this,xn)),u(this,di)&&u(this,xn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Ga,sf)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(P(this,Fu,!0),i(s))},{signal:r}),await I(this,Bu,bv).call(this),e}finish(){u(this,Rr)&&(u(this,Rr).focus({focusVisible:u(this,Fu)}),P(this,Fu,!1))}isEmpty(){return u(this,di)?u(this,xt)===null:!u(this,xt)&&!u(this,li)}hasData(){return u(this,di)?u(this,xt)!==null||!!u(this,Wi):this.isEmpty()}get guessedText(){return u(this,Wi)}async setGuessedText(e){u(this,xt)===null&&(P(this,Wi,e),P(this,Wa,await on._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),I(this,Bu,bv).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,di)||u(this,xt)){(t=u(this,ui))==null||t.remove(),P(this,ui,null);return}if(!u(this,ui)){const r=P(this,ui,document.createElement("div"));r.className="noAltTextBadge",u(this,xn).div.append(r)}u(this,ui).classList.toggle("hidden",!e)}serialize(e){let t=u(this,xt);return!e&&u(this,Wi)===t&&(t=u(this,Wa)),{altText:t,decorative:u(this,li),guessedText:u(this,Wi),textWithDisclaimer:u(this,Wa)}}get data(){return{altText:u(this,xt),decorative:u(this,li)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(P(this,Wi,r),P(this,Wa,i)),!(u(this,xt)===e&&u(this,li)===t)&&(s||(P(this,xt,e),P(this,li,t)),I(this,Bu,bv).call(this))}toggle(e=!1){u(this,Rr)&&(!e&&u(this,Mn)&&(clearTimeout(u(this,Mn)),P(this,Mn,null)),u(this,Rr).disabled=!e)}shown(){u(this,xn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Ga,sf)}})}destroy(){var e,t;(e=u(this,Rr))==null||e.remove(),P(this,Rr,null),P(this,ju,null),P(this,ci,null),(t=u(this,ui))==null||t.remove(),P(this,ui,null)}};xt=new WeakMap,li=new WeakMap,Rr=new WeakMap,ju=new WeakMap,ci=new WeakMap,Mn=new WeakMap,Fu=new WeakMap,ui=new WeakMap,xn=new WeakMap,Wi=new WeakMap,Wa=new WeakMap,di=new WeakMap,ao=new WeakMap,Ga=new WeakSet,sf=function(){return u(this,xt)&&"added"||u(this,xt)===null&&this.guessedText&&"review"||"missing"},Bu=new WeakSet,bv=async function(){var i,s,o;const e=u(this,Rr);if(!e)return;if(u(this,di)){if(e.classList.toggle("done",!!u(this,xt)),e.setAttribute("data-l10n-id",u(on,ao)[u(this,Ga,sf)]),(i=u(this,ju))==null||i.setAttribute("data-l10n-id",u(on,ao)[`${u(this,Ga,sf)}-label`]),!u(this,xt)){(s=u(this,ci))==null||s.remove();return}}else{if(!u(this,xt)&&!u(this,li)){e.classList.remove("done"),(o=u(this,ci))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,ci);if(!t){P(this,ci,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,xn).id}`;const a=100,l=u(this,xn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,Mn)),P(this,Mn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{P(this,Mn,setTimeout(()=>{P(this,Mn,null),u(this,ci).classList.add("show"),u(this,xn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,Mn)&&(clearTimeout(u(this,Mn)),P(this,Mn,null)),(c=u(this,ci))==null||c.classList.remove("show")},{signal:l})}u(this,li)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,xt)),t.parentNode||e.append(t);const r=u(this,xn).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},C(on,ao,null),H(on,"_l10n",null);let Vw=on;var Vu,Ka,Vp,Hp,$p,zp,Up,Gi,Ya,Ki,Xa,Yi,h0,Fj,f0,Bj,p0,Vj;const pP=class pP{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){C(this,h0);C(this,f0);C(this,p0);C(this,Vu,void 0);C(this,Ka,!1);C(this,Vp,null);C(this,Hp,void 0);C(this,$p,void 0);C(this,zp,void 0);C(this,Up,void 0);C(this,Gi,null);C(this,Ya,void 0);C(this,Ki,null);C(this,Xa,void 0);C(this,Yi,null);P(this,Vu,e),P(this,Vp,r),P(this,Hp,t),P(this,$p,i),P(this,zp,s),P(this,Up,o),P(this,Xa,new AbortController),P(this,Ya,AbortSignal.any([a,u(this,Xa).signal])),e.addEventListener("touchstart",I(this,h0,Fj).bind(this),{passive:!1,signal:u(this,Ya)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Zr.pixelRatio}destroy(){var e,t;(e=u(this,Xa))==null||e.abort(),P(this,Xa,null),(t=u(this,Gi))==null||t.abort(),P(this,Gi,null)}};Vu=new WeakMap,Ka=new WeakMap,Vp=new WeakMap,Hp=new WeakMap,$p=new WeakMap,zp=new WeakMap,Up=new WeakMap,Gi=new WeakMap,Ya=new WeakMap,Ki=new WeakMap,Xa=new WeakMap,Yi=new WeakMap,h0=new WeakSet,Fj=function(e){var i,s,o;if((i=u(this,Hp))!=null&&i.call(this))return;if(e.touches.length===1){if(u(this,Gi))return;const a=P(this,Gi,new AbortController),l=AbortSignal.any([u(this,Ya),a.signal]),c=u(this,Vu),d={capture:!0,signal:l,passive:!1},h=f=>{var m;f.pointerType==="touch"&&((m=u(this,Gi))==null||m.abort(),P(this,Gi,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ot(f),h(f))},d),c.addEventListener("pointerup",h,d),c.addEventListener("pointercancel",h,d);return}if(!u(this,Yi)){P(this,Yi,new AbortController);const a=AbortSignal.any([u(this,Ya),u(this,Yi).signal]),l=u(this,Vu),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",I(this,f0,Bj).bind(this),c);const d=I(this,p0,Vj).bind(this);l.addEventListener("touchend",d,c),l.addEventListener("touchcancel",d,c),c.capture=!0,l.addEventListener("pointerdown",ot,c),l.addEventListener("pointermove",ot,c),l.addEventListener("pointercancel",ot,c),l.addEventListener("pointerup",ot,c),(s=u(this,$p))==null||s.call(this)}if(ot(e),e.touches.length!==2||(o=u(this,Vp))!=null&&o.call(this)){P(this,Ki,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),P(this,Ki,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},f0=new WeakSet,Bj=function(e){var p;if(!u(this,Ki)||e.touches.length!==2)return;ot(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:a}=r,l=u(this,Ki),{touch0X:c,touch0Y:d,touch1X:h,touch1Y:f}=l,m=h-c,v=f-d,g=o-i,A=a-s,b=Math.hypot(g,A)||1,S=Math.hypot(m,v)||1;if(!u(this,Ka)&&Math.abs(S-b)<=pP.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!u(this,Ka)){P(this,Ka,!0);return}const x=[(i+o)/2,(s+a)/2];(p=u(this,zp))==null||p.call(this,x,S,b)},p0=new WeakSet,Vj=function(e){var t;e.touches.length>=2||(u(this,Yi)&&(u(this,Yi).abort(),P(this,Yi,null),(t=u(this,Up))==null||t.call(this)),u(this,Ki)&&(ot(e),P(this,Ki,null),P(this,Ka,!1)))};let fp=pP;var qa,Mr,ze,Hu,lo,Wp,Qa,Dt,Za,Xi,co,Gp,Ja,Nn,Kp,el,qi,hi,$u,zu,ur,tl,Yp,m0,Xp,qA,qp,QA,Uu,Sv,g0,Hj,y0,$j,Qp,ZA,Wu,Av,Zp,JA,v0,zj,w0,Uj,x0,Wj,Jp,eE,b0,Gj,em,tE,S0,Kj,A0,Yj,E0,Xj,tm,nE,nl,of;const pe=class pe{constructor(e){C(this,Xp);C(this,Uu);C(this,g0);C(this,y0);C(this,Qp);C(this,Wu);C(this,Zp);C(this,v0);C(this,w0);C(this,x0);C(this,Jp);C(this,b0);C(this,em);C(this,S0);C(this,A0);C(this,E0);C(this,tm);C(this,nl);C(this,qa,null);C(this,Mr,null);C(this,ze,null);C(this,Hu,!1);C(this,lo,null);C(this,Wp,"");C(this,Qa,!1);C(this,Dt,null);C(this,Za,null);C(this,Xi,null);C(this,co,null);C(this,Gp,"");C(this,Ja,!1);C(this,Nn,null);C(this,Kp,!1);C(this,el,!1);C(this,qi,!1);C(this,hi,null);C(this,$u,0);C(this,zu,0);C(this,ur,null);C(this,tl,null);H(this,"isSelected",!1);H(this,"_isCopy",!1);H(this,"_editToolbar",null);H(this,"_initialOptions",Object.create(null));H(this,"_initialData",null);H(this,"_isVisible",!0);H(this,"_uiManager",null);H(this,"_focusEventsAllowed",!0);C(this,Yp,!1);C(this,m0,pe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=pe.prototype._resizeWithKeyboard,t=oa.TRANSLATE_SMALL,r=oa.TRANSLATE_BIG;return ye(this,"_resizerKeyboardManager",new ry([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],pe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ye(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Q7({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(pe._l10n??(pe._l10n=e),pe._l10nResizer||(pe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),pe._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);pe._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Re("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Yp)}set _isDraggable(e){var t;P(this,Yp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,m0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):I(this,nl,of).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Ja)?P(this,Ja,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){I(this,Xp,qA).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,Nn)||P(this,Nn,[this.x,this.y,this.width,this.height]),I(this,Xp,qA).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){u(this,Nn)||P(this,Nn,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:d}=r;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,Nn)&&(u(this,Nn)[0]!==this.x||u(this,Nn)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Nn)&&(u(this,Nn)[2]!==this.width||u(this,Nn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=pe,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=Zt(s,0,r-a),o=Zt(o,0,i-l);break;case 90:s=Zt(s,0,r-l),o=Zt(o,a,i);break;case 180:s=Zt(s,a,r),o=Zt(o,l,i);break;case 270:s=Zt(s,l,r),o=Zt(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[c,d]=this.getBaseTranslation();s+=c,o+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return I(r=pe,qp,QA).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return I(r=pe,qp,QA).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,u(this,Qa)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!u(this,Qa)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!u(this,Qa)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,ze))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||u(this,el))return this._editToolbar;this._editToolbar=new HA(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,ze))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return u(this,ze)||(Vw.initialize(pe._l10n),P(this,ze,new Vw(this)),u(this,qa)&&(u(this,ze).data=u(this,qa),P(this,qa,null))),u(this,ze)}get altTextData(){var e;return(e=u(this,ze))==null?void 0:e.data}set altTextData(e){u(this,ze)&&(u(this,ze).data=e)}get guessedAltText(){var e;return(e=u(this,ze))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,ze))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,ze))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,ze)&&!u(this,ze).isEmpty()}hasAltTextData(){var e;return((e=u(this,ze))==null?void 0:e.hasData())??!1}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=u(this,Hu)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),I(this,em,tE).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Tj(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,tl)||P(this,tl,new fp({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:I(this,v0,zj).bind(this),onPinching:I(this,w0,Uj).bind(this),onPinchEnd:I(this,x0,Wj).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Rt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(P(this,Ja,!0),this._isDraggable){I(this,b0,Gj).call(this,e);return}I(this,Jp,eE).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,hi)&&clearTimeout(u(this,hi)),P(this,hi,setTimeout(()=>{var e;P(this,hi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,d=t/i,h=this.x*s,f=this.y*o,m=this.width*s,v=this.height*o;switch(r){case 0:return[h+c+a,o-f-d-v+l,h+c+m+a,o-f-d+l];case 90:return[h+d+a,o-f+c+l,h+d+v+a,o-f+c+m+l];case 180:return[h-c-m+a,o-f+d+l,h-c+a,o-f+d+v+l];case 270:return[h-d-v+a,o-f-c-m+l,h-d+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),P(this,el,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),P(this,el,!1),!0):!1}isInEditMode(){return u(this,el)}shouldGetKeyboardEvents(){return u(this,qi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&r>0}rebuild(){I(this,em,tE).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Re("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});i.rotation=e.rotation,P(i,qa,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,c,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,co))==null||e.abort(),P(this,co,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,hi)&&(clearTimeout(u(this,hi)),P(this,hi,null)),I(this,nl,of).call(this),this.removeEditToolbar(),u(this,ur)){for(const r of u(this,ur).values())clearTimeout(r);P(this,ur,null)}this.parent=null,(t=u(this,tl))==null||t.destroy(),P(this,tl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(I(this,g0,Hj).call(this),u(this,Dt).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),P(this,Xi,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,Dt).children;if(!u(this,Mr)){P(this,Mr,Array.from(t));const o=I(this,S0,Kj).bind(this),a=I(this,A0,Yj).bind(this),l=this._uiManager._signal;for(const c of u(this,Mr)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",I(this,E0,Xj).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",pe._l10nResizer[d])}}const r=u(this,Mr)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,Mr).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)u(this,Dt).append(u(this,Dt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)u(this,Dt).firstChild.before(u(this,Dt).lastChild);let o=0;for(const a of t){const c=u(this,Mr)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",pe._l10nResizer[c])}}I(this,tm,nE).call(this,0),P(this,qi,!0),u(this,Dt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,qi)&&I(this,Zp,JA).call(this,u(this,Gp),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){I(this,nl,of).call(this),this.div.focus()}select(){var e,t,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=u(this,ze))==null||r.toggleAltTextBadge(!1)}}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=u(this,Dt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=u(this,ze))==null||s.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,Kp)}set isEditing(e){P(this,Kp,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){P(this,Qa,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,ur)||P(this,ur,new Map);const{action:r}=e;let i=u(this,ur).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,ur).delete(r),u(this,ur).size===0&&P(this,ur,null)},pe._telemetryTimeout),u(this,ur).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),P(this,Hu,!1)}disable(){this.div&&(this.div.tabIndex=-1),P(this,Hu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};qa=new WeakMap,Mr=new WeakMap,ze=new WeakMap,Hu=new WeakMap,lo=new WeakMap,Wp=new WeakMap,Qa=new WeakMap,Dt=new WeakMap,Za=new WeakMap,Xi=new WeakMap,co=new WeakMap,Gp=new WeakMap,Ja=new WeakMap,Nn=new WeakMap,Kp=new WeakMap,el=new WeakMap,qi=new WeakMap,hi=new WeakMap,$u=new WeakMap,zu=new WeakMap,ur=new WeakMap,tl=new WeakMap,Yp=new WeakMap,m0=new WeakMap,Xp=new WeakSet,qA=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},qp=new WeakSet,QA=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Uu=new WeakSet,Sv=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},g0=new WeakSet,Hj=function(){if(u(this,Dt))return;P(this,Dt,document.createElement("div")),u(this,Dt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");u(this,Dt).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",I(this,y0,$j).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Ar,{signal:t}),i.tabIndex=-1}this.div.prepend(u(this,Dt))},y0=new WeakSet,$j=function(e,t){var d;t.preventDefault();const{isMac:r}=Rt.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=u(this,ze))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,P(this,Za,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",I(this,Zp,JA).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ot,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ar,{signal:o}),P(this,Xi,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=u(this,ze))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,I(this,Wu,Av).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},Qp=new WeakSet,ZA=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,o]=this.parentDimensions;this.setDims(s*r,o*i),this.fixAndSetPosition(),this._onResized()},Wu=new WeakSet,Av=function(){if(!u(this,Xi))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=u(this,Xi);P(this,Xi,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:I(this,Qp,ZA).bind(this,s,o,a,l),undo:I(this,Qp,ZA).bind(this,e,t,r,i),mustExec:!0})},Zp=new WeakSet,JA=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=pe.MIN_SIZE/r,d=pe.MIN_SIZE/i,h=I(this,Uu,Sv).call(this,this.rotation),f=(D,B)=>[h[0]*D+h[2]*B,h[1]*D+h[3]*B],m=I(this,Uu,Sv).call(this,360-this.rotation),v=(D,B)=>[m[0]*D+m[2]*B,m[1]*D+m[3]*B];let g,A,b=!1,S=!1;switch(e){case"topLeft":b=!0,g=(D,B)=>[0,0],A=(D,B)=>[D,B];break;case"topMiddle":g=(D,B)=>[D/2,0],A=(D,B)=>[D/2,B];break;case"topRight":b=!0,g=(D,B)=>[D,0],A=(D,B)=>[0,B];break;case"middleRight":S=!0,g=(D,B)=>[D,B/2],A=(D,B)=>[0,B/2];break;case"bottomRight":b=!0,g=(D,B)=>[D,B],A=(D,B)=>[0,0];break;case"bottomMiddle":g=(D,B)=>[D/2,B],A=(D,B)=>[D/2,0];break;case"bottomLeft":b=!0,g=(D,B)=>[0,B],A=(D,B)=>[D,0];break;case"middleLeft":S=!0,g=(D,B)=>[0,B/2],A=(D,B)=>[D,B/2];break}const x=g(a,l),p=A(a,l);let w=f(...p);const T=pe._round(s+w[0]),k=pe._round(o+w[1]);let _=1,R=1,M,N;if(t.fromKeyboard)({deltaX:M,deltaY:N}=t);else{const{screenX:D,screenY:B}=t,[O,F]=u(this,Za);[M,N]=this.screenToPageTranslation(D-O,B-F),u(this,Za)[0]=D,u(this,Za)[1]=B}if([M,N]=v(M/r,N/i),b){const D=Math.hypot(a,l);_=R=Math.max(Math.min(Math.hypot(p[0]-x[0]-M,p[1]-x[1]-N)/D,1/a,1/l),c/a,d/l)}else S?_=Zt(Math.abs(p[0]-x[0]-M),c,1)/a:R=Zt(Math.abs(p[1]-x[1]-N),d,1)/l;const j=pe._round(a*_),V=pe._round(l*R);w=f(...A(j,V));const L=T-w[0],$=k-w[1];u(this,Nn)||P(this,Nn,[this.x,this.y,this.width,this.height]),this.width=j,this.height=V,this.x=L,this.y=$,this.setDims(r*j,i*V),this.fixAndSetPosition(),this._onResizing()},v0=new WeakSet,zj=function(){var e;P(this,Xi,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,ze))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},w0=new WeakSet,Uj=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const o=I(this,Uu,Sv).call(this,this.rotation),a=(T,k)=>[o[0]*T+o[2]*k,o[1]*T+o[3]*k],[l,c]=this.parentDimensions,d=this.x,h=this.y,f=this.width,m=this.height,v=pe.MIN_SIZE/l,g=pe.MIN_SIZE/c;s=Math.max(Math.min(s,1/f,1/m),v/f,g/m);const A=pe._round(f*s),b=pe._round(m*s);if(A===f&&b===m)return;u(this,Nn)||P(this,Nn,[d,h,f,m]);const S=a(f/2,m/2),x=pe._round(d+S[0]),p=pe._round(h+S[1]),w=a(A/2,b/2);this.x=x-w[0],this.y=p-w[1],this.width=A,this.height=b,this.setDims(l*A,c*b),this.fixAndSetPosition(),this._onResizing()},x0=new WeakSet,Wj=function(){var e;(e=u(this,ze))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),I(this,Wu,Av).call(this)},Jp=new WeakSet,eE=function(e){const{isMac:t}=Rt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},b0=new WeakSet,Gj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=c=>{i.abort(),P(this,lo,null),P(this,Ja,!1),this._uiManager.endDragSession()||I(this,Jp,eE).call(this,c),r&&this._onStopDragging()};t&&(P(this,$u,e.clientX),P(this,zu,e.clientY),P(this,lo,e.pointerId),P(this,Wp,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=c;if(f!==u(this,lo)){ot(c);return}const[m,v]=this.screenToPageTranslation(d-u(this,$u),h-u(this,zu));P(this,$u,d),P(this,zu,h),this._uiManager.dragSelectedEditors(m,v)},o),window.addEventListener("touchmove",ot,o),window.addEventListener("pointerdown",c=>{c.pointerType===u(this,Wp)&&(u(this,tl)||c.isPrimary)&&a(c),ot(c)},o));const l=c=>{if(!u(this,lo)||u(this,lo)===c.pointerId){a(c);return}ot(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},em=new WeakSet,tE=function(){if(u(this,co)||!this.div)return;P(this,co,new AbortController);const e=this._uiManager.combinedSignal(u(this,co));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},S0=new WeakSet,Kj=function(e){pe._resizerKeyboardManager.exec(this,e)},A0=new WeakSet,Yj=function(e){var t;u(this,qi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,Dt)&&I(this,nl,of).call(this)},E0=new WeakSet,Xj=function(e){P(this,Gp,u(this,qi)?e:"")},tm=new WeakSet,nE=function(e){if(u(this,Mr))for(const t of u(this,Mr))t.tabIndex=e},nl=new WeakSet,of=function(){P(this,qi,!1),I(this,tm,nE).call(this,-1),I(this,Wu,Av).call(this)},C(pe,qp),H(pe,"_l10n",null),H(pe,"_l10nResizer",null),H(pe,"_borderLineWidth",-1),H(pe,"_colorManager",new zA),H(pe,"_zIndex",1),H(pe,"_telemetryTimeout",1e3);let Oe=pe;class Q7 extends Oe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const I_=3285377520,ir=4294901760,ti=65535;class qj{constructor(e){this.h1=e?e&4294967295:I_,this.h2=e?e&4294967295:I_}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,A=e.length;g<A;g++){const b=e.charCodeAt(g);b<=255?t[r++]=b:(t[r++]=b>>>8,t[r++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,d=this.h2;const h=3432918353,f=461845907,m=h&ti,v=f&ti;for(let g=0;g<i;g++)g&1?(a=o[g],a=a*h&ir|a*m&ti,a=a<<15|a>>>17,a=a*f&ir|a*v&ti,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[g],l=l*h&ir|l*m&ti,l=l<<15|l>>>17,l=l*f&ir|l*v&ti,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&ir|a*m&ti,a=a<<15|a>>>17,a=a*f&ir|a*v&ti,i&1?c^=a:d^=a}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ir|e*36045&ti,t=t*4283543511&ir|((t<<16|e>>>16)*2950163797&ir)>>>16,e^=t>>>1,e=e*444984403&ir|e*60499&ti,t=t*3301882366&ir|((t<<16|e>>>16)*3120437893&ir)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const rE=Object.freeze({map:null,hash:"",transfer:void 0});var rl,il,Ot,C0,Qj;class eP{constructor(){C(this,C0);C(this,rl,!1);C(this,il,null);C(this,Ot,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=u(this,Ot).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return u(this,Ot).get(e)}remove(e){if(u(this,Ot).delete(e),u(this,Ot).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Ot).values())if(t instanceof Oe)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=u(this,Ot).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,u(this,Ot).set(e,t);i&&I(this,C0,Qj).call(this),t instanceof Oe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Ot).has(e)}get size(){return u(this,Ot).size}resetModified(){u(this,rl)&&(P(this,rl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Zj(this)}get serializable(){if(u(this,Ot).size===0)return rE;const e=new Map,t=new qj,r=[],i=Object.create(null);let s=!1;for(const[o,a]of u(this,Ot)){const l=a instanceof Oe?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:rE}get editorStats(){let e=null;const t=new Map;for(const r of u(this,Ot).values()){if(!(r instanceof Oe))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){P(this,il,null)}get modifiedIds(){if(u(this,il))return u(this,il);const e=[];for(const t of u(this,Ot).values())!(t instanceof Oe)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return P(this,il,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return u(this,Ot).entries()}}rl=new WeakMap,il=new WeakMap,Ot=new WeakMap,C0=new WeakSet,Qj=function(){u(this,rl)||(P(this,rl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var nm;class Zj extends eP{constructor(t){super();C(this,nm,void 0);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);P(this,nm,{map:o,hash:i,transfer:s})}get print(){Re("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,nm)}get modifiedIds(){return ye(this,"modifiedIds",{ids:new Set,hash:""})}}nm=new WeakMap;var Gu;class Z7{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){C(this,Gu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Gu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||u(this,Gu).has(e.loadedName))){if(ft(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),u(this,Gu).add(i),r==null||r(e)}catch{le(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Re("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw le(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ye(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ye(this,"isSyncFontLoadingSupported",hn||Rt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ft(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ye(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(p,w){return p.charCodeAt(w)<<24|p.charCodeAt(w+1)<<16|p.charCodeAt(w+2)<<8|p.charCodeAt(w+3)&255}function i(p,w,T,k){const _=p.substring(0,w),R=p.substring(w+T);return _+k+R}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function d(p,w){if(++c>30){le("Load test font never loaded."),w();return}if(l.font="30px "+p,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){w();return}setTimeout(d.bind(null,p,w))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const v=16,g=1482184792;let A=r(f,v);for(s=0,o=h.length-3;s<o;s+=4)A=A-g+r(h,s)|0;s<h.length&&(A=A-g+r(h+"XXX",s)|0),f=i(f,v,4,V7(A));const b=`url(data:font/opentype;base64,${btoa(f)});`,S=`@font-face {font-family:"${h}";src:${b}}`;this.insertRule(S);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const p of[e.loadedName,h]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=p,x.append(w)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}Gu=new WeakMap;class J7{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${gj(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(o){le(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}function eX(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(hn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tX(n){if(hn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return ey(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Hy(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const iE=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,nX=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Jj=U7.bind(null,iE,nX);var Qi,T0;class rX{constructor(){C(this,Qi,new Map);C(this,T0,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};u(this,T0).then(()=>{for(const[i]of u(this,Qi))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){le("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}u(this,Qi).set(t,i)}removeEventListener(e,t){const r=u(this,Qi).get(t);r==null||r(),u(this,Qi).delete(t)}terminate(){for(const[,e]of u(this,Qi))e==null||e();u(this,Qi).clear()}}Qi=new WeakMap,T0=new WeakMap;const $y={DATA:1,ERROR:2},ct={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function __(){}function vn(n){if(n instanceof Ms||n instanceof Fw||n instanceof T_||n instanceof hp||n instanceof qS)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Re('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ms(n.message);case"InvalidPDFException":return new Fw(n.message);case"PasswordException":return new T_(n.message,n.code);case"ResponseException":return new hp(n.message,n.status,n.missing);case"UnknownErrorException":return new qS(n.message,n.details)}return new qS(n.message,n.toString())}var Ku,P0,eF,k0,tF,I0,nF,Yu,Ev;class af{constructor(e,t,r){C(this,P0);C(this,k0);C(this,I0);C(this,Yu);C(this,Ku,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",I(this,P0,eF).bind(this),{signal:u(this,Ku).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:ct.PULL,streamId:s,desiredSize:c.desiredSize}),d.promise},cancel:c=>{ft(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ct.CANCEL,streamId:s,reason:vn(c)}),d.promise}},r)}destroy(){var e;(e=u(this,Ku))==null||e.abort(),P(this,Ku,null)}}Ku=new WeakMap,P0=new WeakSet,eF=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){I(this,I0,nF).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===$y.DATA)i.resolve(e.data);else if(e.callback===$y.ERROR)i.reject(vn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:$y.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:$y.ERROR,callbackId:e.callbackId,reason:vn(o)})});return}if(e.streamId){I(this,k0,tF).call(this,e);return}t(e.data)},k0=new WeakSet,tF=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:ct.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ct.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){ft(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ct.ERROR,streamId:t,reason:vn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ct.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ct.START_COMPLETE,streamId:t,reason:vn(c)})})},I0=new WeakSet,nF=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ct.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(vn(e.reason));break;case ct.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(vn(e.reason));break;case ct.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:ct.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||__).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ct.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ct.PULL_COMPLETE,streamId:t,reason:vn(c)})});break;case ct.ENQUEUE:if(ft(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ct.CLOSE:if(ft(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),I(this,Yu,Ev).call(this,o,t);break;case ct.ERROR:ft(o,"error should have stream controller"),o.controller.error(vn(e.reason)),I(this,Yu,Ev).call(this,o,t);break;case ct.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(vn(e.reason)),I(this,Yu,Ev).call(this,o,t);break;case ct.CANCEL:if(!a)break;const l=vn(e.reason);Promise.try(a.onCancel||__,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ct.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ct.CANCEL_COMPLETE,streamId:t,reason:vn(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Yu=new WeakSet,Ev=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var rm;class rF{constructor({enableHWA:e=!1}){C(this,rm,!1);P(this,rm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!u(this,rm)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Re("Abstract method `_createCanvas` called.")}}rm=new WeakMap;class iX extends rF{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class iF{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class R_ extends iF{async _fetch(e){const t=await Ih(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):ey(t)}}class sF{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var sl,Xu,Zi,Ji,qt,ol,al,bt,Yt,ll,lf,uo,Fc,qu,Cv,ho,Bc,_0,oF,im,sE,fo,Vc,cl,cf,ul,uf,sm,oE,dl,df;class sX extends sF{constructor({docId:t,ownerDocument:r=globalThis.document}){super();C(this,bt);C(this,ll);C(this,uo);C(this,qu);C(this,ho);C(this,_0);C(this,im);C(this,fo);C(this,cl);C(this,ul);C(this,sm);C(this,dl);C(this,sl,void 0);C(this,Xu,void 0);C(this,Zi,void 0);C(this,Ji,void 0);C(this,qt,void 0);C(this,ol,void 0);C(this,al,0);P(this,Ji,t),P(this,qt,r)}addFilter(t){if(!t)return"none";let r=u(this,bt,Yt).get(t);if(r)return r;const[i,s,o]=I(this,qu,Cv).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=u(this,bt,Yt).get(a),r)return u(this,bt,Yt).set(t,r),r;const l=`g_${u(this,Ji)}_transfer_map_${rn(this,al)._++}`,c=I(this,ho,Bc).call(this,l);u(this,bt,Yt).set(t,c),u(this,bt,Yt).set(a,c);const d=I(this,fo,Vc).call(this,l);return I(this,ul,uf).call(this,i,s,o,d),c}addHCMFilter(t,r){var v;const i=`${t}-${r}`,s="base";let o=u(this,ll,lf).get(s);if((o==null?void 0:o.key)===i||(o?((v=o.filter)==null||v.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},u(this,ll,lf).set(s,o)),!t||!r))return o.url;const a=I(this,dl,df).call(this,t);t=ne.makeHexColor(...a);const l=I(this,dl,df).call(this,r);if(r=ne.makeHexColor(...l),u(this,uo,Fc).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let g=0;g<=255;g++){const A=g/255;c[g]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const d=c.join(","),h=`g_${u(this,Ji)}_hcm_filter`,f=o.filter=I(this,fo,Vc).call(this,h);I(this,ul,uf).call(this,d,d,d,f),I(this,im,sE).call(this,f);const m=(g,A)=>{const b=a[g]/255,S=l[g]/255,x=new Array(A+1);for(let p=0;p<=A;p++)x[p]=b+p/A*(S-b);return x.join(",")};return I(this,ul,uf).call(this,m(0,5),m(1,5),m(2,5),f),o.url=I(this,ho,Bc).call(this,h),o.url}addAlphaFilter(t){let r=u(this,bt,Yt).get(t);if(r)return r;const[i]=I(this,qu,Cv).call(this,[t]),s=`alpha_${i}`;if(r=u(this,bt,Yt).get(s),r)return u(this,bt,Yt).set(t,r),r;const o=`g_${u(this,Ji)}_alpha_map_${rn(this,al)._++}`,a=I(this,ho,Bc).call(this,o);u(this,bt,Yt).set(t,a),u(this,bt,Yt).set(s,a);const l=I(this,fo,Vc).call(this,o);return I(this,sm,oE).call(this,i,l),a}addLuminosityFilter(t){let r=u(this,bt,Yt).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=I(this,qu,Cv).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=u(this,bt,Yt).get(s),r)return u(this,bt,Yt).set(t,r),r;const o=`g_${u(this,Ji)}_luminosity_map_${rn(this,al)._++}`,a=I(this,ho,Bc).call(this,o);u(this,bt,Yt).set(t,a),u(this,bt,Yt).set(s,a);const l=I(this,fo,Vc).call(this,o);return I(this,_0,oF).call(this,l),t&&I(this,sm,oE).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var S;const a=`${r}-${i}-${s}-${o}`;let l=u(this,ll,lf).get(t);if((l==null?void 0:l.key)===a||(l?((S=l.filter)==null||S.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},u(this,ll,lf).set(t,l)),!r||!i))return l.url;const[c,d]=[r,i].map(I(this,dl,df).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[s,o].map(I(this,dl,df).bind(this));f<h&&([h,f,m,v]=[f,h,v,m]),u(this,uo,Fc).style.color="";const g=(x,p,w)=>{const T=new Array(256),k=(f-h)/w,_=x/255,R=(p-x)/(255*w);let M=0;for(let N=0;N<=w;N++){const j=Math.round(h+N*k),V=_+N*R;for(let L=M;L<=j;L++)T[L]=V;M=j+1}for(let N=M;N<256;N++)T[N]=T[M-1];return T.join(",")},A=`g_${u(this,Ji)}_hcm_${t}_filter`,b=l.filter=I(this,fo,Vc).call(this,A);return I(this,im,sE).call(this,b),I(this,ul,uf).call(this,g(m[0],v[0],5),g(m[1],v[1],5),g(m[2],v[2],5),b),l.url=I(this,ho,Bc).call(this,A),l.url}destroy(t=!1){var r,i,s,o;t&&((r=u(this,ol))!=null&&r.size)||((i=u(this,Zi))==null||i.parentNode.parentNode.remove(),P(this,Zi,null),(s=u(this,Xu))==null||s.clear(),P(this,Xu,null),(o=u(this,ol))==null||o.clear(),P(this,ol,null),P(this,al,0))}}sl=new WeakMap,Xu=new WeakMap,Zi=new WeakMap,Ji=new WeakMap,qt=new WeakMap,ol=new WeakMap,al=new WeakMap,bt=new WeakSet,Yt=function(){return u(this,Xu)||P(this,Xu,new Map)},ll=new WeakSet,lf=function(){return u(this,ol)||P(this,ol,new Map)},uo=new WeakSet,Fc=function(){if(!u(this,Zi)){const t=u(this,qt).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=u(this,qt).createElementNS(Di,"svg");i.setAttribute("width",0),i.setAttribute("height",0),P(this,Zi,u(this,qt).createElementNS(Di,"defs")),t.append(i),i.append(u(this,Zi)),u(this,qt).body.append(t)}return u(this,Zi)},qu=new WeakSet,Cv=function(t){if(t.length===1){const c=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=c[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},ho=new WeakSet,Bc=function(t){if(u(this,sl)===void 0){P(this,sl,"");const r=u(this,qt).URL;r!==u(this,qt).baseURI&&(ny(r)?le('#createUrl: ignore "data:"-URL for performance reasons.'):P(this,sl,qT(r,"")))}return`url(${u(this,sl)}#${t})`},_0=new WeakSet,oF=function(t){const r=u(this,qt).createElementNS(Di,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},im=new WeakSet,sE=function(t){const r=u(this,qt).createElementNS(Di,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},fo=new WeakSet,Vc=function(t){const r=u(this,qt).createElementNS(Di,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),u(this,uo,Fc).append(r),r},cl=new WeakSet,cf=function(t,r,i){const s=u(this,qt).createElementNS(Di,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},ul=new WeakSet,uf=function(t,r,i,s){const o=u(this,qt).createElementNS(Di,"feComponentTransfer");s.append(o),I(this,cl,cf).call(this,o,"feFuncR",t),I(this,cl,cf).call(this,o,"feFuncG",r),I(this,cl,cf).call(this,o,"feFuncB",i)},sm=new WeakSet,oE=function(t,r){const i=u(this,qt).createElementNS(Di,"feComponentTransfer");r.append(i),I(this,cl,cf).call(this,i,"feFuncA",t)},dl=new WeakSet,df=function(t){return u(this,uo,Fc).style.color=t,JT(getComputedStyle(u(this,uo,Fc)).getPropertyValue("color"))};class aF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class M_ extends aF{async _fetch(e){const t=await Ih(e,"arraybuffer");return new Uint8Array(t)}}class lF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class N_ extends lF{async _fetch(e){const t=await Ih(e,"arraybuffer");return new Uint8Array(t)}}hn&&le("Please use the `legacy` build in Node.js environments.");async function tP(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class oX extends sF{}class aX extends rF{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class lX extends iF{async _fetch(e){return tP(e)}}class cX extends aF{async _fetch(e){return tP(e)}}class uX extends lF{async _fetch(e){return tP(e)}}const Vt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function aE(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class nP{isModifyingCurrentTransform(){return!1}getPattern(){Re("Abstract method `getPattern` called.")}}class dX extends nP{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Vt.STROKE||i===Vt.FILL){const o=t.current.getClippedPathBoundingBox(i,Ye(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=ne.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),aE(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else aE(e,this._bbox),s=this._createGradient(e);return s}}function JS(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const m=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,A=(l[r+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,S=(l[i+1]+e.offsetY)*e.scaleY;if(v>=S)return;const x=c[s],p=c[s+1],w=c[s+2],T=c[o],k=c[o+1],_=c[o+2],R=c[a],M=c[a+1],N=c[a+2],j=Math.round(v),V=Math.round(S);let L,$,D,B,O,F,U,W;for(let K=j;K<=V;K++){if(K<A){const G=K<v?0:(v-K)/(v-A);L=m-(m-g)*G,$=x-(x-T)*G,D=p-(p-k)*G,B=w-(w-_)*G}else{let G;K>S?G=1:A===S?G=0:G=(A-K)/(A-S),L=g-(g-b)*G,$=T-(T-R)*G,D=k-(k-M)*G,B=_-(_-N)*G}let Z;K<v?Z=0:K>S?Z=1:Z=(v-K)/(v-S),O=m-(m-b)*Z,F=x-(x-R)*Z,U=p-(p-M)*Z,W=w-(w-N)*Z;const de=Math.round(Math.min(L,O)),Pe=Math.round(Math.max(L,O));let ce=h*K+de*4;for(let G=de;G<=Pe;G++)Z=(L-G)/(L-O),Z<0?Z=0:Z>1&&(Z=1),d[ce++]=$-($-F)*Z|0,d[ce++]=D-(D-U)*Z|0,d[ce++]=B-(B-W)*Z|0,d[ce++]=255}}function hX(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let d=s*a;for(let h=0;h<c;h++,d++)JS(n,t,r[d],r[d+1],r[d+a],i[d],i[d+1],i[d+a]),JS(n,t,r[d+a+1],r[d+1],r[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)JS(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class fX extends nP{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=c/h,v=d/f,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/m,scaleY:1/v},A=h+2*2,b=f+2*2,S=r.getCanvas("mesh",A,b),x=S.context,p=x.createImageData(h,f);if(t){const T=p.data;for(let k=0,_=T.length;k<_;k+=4)T[k]=t[0],T[k+1]=t[1],T[k+2]=t[2],T[k+3]=255}for(const T of this._figures)hX(p,T,g);return x.putImageData(p,2,2),{canvas:S.canvas,offsetX:a-2*m,offsetY:l-2*v,scaleX:m,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){aE(e,this._bbox);const s=new Float32Array(2);if(i===Vt.SHADING)ne.singularValueDecompose2dScale(Ye(e),s);else if(this.matrix){ne.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;ne.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=l}else ne.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===Vt.SHADING?null:this._background,t.cachedCanvases);return i!==Vt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class pX extends nP{getPattern(){return"hotpink"}}function mX(n){switch(n[0]){case"RadialAxial":return new dX(n);case"Mesh":return new fX(n);case"Dummy":return new pX}throw new Error(`Unknown IR type: ${n[0]}`)}const L_={COLORED:1,UNCOLORED:2},R0=class R0{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),_b("TilingType: "+s);const d=t[0],h=t[1],f=t[2],m=t[3],v=f-d,g=m-h,A=new Float32Array(2);ne.singularValueDecompose2dScale(this.matrix,A);const[b,S]=A;ne.singularValueDecompose2dScale(this.baseTransform,A);const x=b*A[0],p=S*A[1];let w=v,T=g,k=!1,_=!1;const R=Math.ceil(l*x),M=Math.ceil(c*p),N=Math.ceil(v*x),j=Math.ceil(g*p);R>=N?w=l:k=!0,M>=j?T=c:_=!0;const V=this.getSizeAndScale(w,this.ctx.canvas.width,x),L=this.getSizeAndScale(T,this.ctx.canvas.height,p),$=e.cachedCanvases.getCanvas("pattern",V.size,L.size),D=$.context,B=a.createCanvasGraphics(D);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,i,o),D.translate(-V.scale*d,-L.scale*h),B.transform(V.scale,0,0,L.scale,0,0),D.save(),this.clipBbox(B,d,h,f,m),B.baseTransform=Ye(B.ctx),B.executeOperatorList(r),B.endDrawing(),D.restore(),k||_){const O=$.canvas;k&&(w=l),_&&(T=c);const F=this.getSizeAndScale(w,this.ctx.canvas.width,x),U=this.getSizeAndScale(T,this.ctx.canvas.height,p),W=F.size,K=U.size,Z=e.cachedCanvases.getCanvas("pattern-workaround",W,K),de=Z.context,Pe=k?Math.floor(v/l):0,ce=_?Math.floor(g/c):0;for(let G=0;G<=Pe;G++)for(let he=0;he<=ce;he++)de.drawImage(O,W*G,K*he,W,K,0,0,W,K);return{canvas:Z.canvas,scaleX:F.scale,scaleY:U.scale,offsetX:d,offsetY:h}}return{canvas:$.canvas,scaleX:V.scale,scaleY:L.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,r){const i=Math.max(R0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),ne.axialAlignedBoundingBox([t,r,i,s],Ye(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case L_.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case L_.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new B7(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i){let s=r;i!==Vt.SHADING&&(s=ne.transform(s,t.baseTransform),this.matrix&&(s=ne.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};H(R0,"MAX_PATTERN_SIZE",3e3);let lE=R0;function gX({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Rt.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let m=0;for(let v=0;v<i;v++){for(const A=e+d;e<A;e++){const b=e<f?n[e]:255;t[m++]=b&128?c:l,t[m++]=b&64?c:l,t[m++]=b&32?c:l,t[m++]=b&16?c:l,t[m++]=b&8?c:l,t[m++]=b&4?c:l,t[m++]=b&2?c:l,t[m++]=b&1?c:l}if(h===0)continue;const g=e<f?n[e++]:255;for(let A=0;A<h;A++)t[m++]=g&1<<7-A?c:l}return{srcPos:e,destPos:m}}const D_=16,O_=100,yX=15,j_=10,An=16,e1=new DOMMatrix,Kn=new Float32Array(2),ou=new Float32Array([1/0,1/0,-1/0,-1/0]);function vX(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class wX{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function zy(n,e,t,r,i,s,o,a,l,c){const[d,h,f,m,v,g]=Ye(n);if(h===0&&f===0){const S=o*d+v,x=Math.round(S),p=a*m+g,w=Math.round(p),T=(o+l)*d+v,k=Math.abs(Math.round(T)-x)||1,_=(a+c)*m+g,R=Math.abs(Math.round(_)-w)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),x,w),n.drawImage(e,t,r,i,s,0,0,k,R),n.setTransform(d,h,f,m,v,g),[k,R]}if(d===0&&m===0){const S=a*f+v,x=Math.round(S),p=o*h+g,w=Math.round(p),T=(a+c)*f+v,k=Math.abs(Math.round(T)-x)||1,_=(o+l)*h+g,R=Math.abs(Math.round(_)-w)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,w),n.drawImage(e,t,r,i,s,0,0,R,k),n.setTransform(d,h,f,m,v,g),[R,k]}n.drawImage(e,t,r,i,s,o,a,l,c);const A=Math.hypot(d,h),b=Math.hypot(f,m);return[A*l,b*c]}class F_{constructor(e,t){H(this,"alphaIsShape",!1);H(this,"fontSize",0);H(this,"fontSizeScale",1);H(this,"textMatrix",null);H(this,"textMatrixScale",1);H(this,"fontMatrix",BA);H(this,"leading",0);H(this,"x",0);H(this,"y",0);H(this,"lineX",0);H(this,"lineY",0);H(this,"charSpacing",0);H(this,"wordSpacing",0);H(this,"textHScale",1);H(this,"textRenderingMode",Kt.FILL);H(this,"textRise",0);H(this,"fillColor","#000000");H(this,"strokeColor","#000000");H(this,"patternFill",!1);H(this,"patternStroke",!1);H(this,"fillAlpha",1);H(this,"strokeAlpha",1);H(this,"lineWidth",1);H(this,"activeSMask",null);H(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=ou.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Vt.FILL,t=null){const r=this.minMax.slice();if(e===Vt.STROKE){t||Re("Stroke bounding box must include transform."),ne.singularValueDecompose2dScale(t,Kn);const i=Kn[0]*this.lineWidth/2,s=Kn[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=ne.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(ou,0)}getClippedPathBoundingBox(e=Vt.FILL,t=null){return ne.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function B_(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%An,s=(t-i)/An,o=i===0?s:s+1,a=n.createImageData(r,An);let l=0,c;const d=e.data,h=a.data;let f,m,v,g;if(e.kind===Of.GRAYSCALE_1BPP){const A=d.byteLength,b=new Uint32Array(h.buffer,0,h.byteLength>>2),S=b.length,x=r+7>>3,p=4294967295,w=Rt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(v=f<s?An:i,c=0,m=0;m<v;m++){const T=A-l;let k=0;const _=T>x?r:T*8-7,R=_&-8;let M=0,N=0;for(;k<R;k+=8)N=d[l++],b[c++]=N&128?p:w,b[c++]=N&64?p:w,b[c++]=N&32?p:w,b[c++]=N&16?p:w,b[c++]=N&8?p:w,b[c++]=N&4?p:w,b[c++]=N&2?p:w,b[c++]=N&1?p:w;for(;k<_;k++)M===0&&(N=d[l++],M=128),b[c++]=N&M?p:w,M>>=1}for(;c<S;)b[c++]=0;n.putImageData(a,0,f*An)}}else if(e.kind===Of.RGBA_32BPP){for(m=0,g=r*An*4,f=0;f<s;f++)h.set(d.subarray(l,l+g)),l+=g,n.putImageData(a,0,m),m+=An;f<o&&(g=r*i*4,h.set(d.subarray(l,l+g)),n.putImageData(a,0,m))}else if(e.kind===Of.RGB_24BPP)for(v=An,g=r*v,f=0;f<o;f++){for(f>=s&&(v=i,g=r*v),c=0,m=g;m--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;n.putImageData(a,0,f*An)}else throw new Error(`bad image kind: ${e.kind}`)}function V_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%An,s=(t-i)/An,o=i===0?s:s+1,a=n.createImageData(r,An);let l=0;const c=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<s?An:i;({srcPos:l}=gX({src:c,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*An)}}function Uh(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Uy(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function H_(n,e){if(e)return!0;ne.singularValueDecompose2dScale(n,Kn);const t=Math.fround(Zr.pixelRatio*Ns.PDF_TO_CSS_UNITS);return Kn[0]<=t&&Kn[1]<=t}const xX=["butt","round","square"],bX=["miter","round","bevel"],SX={},$_={};var om,cE,am,uE,lm,dE;const mP=class mP{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){C(this,om);C(this,am);C(this,lm);this.ctx=e,this.current=new F_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new wX(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ye(this.compositeCtx))}this.ctx.save(),Uy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ye(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>j_&&typeof r=="function",d=c?Date.now()+yX:0;let h=0;const f=this.commonObjs,m=this.objs;let v;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(v=o[a],v!==dp.dependency)this[v].apply(this,s[a]);else for(const g of s[a]){const A=g.startsWith("g_")?f:m;if(!A.has(g))return A.get(g,r),a}if(a++,a===l)return a;if(c&&++h>j_){if(Date.now()>d)return r(),a;h=0}}}endDrawing(){I(this,om,cE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),I(this,am,uE).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",d,h;for(;s>2&&a>1||o>2&&l>1;){let f=a,m=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),d=this.cachedCanvases.getCanvas(c,f,m),h=d.context,h.clearRect(0,0,f,m),h.drawImage(e,0,0,a,l,0,0,f,m),e=d.canvas,a=f,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ye(t);let l,c,d,h;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const M=l.get(c);if(M&&!o){const N=Math.round(Math.min(a[0],a[2])+a[4]),j=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:N,offsetY:j}}d=M}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),V_(h.context,e));let f=ne.transform(a,[1/r,0,0,-1/i,0,0]);f=ne.transform(f,[1,0,0,1,0,-i]);const m=ou.slice();ne.axialAlignedBoundingBox([0,0,r,i],f,m);const[v,g,A,b]=m,S=Math.round(A-v)||1,x=Math.round(b-g)||1,p=this.cachedCanvases.getCanvas("fillCanvas",S,x),w=p.context,T=v,k=g;w.translate(-T,-k),w.transform(...f),d||(d=this._scaleImage(h.canvas,ei(w)),d=d.img,l&&o&&l.set(c,d)),w.imageSmoothingEnabled=H_(Ye(w),e.interpolate),zy(w,d,0,0,d.width,d.height,0,0,r,i),w.globalCompositeOperation="source-in";const _=ne.transform(ei(w),[1,0,0,1,-T,-k]);return w.fillStyle=o?s.getPattern(t,this,_,Vt.FILL):s,w.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,p.canvas)),{canvas:p.canvas,offsetX:Math.round(T),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=xX[e]}setLineJoin(e){this.ctx.lineJoin=bX[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),Uh(this.suspendedCtx,s),vX(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Uh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,d,h){let f=e.canvas,m=l-d,v=c-h;if(o)if(m<0||v<0||m+r>f.width||v+i>f.height){const A=this.cachedCanvases.getCanvas("maskExtension",r,i),b=A.context;b.drawImage(f,-m,-v),b.globalCompositeOperation="destination-atop",b.fillStyle=o,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",f=A.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(m,v,r,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(m,v,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,r,i),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,m,v,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode&&Uh(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Uh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let[i]=t;if(!r){i||(i=t[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const s=t[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case Vy.moveTo:s.moveTo(i[o++],i[o++]);break;case Vy.lineTo:s.lineTo(i[o++],i[o++]);break;case Vy.curveTo:s.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case Vy.closePath:s.closePath();break;default:le(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=s}ne.axialAlignedBoundingBox(r,Ye(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,ei(r),Vt.STROKE),s){const o=new Path2D;o.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=o}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Vt.STROKE,Ye(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,ei(r),Vt.FILL),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),o&&r.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=SX}eoClip(){this.pendingClip=$_}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:c}of e)r.addPath(c,new DOMMatrix(s).preMultiplySelf(i).translate(o,a).scale(l,-l));t.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||BA,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&le("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<D_?c=D_:t>O_&&(c=O_),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=c&Kt.FILL_STROKE_MASK,f=!!(c&Kt.ADD_TO_PATH_FLAG),m=a.patternFill&&!l.missingFile,v=a.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||f||m||v)&&(g=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||m||v){o.save(),o.translate(t,r),o.scale(d,-d);let A;if((h===Kt.FILL||h===Kt.FILL_STROKE)&&(i?(A=o.getTransform(),o.setTransform(...i),o.fill(I(this,lm,dE).call(this,g,A,i))):o.fill(g)),h===Kt.STROKE||h===Kt.FILL_STROKE)if(s){A||(A=o.getTransform()),o.setTransform(...s);const{a:b,b:S,c:x,d:p}=A,w=ne.inverseTransform(s),T=ne.transform([b,S,x,p,0,0],w);ne.singularValueDecompose2dScale(T,Kn),o.lineWidth*=Math.max(Kn[0],Kn[1])/d,o.stroke(I(this,lm,dE).call(this,g,A,s))}else o.lineWidth/=d,o.stroke(g);o.restore()}else(h===Kt.FILL||h===Kt.FILL_STROKE)&&o.fillText(e,t,r),(h===Kt.STROKE||h===Kt.FILL_STROKE)&&o.strokeText(e,t,r);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ye(o),x:t,y:r,fontSize:d,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return ye(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,d=t.textHScale*c,h=e.length,f=r.vertical,m=f?1:-1,v=r.defaultVMetrics,g=i*t.fontMatrix[0],A=t.textRenderingMode===Kt.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),t.textMatrix&&s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(d,-1):s.scale(d,1);let b,S;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,ei(s),Vt.FILL);b=Ye(s),s.restore(),s.fillStyle=k}if(t.patternStroke){s.save();const k=t.strokeColor.getPattern(s,this,ei(s),Vt.STROKE);S=Ye(s),s.restore(),s.strokeStyle=k}let x=t.lineWidth;const p=t.textMatrixScale;if(p===0||x===0){const k=t.textRenderingMode&Kt.FILL_STROKE_MASK;(k===Kt.STROKE||k===Kt.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=p;if(o!==1&&(s.scale(o,o),x/=o),s.lineWidth=x,r.isInvalidPDFjsFont){const k=[];let _=0;for(const R of e)k.push(R.unicode),_+=R.width;s.fillText(k.join(""),0,0),t.x+=_*g*d,s.restore(),this.compose();return}let w=0,T;for(T=0;T<h;++T){const k=e[T];if(typeof k=="number"){w+=m*k*i/1e3;continue}let _=!1;const R=(k.isSpace?l:0)+a,M=k.fontChar,N=k.accent;let j,V,L=k.width;if(f){const D=k.vmetric||v,B=-(k.vmetric?D[1]:L*.5)*g,O=D[2]*g;L=D?-D[0]:L,j=B/o,V=(w+O)/o}else j=w/o,V=0;if(r.remeasure&&L>0){const D=s.measureText(M).width*1e3/i*o;if(L<D&&this.isFontSubpixelAAEnabled){const B=L/D;_=!0,s.save(),s.scale(B,1),j/=B}else L!==D&&(j+=(L-D)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(A&&!N)s.fillText(M,j,V);else if(this.paintChar(M,j,V,b,S),N){const D=j+i*N.offset.x/o,B=V-i*N.offset.y/o;this.paintChar(N.fontChar,D,B,b,S)}}const $=f?L*g-R*c:L*g+R*c;w+=$,_&&s.restore()}f?t.y-=w:t.x+=w*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||BA,f=e.length,m=r.textRenderingMode===Kt.INVISIBLE;let v,g,A,b;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),r.textMatrix&&t.transform(...r.textMatrix),t.translate(r.x,r.y+r.textRise),t.scale(d,o),v=0;v<f;++v){if(g=e[v],typeof g=="number"){b=a*g*s/1e3,this.ctx.translate(b,0),r.x+=b*d;continue}const S=(g.isSpace?c:0)+l,x=i.charProcOperatorList[g.operatorListId];x?this.contentVisible&&(this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(x),this.restore()):le(`Type3 character "${g.operatorListId}" is not available.`);const p=[g.width,0];ne.applyTransform(p,h),A=p[0]*s+S,t.translate(A,0),r.x+=A*d}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){const a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ye(this.ctx),i={createCanvasGraphics:s=>new mP(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new lE(e,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=mX(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,ei(t),Vt.SHADING);const i=ei(t);if(i){const{width:s,height:o}=t.canvas,a=ou.slice();ne.axialAlignedBoundingBox([0,0,s,o],i,a);const[l,c,d,h]=a;this.ctx.fillRect(l,c,d-l,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Re("Should not call beginInlineImage")}beginImageData(){Re("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ye(this.ctx),t)){ne.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[r,i,s,o]=t,a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||_b("TODO: Support non-isolated groups."),e.knockout&&le("Knockout groups not supported.");const r=Ye(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=ou.slice();ne.axialAlignedBoundingBox(e.bbox,Ye(t),i);const s=[0,0,t.canvas.width,t.canvas.height];i=ne.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,c),f=h.context;f.translate(-o,-a),f.transform(...r);let m=new Path2D;const[v,g,A,b]=e.bbox;if(m.rect(v,g,A-v,b-g),e.matrix){const S=new Path2D;S.addPath(m,new DOMMatrix(e.matrix)),m=S}f.clip(m),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Uh(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=ou.slice();ne.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,s),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(I(this,om,cE).call(this),Uy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a,ne.singularValueDecompose2dScale(Ye(this.ctx),Kn);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),d=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Kn[0],0,0,-Kn[1],0,a*Kn[1]),Uy(this.ctx)}else{Uy(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],o,a),this.ctx.clip(l)}}this.current=new F_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),I(this,am,uE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ye(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=ne.transform(l,[t,r,i,s,o[d],o[d+1]]);a.drawImage(c.canvas,f[4],f[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,s);V_(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,ei(t),Vt.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),zy(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){le("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/t,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;B_(c,e),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,ei(i));i.imageSmoothingEnabled=H_(Ye(i),e.interpolate),zy(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;B_(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),zy(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===$_?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ye(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/c;else{const d=l*e,h=c*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)o=d/l,a=c/l;else{const h=e*l;o=d>h?d/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(s,o),e1.a=1/s,e1.d=1/o;const l=new Path2D;if(l.addPath(e,e1),a.length>0){const c=Math.max(s,o);r.setLineDash(a.map(d=>d/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};om=new WeakSet,cE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},am=new WeakSet,uE=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},lm=new WeakSet,dE=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let xu=mP;for(const n in dp)xu.prototype[n]!==void 0&&(xu.prototype[dp[n]]=xu.prototype[n]);var cm,um;class yr{static get workerPort(){return u(this,cm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");P(this,cm,e)}static get workerSrc(){return u(this,um)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");P(this,um,e)}}cm=new WeakMap,um=new WeakMap,C(yr,cm,null),C(yr,um,"");var Qu,dm;class AX{constructor({parsedData:e,rawData:t}){C(this,Qu,void 0);C(this,dm,void 0);P(this,Qu,e),P(this,dm,t)}getRaw(){return u(this,dm)}get(e){return u(this,Qu).get(e)??null}[Symbol.iterator](){return u(this,Qu).entries()}}Qu=new WeakMap,dm=new WeakMap;const Hc=Symbol("INTERNAL");var hm,fm,pm,Zu;class EX{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){C(this,hm,!1);C(this,fm,!1);C(this,pm,!1);C(this,Zu,!0);P(this,hm,!!(e&Wn.DISPLAY)),P(this,fm,!!(e&Wn.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(u(this,pm))return u(this,Zu);if(!u(this,Zu))return!1;const{print:e,view:t}=this.usage;return u(this,hm)?(t==null?void 0:t.viewState)!=="OFF":u(this,fm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Hc&&Re("Internal method `_setVisible` called."),P(this,pm,r),P(this,Zu,t)}}hm=new WeakMap,fm=new WeakMap,pm=new WeakMap,Zu=new WeakMap;var po,_e,Ju,ed,mm,hE;class CX{constructor(e,t=Wn.DISPLAY){C(this,mm);C(this,po,null);C(this,_e,new Map);C(this,Ju,null);C(this,ed,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,P(this,ed,e.order);for(const r of e.groups)u(this,_e).set(r.id,new EX(t,r));if(e.baseState==="OFF")for(const r of u(this,_e).values())r._setVisible(Hc,!1);for(const r of e.on)u(this,_e).get(r)._setVisible(Hc,!0);for(const r of e.off)u(this,_e).get(r)._setVisible(Hc,!1);P(this,Ju,this.getHash())}}isVisible(e){if(u(this,_e).size===0)return!0;if(!e)return _b("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,_e).has(e.id)?u(this,_e).get(e.id).visible:(le(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return I(this,mm,hE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,_e).has(t))return le(`Optional content group not found: ${t}`),!0;if(u(this,_e).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,_e).has(t))return le(`Optional content group not found: ${t}`),!0;if(!u(this,_e).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,_e).has(t))return le(`Optional content group not found: ${t}`),!0;if(!u(this,_e).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,_e).has(t))return le(`Optional content group not found: ${t}`),!0;if(u(this,_e).get(t).visible)return!1}return!0}return le(`Unknown optional content policy ${e.policy}.`),!0}return le(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=u(this,_e).get(e);if(!i){le(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=u(this,_e).get(a))==null||s._setVisible(Hc,!1,!0));i._setVisible(Hc,!!t,!0),P(this,po,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=u(this,_e).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}P(this,po,null)}get hasInitialVisibility(){return u(this,Ju)===null||this.getHash()===u(this,Ju)}getOrder(){return u(this,_e).size?u(this,ed)?u(this,ed).slice():[...u(this,_e).keys()]:null}getGroup(e){return u(this,_e).get(e)||null}getHash(){if(u(this,po)!==null)return u(this,po);const e=new qj;for(const[t,r]of u(this,_e))e.update(`${t}:${r.visible}`);return P(this,po,e.hexdigest())}[Symbol.iterator](){return u(this,_e).entries()}}po=new WeakMap,_e=new WeakMap,Ju=new WeakMap,ed=new WeakMap,mm=new WeakSet,hE=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=I(this,mm,hE).call(this,s);else if(u(this,_e).has(s))o=u(this,_e).get(s).visible;else return le(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class TX{constructor(e,{disableRange:t=!1,disableStream:r=!1}){ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});ft(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PX(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new kX(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class PX{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=Mb(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class kX{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function IX(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=c(d),s(d)}if(t=o(n),t){const d=c(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=c(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),m=ey(h);h=f.decode(m),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const h=[];let f;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=m.exec(d))!==null;){let[,g,A,b]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[A,b]}const v=[];for(let g=0;g<h.length&&g in h;++g){let[A,b]=h[g];b=a(b),A&&(b=unescape(b),g===0&&(b=l(b))),v.push(b)}return v.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const m=h[f].indexOf('"');m!==-1&&(h[f]=h[f].slice(0,m),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return i(f,v)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,A){return String.fromCharCode(parseInt(A,16))}),i(f,v);try{v=atob(v)}catch{}return i(f,v)})}return""}function cF(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function Lb(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function uF({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function dF(n){const e=n.get("Content-Disposition");if(e){let t=IX(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Mb(t))return t}return null}function iy(n,e){return new hp(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function hF(n){return n===200||n===206}function fF(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function pF(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(le(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class _X{constructor(e){H(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=cF(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new RX(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new MX(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class RX{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,fF(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Lb(s.url),!hF(s.status))throw iy(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=uF({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=dF(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ms("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:pF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class MX{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,fF(s,this._withCredentials,this._abortController)).then(a=>{const l=Lb(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!hF(a.status))throw iy(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:pF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const t1=200,n1=206;function NX(n){const e=n.response;return typeof e!="string"?e:ey(e).buffer}class LX{constructor({url:e,httpHeaders:t,withCredentials:r}){H(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=cF(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=n1):i.expectedStatus=t1,t.responseType="arraybuffer",ft(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||t1;if(!(s===t1&&r.expectedStatus===n1)&&s!==r.expectedStatus){r.onError(i.status);return}const a=NX(i);if(s===n1){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(le('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class DX{constructor(e){this._source=e,this._manager=new LX(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new OX(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new jX(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class OX{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Lb(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=uF({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=dF(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=iy(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class jX{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Lb((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=iy(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const FX=/^[a-z][a-z0-9\-+.]+:/i;function BX(n){if(FX.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class VX{constructor(e){this.source=e,this.url=BX(e.url),ft(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new HX(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new $X(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class HX{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=iy(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ms("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $X{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Wh=Symbol("INITIAL_DATA");var Ln,gm,fE;class mF{constructor(){C(this,gm);C(this,Ln,Object.create(null))}get(e,t=null){if(t){const i=I(this,gm,fE).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=u(this,Ln)[e];if(!r||r.data===Wh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=u(this,Ln)[e];return!!t&&t.data!==Wh}delete(e){const t=u(this,Ln)[e];return!t||t.data===Wh?!1:(delete u(this,Ln)[e],!0)}resolve(e,t=null){const r=I(this,gm,fE).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in u(this,Ln)){const{data:r}=u(this,Ln)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}P(this,Ln,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Ln)){const{data:t}=u(this,Ln)[e];t!==Wh&&(yield[e,t])}}}Ln=new WeakMap,gm=new WeakSet,fE=function(e){var t;return(t=u(this,Ln))[e]||(t[e]={...Promise.withResolvers(),data:Wh})};const zX=1e5,z_=30;var nR,mo,bn,ym,vm,hl,es,wm,xm,fl,td,nd,go,rd,bm,id,pl,Sm,Am,We,sd,ml,Em,yo,od,M0,gF,N0,yF,Cm,pE,ad,Tv,Tm,mE,L0,vF,D0,wF;let pp=(We=class{constructor({textContentSource:e,container:t,viewport:r}){C(this,M0);C(this,N0);C(this,Cm);C(this,mo,Promise.withResolvers());C(this,bn,null);C(this,ym,!1);C(this,vm,!!((nR=globalThis.FontInspector)!=null&&nR.enabled));C(this,hl,null);C(this,es,null);C(this,wm,0);C(this,xm,0);C(this,fl,null);C(this,td,null);C(this,nd,0);C(this,go,0);C(this,rd,Object.create(null));C(this,bm,[]);C(this,id,null);C(this,pl,[]);C(this,Sm,new WeakMap);C(this,Am,null);var l;if(e instanceof ReadableStream)P(this,id,e);else if(typeof e=="object")P(this,id,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');P(this,bn,P(this,td,t)),P(this,go,r.scale*Zr.pixelRatio),P(this,nd,r.rotation),P(this,es,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;P(this,Am,[1,0,0,-1,-o,a+s]),P(this,xm,i),P(this,wm,s),I(l=We,L0,vF).call(l),sa(t,r),u(this,mo).promise.finally(()=>{u(We,od).delete(this),P(this,es,null),P(this,rd,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Rt.platform;return ye(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,fl).read().then(({value:t,done:r})=>{if(r){u(this,mo).resolve();return}u(this,hl)??P(this,hl,t.lang),Object.assign(u(this,rd),t.styles),I(this,M0,gF).call(this,t.items),e()},u(this,mo).reject)};return P(this,fl,u(this,id).getReader()),u(We,od).add(this),e(),u(this,mo).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Zr.pixelRatio,i=e.rotation;if(i!==u(this,nd)&&(t==null||t(),P(this,nd,i),sa(u(this,td),{rotation:i})),r!==u(this,go)){t==null||t(),P(this,go,r);const o={div:null,properties:null,ctx:I(s=We,ad,Tv).call(s,u(this,hl))};for(const a of u(this,pl))o.properties=u(this,Sm).get(a),o.div=a,I(this,Cm,pE).call(this,o)}}cancel(){var t;const e=new Ms("TextLayer task cancelled.");(t=u(this,fl))==null||t.cancel(e).catch(()=>{}),P(this,fl,null),u(this,mo).reject(e)}get textDivs(){return u(this,pl)}get textContentItemsStr(){return u(this,bm)}static cleanup(){if(!(u(this,od).size>0)){u(this,sd).clear();for(const{canvas:e}of u(this,ml).values())e.remove();u(this,ml).clear()}}},mo=new WeakMap,bn=new WeakMap,ym=new WeakMap,vm=new WeakMap,hl=new WeakMap,es=new WeakMap,wm=new WeakMap,xm=new WeakMap,fl=new WeakMap,td=new WeakMap,nd=new WeakMap,go=new WeakMap,rd=new WeakMap,bm=new WeakMap,id=new WeakMap,pl=new WeakMap,Sm=new WeakMap,Am=new WeakMap,sd=new WeakMap,ml=new WeakMap,Em=new WeakMap,yo=new WeakMap,od=new WeakMap,M0=new WeakSet,gF=function(e){var i,s;if(u(this,ym))return;(s=u(this,es)).ctx??(s.ctx=I(i=We,ad,Tv).call(i,u(this,hl)));const t=u(this,pl),r=u(this,bm);for(const o of e){if(t.length>zX){le("Ignoring additional textDivs for performance reasons."),P(this,ym,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=u(this,bn);P(this,bn,document.createElement("span")),u(this,bn).classList.add("markedContent"),o.id!==null&&u(this,bn).setAttribute("id",`${o.id}`),a.append(u(this,bn))}else o.type==="endMarkedContent"&&P(this,bn,u(this,bn).parentNode);continue}r.push(o.str),I(this,N0,yF).call(this,o)}},N0=new WeakSet,yF=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,pl).push(t);const i=ne.transform(u(this,Am),e.transform);let s=Math.atan2(i[1],i[0]);const o=u(this,rd)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=u(this,vm)&&o.fontSubstitution||o.fontFamily;a=We.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*I(g=We,D0,wF).call(g,a,o,u(this,hl));let d,h;s===0?(d=i[4],h=i[5]-c):(d=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const f="calc(var(--total-scale-factor) *",m=t.style;u(this,bn)===u(this,td)?(m.left=`${(100*d/u(this,xm)).toFixed(2)}%`,m.top=`${(100*h/u(this,wm)).toFixed(2)}%`):(m.left=`${f}${d.toFixed(2)}px)`,m.top=`${f}${h.toFixed(2)}px)`),m.fontSize=`${f}${(u(We,yo)*l).toFixed(2)}px)`,m.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,vm)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);A!==b&&Math.max(A,b)/Math.min(A,b)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),u(this,Sm).set(t,r),u(this,es).div=t,u(this,es).properties=r,I(this,Cm,pE).call(this,u(this,es)),r.hasText&&u(this,bn).append(t),r.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),u(this,bn).append(A)}},Cm=new WeakSet,pE=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(u(We,yo)>1&&(o=`scale(${1/u(We,yo)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:d}=r;I(a=We,Tm,mE).call(a,i,d*u(this,go),l);const{width:h}=i.measureText(t.textContent);h>0&&(o=`scaleX(${c*u(this,go)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},ad=new WeakSet,Tv=function(e=null){let t=u(this,ml).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,ml).set(e,t),u(this,Em).set(t,{size:0,family:""})}return t},Tm=new WeakSet,mE=function(e,t,r){const i=u(this,Em).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},L0=new WeakSet,vF=function(){if(u(this,yo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),P(this,yo,e.getBoundingClientRect().height),e.remove()},D0=new WeakSet,wF=function(e,t,r){const i=u(this,sd).get(e);if(i)return i;const s=I(this,ad,Tv).call(this,r);s.canvas.width=s.canvas.height=z_,I(this,Tm,mE).call(this,s,z_,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(Rt.platform.isFirefox&&le("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),u(this,sd).set(e,c),c},C(We,ad),C(We,Tm),C(We,L0),C(We,D0),C(We,sd,new Map),C(We,ml,new Map),C(We,Em,new WeakMap),C(We,yo,null),C(We,od,new Set),We);class mp{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(mp.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const UX=100;function rP(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new gE,{docId:t}=e,r=n.url?eX(n.url):null,i=n.data?tX(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof iP?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof gh?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!ny(n.docBaseUrl)?n.docBaseUrl:null,m=Hy(n.cMapUrl),v=n.cMapPacked!==!1,g=n.CMapReaderFactory||(hn?lX:R_),A=Hy(n.iccUrl),b=Hy(n.standardFontDataUrl),S=n.StandardFontDataFactory||(hn?cX:M_),x=Hy(n.wasmUrl),p=n.WasmFactory||(hn?uX:N_),w=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,_=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!hn,R=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!hn&&(Rt.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:hn,j=n.fontExtraProperties===!0,V=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,$=n.disableRange===!0,D=n.disableStream===!0,B=n.disableAutoFetch===!0,O=n.pdfBug===!0,F=n.CanvasFactory||(hn?aX:iX),U=n.FilterFactory||(hn?oX:sX),W=n.enableHWA===!0,K=n.useWasm!==!1,Z=l?l.length:n.length??NaN,de=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!hn&&!N,Pe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===R_&&S===M_&&p===N_&&m&&b&&x&&tf(m,document.baseURI)&&tf(b,document.baseURI)&&tf(x,document.baseURI)),ce=null;O7(h);const G={canvasFactory:new F({ownerDocument:L,enableHWA:W}),filterFactory:new U({docId:t,ownerDocument:L}),cMapReaderFactory:Pe?null:new g({baseUrl:m,isCompressed:v}),standardFontDataFactory:Pe?null:new S({baseUrl:b}),wasmFactory:Pe?null:new p({baseUrl:x})};d||(d=gh.create({verbosity:h,port:yr.workerPort}),e._worker=d);const he={docId:t,apiVersion:"5.3.93",data:i,password:a,disableAutoFetch:B,rangeChunkSize:c,length:Z,docBaseUrl:f,enableXfa:V,evaluatorOptions:{maxImageSize:T,disableFontFace:N,ignoreErrors:w,isEvalSupported:k,isOffscreenCanvasSupported:_,isImageDecoderSupported:R,canvasMaxAreaInBytes:M,fontExtraProperties:j,useSystemFonts:de,useWasm:K,useWorkerFetch:Pe,cMapUrl:m,iccUrl:A,standardFontDataUrl:b,wasmUrl:x}},ue={ownerDocument:L,pdfBug:O,styleElement:ce,loadingParams:{disableAutoFetch:B,enableXfa:V}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const te=d.messageHandler.sendWithPromise("GetDocRequest",he,i?[i.buffer]:null);let se;if(l)se=new TX(l,{disableRange:$,disableStream:D});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const me=tf(r)?_X:hn?VX:DX;se=new me({url:r,length:Z,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:$,disableStream:D})}return te.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const oe=new af(t,me,d.port),Se=new KX(oe,e,se,ue,G);e._transport=Se,oe.send("Ready",null)})}).catch(e._capability.reject),e}var O0;const j0=class j0{constructor(){H(this,"_capability",Promise.withResolvers());H(this,"_transport",null);H(this,"_worker",null);H(this,"docId",`d${rn(j0,O0)._++}`);H(this,"destroyed",!1);H(this,"onPassword",null);H(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};O0=new WeakMap,C(j0,O0,0);let gE=j0;var gl,Pm,km,Im,_m,rR;let iP=(rR=class{constructor(e,t,r=!1,i=null){C(this,gl,Promise.withResolvers());C(this,Pm,[]);C(this,km,[]);C(this,Im,[]);C(this,_m,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){u(this,_m).push(e)}addProgressListener(e){u(this,Im).push(e)}addProgressiveReadListener(e){u(this,km).push(e)}addProgressiveDoneListener(e){u(this,Pm).push(e)}onDataRange(e,t){for(const r of u(this,_m))r(e,t)}onDataProgress(e,t){u(this,gl).promise.then(()=>{for(const r of u(this,Im))r(e,t)})}onDataProgressiveRead(e){u(this,gl).promise.then(()=>{for(const t of u(this,km))t(e)})}onDataProgressiveDone(){u(this,gl).promise.then(()=>{for(const e of u(this,Pm))e()})}transportReady(){u(this,gl).resolve()}requestDataRange(e,t){Re("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},gl=new WeakMap,Pm=new WeakMap,km=new WeakMap,Im=new WeakMap,_m=new WeakMap,rR);class WX{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ye(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ts,yl,hf;class GX{constructor(e,t,r,i=!1){C(this,yl);C(this,ts,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new k_:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new mF,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new ty({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ye(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Ei.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}){var p,w;(p=this._stats)==null||p.time("Overall");const f=this._transport.getRenderingIntent(r,i,d,h),{renderingIntent:m,cacheKey:v}=f;P(this,ts,!1),a||(a=this._transport.getOptionalContentConfig(m));let g=this._intentStates.get(v);g||(g=Object.create(null),this._intentStates.set(v,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const A=!!(m&Wn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(f));const b=T=>{var k;g.renderTasks.delete(S),A&&P(this,ts,!0),I(this,yl,hf).call(this),T?(S.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new yE({callback:b,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(S);const x=S.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([T,k])=>{var _;if(this.destroyed){b();return}if((_=this._stats)==null||_.time("Rendering"),!(k.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:T,optionalContentConfig:k}),S.operatorListChanged()}).catch(b),x}getOperatorList({intent:e="display",annotationMode:t=Ei.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>mp.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),P(this,ts,!1),Promise.all(e)}cleanup(e=!1){P(this,ts,!0);const t=I(this,yl,hf).call(this);return e&&t&&this._stats&&(this._stats=new k_),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&I(this,yl,hf).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();I(this,yl,hf).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof Rb){let i=UX;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ms(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ts=new WeakMap,yl=new WeakSet,hf=function(){if(!u(this,ts)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),P(this,ts,!1),!0};var vo,Nr,ns,vl,F0,wl,xl,ld,Pv,B0,xF,V0,bF,bl,ff,cd,kv;const $e=class $e{constructor({name:e=null,port:t=null,verbosity:r=j7()}={}){C(this,ld);C(this,B0);C(this,V0);C(this,bl);C(this,vo,Promise.withResolvers());C(this,Nr,null);C(this,ns,null);C(this,vl,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(u($e,xl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");u($e,xl).set(t,this),I(this,B0,xF).call(this,t)}else I(this,V0,bF).call(this)}get promise(){return u(this,vo).promise}get port(){return u(this,ns)}get messageHandler(){return u(this,Nr)}destroy(){var e,t;this.destroyed=!0,(e=u(this,vl))==null||e.terminate(),P(this,vl,null),u($e,xl).delete(u(this,ns)),P(this,ns,null),(t=u(this,Nr))==null||t.destroy(),P(this,Nr,null)}static create(e){const t=u(this,xl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new $e(e)}static get workerSrc(){if(yr.workerSrc)return yr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ye(this,"_setupFakeWorkerGlobal",(async()=>u(this,cd,kv)?u(this,cd,kv):(await D7(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};vo=new WeakMap,Nr=new WeakMap,ns=new WeakMap,vl=new WeakMap,F0=new WeakMap,wl=new WeakMap,xl=new WeakMap,ld=new WeakSet,Pv=function(){u(this,vo).resolve(),u(this,Nr).send("configure",{verbosity:this.verbosity})},B0=new WeakSet,xF=function(e){P(this,ns,e),P(this,Nr,new af("main","worker",e)),u(this,Nr).on("ready",()=>{}),I(this,ld,Pv).call(this)},V0=new WeakSet,bF=function(){if(u($e,wl)||u($e,cd,kv)){I(this,bl,ff).call(this);return}let{workerSrc:e}=$e;try{$e._isSameOrigin(window.location,e)||(e=$e._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new af("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?u(this,vo).reject(new Error("Worker was destroyed")):I(this,bl,ff).call(this)},s=new AbortController;t.addEventListener("error",()=>{u(this,vl)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}P(this,Nr,r),P(this,ns,t),P(this,vl,t),I(this,ld,Pv).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{I(this,bl,ff).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{_b("The worker has been disabled.")}I(this,bl,ff).call(this)},bl=new WeakSet,ff=function(){u($e,wl)||(le("Setting up fake worker."),P($e,wl,!0)),$e._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){u(this,vo).reject(new Error("Worker was destroyed"));return}const t=new rX;P(this,ns,t);const r=`fake${rn($e,F0)._++}`,i=new af(r+"_worker",r,t);e.setup(i,t),P(this,Nr,new af(r,r+"_worker",t)),I(this,ld,Pv).call(this)}).catch(e=>{u(this,vo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},cd=new WeakSet,kv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C($e,cd),C($e,F0,0),C($e,wl,!1),C($e,xl,new WeakMap),hn&&(P($e,wl,!0),yr.workerSrc||(yr.workerSrc="./pdf.worker.mjs")),$e._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},$e._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},$e.fromPort=e=>{if(G7("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return $e.create(e)};let gh=$e;var rs,fi,ud,dd,is,Sl,pf;class KX{constructor(e,t,r,i,s){C(this,Sl);C(this,rs,new Map);C(this,fi,new Map);C(this,ud,new Map);C(this,dd,new Map);C(this,is,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new mF,this.fontLoader=new Z7({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ye(this,"annotationStorage",new eP)}getRenderingIntent(e,t=Ei.ENABLE,r=null,i=!1,s=!1){let o=Wn.DISPLAY,a=rE;switch(e){case"any":o=Wn.ANY;break;case"display":break;case"print":o=Wn.PRINT;break;default:le(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Wn.PRINT&&r instanceof Zj?r:this.annotationStorage;switch(t){case Ei.DISABLE:o+=Wn.ANNOTATIONS_DISABLE;break;case Ei.ENABLE:break;case Ei.ENABLE_FORMS:o+=Wn.ANNOTATIONS_FORMS;break;case Ei.ENABLE_STORAGE:o+=Wn.ANNOTATIONS_STORAGE,a=l.serializable;break;default:le(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Wn.IS_EDITING),s&&(o+=Wn.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,is))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,fi).values())e.push(i._destroy());u(this,fi).clear(),u(this,ud).clear(),u(this,dd).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),u(this,rs).clear(),this.filterFactory.destroy(),pp.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ms("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}ft(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}ft(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new WX(r,this))}),e.on("DocException",r=>{t._capability.reject(vn(r))}),e.on("PasswordRequest",r=>{P(this,is,Promise.withResolvers());try{if(!t.onPassword)throw vn(r);const i=s=>{s instanceof Error?u(this,is).reject(s):u(this,is).resolve({password:s})};t.onPassword(i,r.code)}catch(i){u(this,is).reject(i)}return u(this,is).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,fi).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const d=s.error;le(`Error during font loading: ${d}`),this.commonObjs.resolve(r,d);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,l=new J7(s,a);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;ft(c,"The imageRef must be defined.");for(const d of u(this,fi).values())for(const[,h]of d.objs)if((h==null?void 0:h.ref)===c)return h.dataLen?(this.commonObjs.resolve(r,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=u(this,fi).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=u(this,ud).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,dd).set(s.refStr,e);const o=new GX(t,s,this,this._params.pdfBug);return u(this,fi).set(t,o),o});return u(this,ud).set(t,i),i}getPageIndex(e){return iE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return I(this,Sl,pf).call(this,"GetFieldObjects")}hasJSActions(){return I(this,Sl,pf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return I(this,Sl,pf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return I(this,Sl,pf).call(this,"GetOptionalContentConfig").then(t=>new CX(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,rs).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new AX(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,rs).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,fi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,rs).clear(),this.filterFactory.destroy(!0),pp.cleanup()}}cachedPageNumber(e){if(!iE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,dd).get(t)??null}}rs=new WeakMap,fi=new WeakMap,ud=new WeakMap,dd=new WeakMap,is=new WeakMap,Sl=new WeakSet,pf=function(e,t=null){const r=u(this,rs).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return u(this,rs).set(e,i),i};var wo;class YX{constructor(e){C(this,wo,null);H(this,"onContinue",null);H(this,"onError",null);P(this,wo,e)}get promise(){return u(this,wo).capability.promise}cancel(e=0){u(this,wo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,wo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,wo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}wo=new WeakMap;var xo,Al;const Ia=class Ia{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){C(this,xo,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new YX(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(u(Ia,Al).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Ia,Al).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new xu(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(this,xo)&&(window.cancelAnimationFrame(u(this,xo)),P(this,xo,null)),u(Ia,Al).delete(this._canvas),e||(e=new Rb(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?P(this,xo,window.requestAnimationFrame(()=>{P(this,xo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Ia,Al).delete(this._canvas),this.callback())))}};xo=new WeakMap,Al=new WeakMap,C(Ia,Al,new WeakSet);let yE=Ia;const SF="5.3.93",AF="cbeef3233";function U_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Gh(n){return Math.max(0,Math.min(255,255*n))}class W_{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Gh(e),[e,e,e]}static G_HTML([e]){const t=U_(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Gh)}static RGB_HTML(e){return`#${e.map(U_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Gh(1-Math.min(1,e+i)),Gh(1-Math.min(1,r+i)),Gh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class XX{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Re("Abstract method `_createSVG` called.")}}class gp extends XX{_createSVG(e){return document.createElementNS(Di,e)}}class sP{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);o.append(m),a&&mp.shouldBuildText(i.name)&&c.push(m)}return{textDivs:c}}const d=[[i,-1,o]];for(;d.length>0;){const[m,v,g]=d.at(-1);if(v+1===m.children.length){d.pop();continue}const A=m.children[++d.at(-1)[1]];if(A===null)continue;const{name:b}=A;if(b==="#text"){const x=document.createTextNode(A.value);c.push(x),g.append(x);continue}const S=(h=A==null?void 0:A.attributes)!=null&&h.xmlns?document.createElementNS(A.attributes.xmlns,b):document.createElement(b);if(g.append(S),A.attributes&&this.setAttributes({html:S,element:A,storage:t,intent:s,linkService:r}),((f=A.children)==null?void 0:f.length)>0)d.push([A,-1,S]);else if(A.value){const x=document.createTextNode(A.value);a&&mp.shouldBuildText(b)&&c.push(x),S.append(x)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const qX=9,wc=new WeakSet;class G_{static create(e){switch(e.data.annotationType){case rt.LINK:return new EF(e);case rt.TEXT:return new QX(e);case rt.WIDGET:switch(e.data.fieldType){case"Tx":return new ZX(e);case"Btn":return e.data.radioButton?new PF(e):e.data.checkBox?new eq(e):new tq(e);case"Ch":return new nq(e);case"Sig":return new JX(e)}return new _c(e);case rt.POPUP:return new wE(e);case rt.FREETEXT:return new MF(e);case rt.LINE:return new iq(e);case rt.SQUARE:return new sq(e);case rt.CIRCLE:return new oq(e);case rt.POLYLINE:return new NF(e);case rt.CARET:return new lq(e);case rt.INK:return new oP(e);case rt.POLYGON:return new aq(e);case rt.HIGHLIGHT:return new LF(e);case rt.UNDERLINE:return new cq(e);case rt.SQUIGGLY:return new uq(e);case rt.STRIKEOUT:return new dq(e);case rt.STAMP:return new DF(e);case rt.FILEATTACHMENT:return new hq(e);default:return new lt(e)}}}var El,hd,fd,Rm,vE;const gP=class gP{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){C(this,Rm);C(this,El,null);C(this,hd,!1);C(this,fd,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return gP._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;u(this,El)||P(this,El,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&I(this,Rm,vE).call(this,t),(r=u(this,fd))==null||r.popup.updateEdited(e)}resetEdited(){var e;u(this,El)&&(I(this,Rm,vE).call(this,u(this,El).rect),(e=u(this,fd))==null||e.popup.resetEdited(),P(this,El,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof _c||(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof wE){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(g>0||A>0){const S=`calc(${g}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;o.borderRadius=S}else if(this instanceof PF){const S=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=S}switch(t.borderStyle.style){case jc.SOLID:o.borderStyle="solid";break;case jc.DASHED:o.borderStyle="dashed";break;case jc.BEVELED:le("Unimplemented border style: beveled");break;case jc.INSET:le("Unimplemented border style: inset");break;case jc.UNDERLINE:o.borderBottomStyle="solid";break}const b=t.borderColor||null;b?(P(this,hd,!0),o.borderColor=ne.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):o.borderWidth=0}const c=ne.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:m}=i.rawDims;o.left=`${100*(c[0]-f)/d}%`,o.top=`${100*(c[1]-m)/h}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(v,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=W_[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:W_[`${o}_rgb`](a)})};return ye(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,A,b,S]=e.subarray(2,6);if(i===g&&s===A&&t===b&&r===S)return}const{style:o}=this.container;let a;if(u(this,hd)){const{borderColor:g,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const m=d.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),f.append(m);for(let g=2,A=e.length;g<A;g+=8){const b=e[g],S=e[g+1],x=e[g+2],p=e[g+3],w=d.createElement("rect"),T=(x-t)/l,k=(s-S)/c,_=(b-x)/l,R=(S-p)/c;w.setAttribute("x",T),w.setAttribute("y",k),w.setAttribute("width",_),w.setAttribute("height",R),m.append(w),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${k}" width="${_}" height="${R}"/>`)}u(this,hd)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,t=P(this,fd,new wE({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Re("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!wc.has(c)){le(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&wc.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};El=new WeakMap,hd=new WeakMap,fd=new WeakMap,Rm=new WeakSet,vE=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let lt=gP;var ss,Ca,H0,CF,$0,TF;class EF extends lt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});C(this,ss);C(this,H0);C(this,$0);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(I(this,H0,CF).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(I(this,$0,TF).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&I(this,ss,Ca).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),I(this,ss,Ca).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),I(this,ss,Ca).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),I(this,ss,Ca).call(this),!this._fieldObjects){le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const m of s){const v=this._fieldObjects[m]||[];for(const{id:g}of v)f.add(g)}for(const m of Object.values(this._fieldObjects))for(const v of m)f.has(v.id)===a&&l.push(v)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,d=[];for(const f of l){const{id:m}=f;switch(d.push(m),f.type){case"text":{const g=f.defaultValue||"";c.setValue(m,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;c.setValue(m,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";c.setValue(m,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!wc.has(v)){le(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ss=new WeakSet,Ca=function(){this.container.setAttribute("data-internal-link","")},H0=new WeakSet,CF=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},I(this,ss,Ca).call(this)},$0=new WeakSet,TF=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),I(this,ss,Ca).call(this)};class QX extends lt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class _c extends lt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Rt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ne.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||qX,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(c/(XS*i))||1,h=c/d;o=Math.min(i,l(h/XS))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/XS))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=ne.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class ZX extends _c{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),wc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const h=this.data.dateFormat||this.data.timeFormat;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",m=>{e.setValue(t,{value:m.target.value}),this.setPropertyOnSiblings(r,"value",m.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";r.value=d.userValue=v,d.formattedValue=null});let f=m=>{const{formattedValue:v}=d;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{var A;if(d.focused)return;const{target:g}=v;d.userValue&&(g.value=d.userValue),d.lastCommittedValue=g.value,d.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const g={value(A){d.userValue=A.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:b}=A.detail;d.formattedValue=b,b!=null&&A.target!==document.activeElement&&(A.target.value=b),e.setValue(t,{formattedValue:b})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var p;const{charLimit:b}=A.detail,{target:S}=A;if(b===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",b);let x=d.userValue;!x||x.length<=b||(x=x.slice(0,b),S.value=d.userValue=x,e.setValue(t,{value:x}),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(g,v)}),r.addEventListener("keydown",v=>{var b;d.commitKey=1;let g=-1;if(v.key==="Escape"?g=0:v.key==="Enter"&&!this.data.multiLine?g=2:v.key==="Tab"&&(d.commitKey=3),g===-1)return;const{value:A}=v.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:g,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=f;f=null,r.addEventListener("blur",v=>{var A,b;if(!d.focused||!v.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(d.focused=!1);const{value:g}=v.target;d.userValue=g,d.lastCommittedValue!==g&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:d.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),m(v)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",v=>{var T;d.lastCommittedValue=null;const{data:g,target:A}=v,{value:b,selectionStart:S,selectionEnd:x}=A;let p=S,w=x;switch(v.inputType){case"deleteWordBackward":{const k=b.substring(0,S).match(/\w*[^\w]*$/);k&&(p-=k[0].length);break}case"deleteWordForward":{const k=b.substring(S).match(/^[^\w]*\w*/);k&&(w+=k[0].length);break}case"deleteContentBackward":S===x&&(p-=1);break;case"deleteContentForward":S===x&&(w+=1);break}v.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:g||"",willCommit:!1,selStart:p,selEnd:w}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class JX extends _c{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class eq extends _c{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return wc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const d=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class PF extends _c{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(wc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const d=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class tq extends EF{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class nq extends _c{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");wc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:m}=i;return m?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const m=f.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const g of i.options)g.selected=v.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const m=i.options,v=f.detail.remove;m[v].selected=!1,i.remove(v),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:m,displayValue:v,exportValue:g}=f.detail.insert,A=i.children[m],b=document.createElement("option");b.textContent=v,b.value=g,A?A.before(b):i.append(b),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:m}=f.detail;for(;i.length!==0;)i.remove(0);for(const v of m){const{displayValue:g,exportValue:A}=v,b=document.createElement("option");b.textContent=g,b.value=A,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const m=new Set(f.detail.indices);for(const v of f.target.options)v.selected=m.has(v.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var m;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class wE extends lt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:lt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new rq({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${ZT}${i}`).join(",")),this.container}}var pd,z0,U0,md,gd,Je,os,Cl,Mm,Nm,yd,as,Lr,ls,Lm,cs,Dm,Tl,Pl,vd,Iv,Om,xE,W0,kF,G0,IF,K0,_F,Y0,RF,wd,_v,xd,Rv,jm,bE;class rq{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:d,open:h}){C(this,vd);C(this,Om);C(this,W0);C(this,G0);C(this,K0);C(this,Y0);C(this,wd);C(this,xd);C(this,jm);C(this,pd,I(this,K0,_F).bind(this));C(this,z0,I(this,jm,bE).bind(this));C(this,U0,I(this,xd,Rv).bind(this));C(this,md,I(this,wd,_v).bind(this));C(this,gd,null);C(this,Je,null);C(this,os,null);C(this,Cl,null);C(this,Mm,null);C(this,Nm,null);C(this,yd,null);C(this,as,!1);C(this,Lr,null);C(this,ls,null);C(this,Lm,null);C(this,cs,null);C(this,Dm,null);C(this,Tl,null);C(this,Pl,!1);var f;P(this,Je,e),P(this,Dm,i),P(this,os,o),P(this,cs,a),P(this,Nm,l),P(this,gd,t),P(this,Lm,c),P(this,yd,d),P(this,Mm,r),P(this,Cl,Nb.toDateObject(s)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",u(this,md)),m.addEventListener("mouseenter",u(this,U0)),m.addEventListener("mouseleave",u(this,z0)),m.classList.add("popupTriggerArea");for(const m of r)(f=m.container)==null||f.addEventListener("keydown",u(this,pd));u(this,Je).hidden=!0,h&&I(this,wd,_v).call(this)}render(){if(u(this,Lr))return;const e=P(this,Lr,document.createElement("div"));if(e.className="popup",u(this,gd)){const s=e.style.outlineColor=ne.makeHexColor(...u(this,gd));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=u(this,Dm),e.append(t),u(this,Cl)){const s=document.createElement("time");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Cl).valueOf()})),s.dateTime=u(this,Cl).toISOString(),t.append(s)}const i=u(this,vd,Iv);if(i)sP.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(u(this,os));e.append(s)}u(this,Je).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;u(this,Tl)||P(this,Tl,{contentsObj:u(this,os),richText:u(this,cs)}),e&&P(this,ls,null),t&&(P(this,cs,I(this,G0,IF).call(this,t)),P(this,os,null)),(r=u(this,Lr))==null||r.remove(),P(this,Lr,null)}resetEdited(){var e;u(this,Tl)&&({contentsObj:rn(this,os)._,richText:rn(this,cs)._}=u(this,Tl),P(this,Tl,null),(e=u(this,Lr))==null||e.remove(),P(this,Lr,null),P(this,ls,null))}forceHide(){P(this,Pl,this.isVisible),u(this,Pl)&&(u(this,Je).hidden=!0)}maybeShow(){u(this,Pl)&&(u(this,Lr)||I(this,xd,Rv).call(this),P(this,Pl,!1),u(this,Je).hidden=!1)}get isVisible(){return u(this,Je).hidden===!1}}pd=new WeakMap,z0=new WeakMap,U0=new WeakMap,md=new WeakMap,gd=new WeakMap,Je=new WeakMap,os=new WeakMap,Cl=new WeakMap,Mm=new WeakMap,Nm=new WeakMap,yd=new WeakMap,as=new WeakMap,Lr=new WeakMap,ls=new WeakMap,Lm=new WeakMap,cs=new WeakMap,Dm=new WeakMap,Tl=new WeakMap,Pl=new WeakMap,vd=new WeakSet,Iv=function(){const e=u(this,cs),t=u(this,os);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,cs).html||null},Om=new WeakSet,xE=function(){var e,t,r;return((r=(t=(e=u(this,vd,Iv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},W0=new WeakSet,kF=function(){var e,t,r;return((r=(t=(e=u(this,vd,Iv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},G0=new WeakSet,IF=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,W0,kF),fontSize:u(this,Om,xE)?`calc(${u(this,Om,xE)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},K0=new WeakSet,_F=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,as))&&I(this,wd,_v).call(this)},Y0=new WeakSet,RF=function(){if(u(this,ls)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=u(this,Nm);let o=!!u(this,yd),a=o?u(this,yd):u(this,Lm);for(const v of u(this,Mm))if(!a||ne.intersect(v.data.rect,a)!==null){a=v.data.rect,o=!0;break}const l=ne.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=5,d=o?a[2]-a[0]+c:0,h=l[0]+d,f=l[1];P(this,ls,[100*(h-i)/t,100*(f-s)/r]);const{style:m}=u(this,Je);m.left=`${u(this,ls)[0]}%`,m.top=`${u(this,ls)[1]}%`},wd=new WeakSet,_v=function(){P(this,as,!u(this,as)),u(this,as)?(I(this,xd,Rv).call(this),u(this,Je).addEventListener("click",u(this,md)),u(this,Je).addEventListener("keydown",u(this,pd))):(I(this,jm,bE).call(this),u(this,Je).removeEventListener("click",u(this,md)),u(this,Je).removeEventListener("keydown",u(this,pd)))},xd=new WeakSet,Rv=function(){u(this,Lr)||this.render(),this.isVisible?u(this,as)&&u(this,Je).classList.add("focused"):(I(this,Y0,RF).call(this),u(this,Je).hidden=!1,u(this,Je).style.zIndex=parseInt(u(this,Je).style.zIndex)+1e3)},jm=new WeakSet,bE=function(){u(this,Je).classList.remove("focused"),!(u(this,as)||!this.isVisible)&&(u(this,Je).hidden=!0,u(this,Je).style.zIndex=parseInt(u(this,Je).style.zIndex)-1e3)};class MF extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Fm;class iq extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Fm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=P(this,Fm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Fm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fm=new WeakMap;var Bm;class sq extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Bm,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=P(this,Bm,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Bm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bm=new WeakMap;var Vm;class oq extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Vm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=P(this,Vm,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Vm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vm=new WeakMap;var Hm;class NF extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Hm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,f=r.length;h<f;h+=2){const m=r[h]-t[0],v=t[3]-r[h+1];c.push(`${m},${v}`)}c=c.join(" ");const d=P(this,Hm,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Hm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hm=new WeakMap;class aq extends NF{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class lq extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var $m,kl,zm,SE;class oP extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,zm);C(this,$m,null);C(this,kl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ae.HIGHLIGHT:ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:c}=I(this,zm,SE).call(this,r,t),d=this.svgFactory.create(l,c,!0),h=P(this,$m,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let f=0,m=i.length;f<m;f++){const v=this.svgFactory.createElement(this.svgElementName);u(this,kl).push(v),v.setAttribute("points",i[f].join(",")),h.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,o=u(this,$m);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,l=u(this,kl).length;a<l;a++)u(this,kl)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:l,height:c}=I(this,zm,SE).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return u(this,kl)}addHighlightArea(){this.container.classList.add("highlightArea")}}$m=new WeakMap,kl=new WeakMap,zm=new WeakSet,SE=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class LF extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ae.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class cq extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class uq extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class dq extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class DF extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Um,Wm,AE;class hq extends lt{constructor(t){var i;super(t,{isRenderable:!0});C(this,Wm);C(this,Um,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",I(this,Wm,AE).bind(this)),P(this,Um,i);const{isMac:s}=Rt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&I(this,Wm,AE).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,Um)}addHighlightArea(){this.container.classList.add("highlightArea")}}Um=new WeakMap,Wm=new WeakSet,AE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Gm,Il,bo,Km,Ym,EE,Xm,CE,qm;let aP=(qm=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){C(this,Ym);C(this,Xm);C(this,Gm,null);C(this,Il,null);C(this,bo,new Map);C(this,Km,null);this.div=e,P(this,Gm,t),P(this,Il,r),P(this,Km,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return u(this,bo).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;sa(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new gp,annotationStorage:e.annotationStorage||new eP,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===rt.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const c=G_.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(c):i.set(a.popupRef,[c])}const d=c.render();a.hidden&&(d.style.visibility="hidden"),await I(this,Ym,EE).call(this,d,a.id,s.elements),c._isEditable&&(u(this,bo).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}I(this,Xm,CE).call(this)}async addLinkAnnotations(e,t){const r={data:null,layer:this.div,linkService:t,svgFactory:new gp,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=qm._defaultBorderStyle),r.data=i;const s=G_.create(r);if(!s.isRenderable)continue;const o=s.render();await I(this,Ym,EE).call(this,o,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,sa(t,{rotation:e.rotation}),I(this,Xm,CE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,bo).values())}getEditableAnnotation(e){return u(this,bo).get(e)}static get _defaultBorderStyle(){return ye(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:jc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Gm=new WeakMap,Il=new WeakMap,bo=new WeakMap,Km=new WeakMap,Ym=new WeakSet,EE=async function(e,t,r){var a,l;const i=e.firstChild||e,s=i.id=`${ZT}${t}`,o=await((a=u(this,Km))==null?void 0:a.getAriaAttributes(s));if(o)for(const[c,d]of o)i.setAttribute(c,d);r?r.at(-1).container.after(e):(this.div.append(e),(l=u(this,Gm))==null||l.moveElementInDOM(this.div,e,i,!1))},Xm=new WeakSet,CE=function(){var t;if(!u(this,Il))return;const e=this.div;for(const[r,i]of u(this,Il)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=u(this,bo).get(r);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}u(this,Il).clear()},qm);const Wy=/\r\n?|\n/g;var Dr,Dn,Qm,_l,On,X0,OF,q0,jF,Q0,FF,bd,Mv,Sd,Nv,Ad,Lv,Z0,BF,Zm,PE,J0,VF;const Me=class Me extends Oe{constructor(t){super({...t,name:"freeTextEditor"});C(this,X0);C(this,q0);C(this,Q0);C(this,bd);C(this,Ad);C(this,Z0);C(this,J0);C(this,Dr,void 0);C(this,Dn,"");C(this,Qm,`${this.id}-editor`);C(this,_l,null);C(this,On,void 0);P(this,Dr,t.color||Me._defaultColor||Oe._defaultLineColor),P(this,On,t.fontSize||Me._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Me.prototype,r=o=>o.isEmpty(),i=oa.TRANSLATE_SMALL,s=oa.TRANSLATE_BIG;return ye(this,"_keyboardManager",new ry([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Oe.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case be.FREETEXT_SIZE:Me._defaultFontSize=r;break;case be.FREETEXT_COLOR:Me._defaultColor=r;break}}updateParams(t,r){switch(t){case be.FREETEXT_SIZE:I(this,X0,OF).call(this,r);break;case be.FREETEXT_COLOR:I(this,q0,jF).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[be.FREETEXT_SIZE,Me._defaultFontSize],[be.FREETEXT_COLOR,Me._defaultColor||Oe._defaultLineColor]]}get propertiesToUpdate(){return[[be.FREETEXT_SIZE,u(this,On)],[be.FREETEXT_COLOR,u(this,Dr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Me._internalPadding*t,-(Me._internalPadding+u(this,On))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),P(this,_l,new AbortController);const t=this._uiManager.combinedSignal(u(this,_l));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Qm)),this._isDraggable=!0,(t=u(this,_l))==null||t.abort(),P(this,_l,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Dn),r=P(this,Dn,I(this,Q0,FF).call(this).trimEnd());if(t===r)return;const i=s=>{if(P(this,Dn,s),!s){this.remove();return}I(this,Ad,Lv).call(this),this._uiManager.rebuild(this),I(this,bd,Mv).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),I(this,bd,Mv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Me._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Qm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,On)}px * var(--total-scale-factor))`,i.color=u(this,Dr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[f,m]=this.pageTranslation;let v,g;switch(this.rotation){case 0:v=t+(a[0]-f)/d,g=r+this.height-(a[1]-m)/h;break;case 90:v=t+(a[0]-f)/d,g=r-(a[1]-m)/h,[l,c]=[c,-l];break;case 180:v=t-this.width+(a[0]-f)/d,g=r-(a[1]-m)/h,[l,c]=[-l,-c];break;case 270:v=t+(a[0]-f-this.height*h)/d,g=r+(a[1]-m-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(v*s,g*o,l,c)}else this._moveAfterPaste(t,r);I(this,Ad,Lv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,g,A;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=I(v=Me,Zm,PE).call(v,r.getData("text")||"").replaceAll(Wy,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(Wy,"")),b!==this.editorDiv){let S=d;for(const x of this.editorDiv.childNodes){if(x===b){S=h;continue}S.push(I(g=Me,Sd,Nv).call(g,x))}}d.push(l.nodeValue.slice(0,c).replaceAll(Wy,""))}else if(l===this.editorDiv){let b=d,S=0;for(const x of this.editorDiv.childNodes)S++===c&&(b=h),b.push(I(A=Me,Sd,Nv).call(A,x))}P(this,Dn,`${d.join(`
`)}${s}${h.join(`
`)}`),I(this,Ad,Lv).call(this);const f=new Range;let m=Math.sumPrecise(d.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(m<=S){f.setStart(b,m),f.setEnd(b,m);break}m-=S}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var a;let s=null;if(t instanceof MF){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:f,popupRef:m},textContent:v,textPosition:g,parent:{page:{pageNumber:A}}}=t;if(!v||v.length===0)return null;s=t={annotationType:ae.FREETEXT,color:Array.from(c),fontSize:l,value:v.join(`
`),position:g,pageIndex:A-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:m}}const o=await super.deserialize(t,r,i);return P(o,On,t.fontSize),P(o,Dr,ne.makeHexColor(...t.color)),P(o,Dn,I(a=Me,Zm,PE).call(a,t.value)),o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Me._internalPadding*this.parentScale,i=this.getRect(r,r),s=Oe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Dr)),o={annotationType:ae.FREETEXT,color:s,fontSize:u(this,On),value:I(this,Z0,BF).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!I(this,J0,VF).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${u(this,On)}px * var(--total-scale-factor))`,i.color=u(this,Dr),r.replaceChildren();for(const o of u(this,Dn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=Me._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:u(this,Dn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Dr=new WeakMap,Dn=new WeakMap,Qm=new WeakMap,_l=new WeakMap,On=new WeakMap,X0=new WeakSet,OF=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-u(this,On))*this.parentScale),P(this,On,s),I(this,bd,Mv).call(this)},i=u(this,On);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},q0=new WeakSet,jF=function(t){const r=s=>{P(this,Dr,this.editorDiv.style.color=s)},i=u(this,Dr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q0=new WeakSet,FF=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(I(i=Me,Sd,Nv).call(i,s)),r=s);return t.join(`
`)},bd=new WeakSet,Mv=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Sd=new WeakSet,Nv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Wy,"")},Ad=new WeakSet,Lv=function(){if(this.editorDiv.replaceChildren(),!!u(this,Dn))for(const t of u(this,Dn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Z0=new WeakSet,BF=function(){return u(this,Dn).replaceAll(""," ")},Zm=new WeakSet,PE=function(t){return t.replaceAll(" ","")},J0=new WeakSet,VF=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},C(Me,Sd),C(Me,Zm),H(Me,"_freeTextDefaultContent",""),H(Me,"_internalPadding",0),H(Me,"_defaultColor",null),H(Me,"_defaultFontSize",10),H(Me,"_type","freetext"),H(Me,"_editorType",ae.FREETEXT);let TE=Me;class Y{toSVGPath(){Re("Abstract method `toSVGPath` must be implemented.")}get box(){Re("Abstract getter `box` must be implemented.")}serialize(e,t){Re("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,o){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}H(Y,"PRECISION",1e-4);var jn,Or,Ed,Cd,pi,ge,Rl,Ml,Jm,eg,Td,Pd,So,tg,ex,tx,Nl,mf,nx,HF,rx,$F,ix,zF,sx,UF,ox,WF,ax,GF;const Vi=class Vi{constructor({x:e,y:t},r,i,s,o,a=0){C(this,Nl);C(this,nx);C(this,rx);C(this,ix);C(this,sx);C(this,ox);C(this,ax);C(this,jn,void 0);C(this,Or,[]);C(this,Ed,void 0);C(this,Cd,void 0);C(this,pi,[]);C(this,ge,new Float32Array(18));C(this,Rl,void 0);C(this,Ml,void 0);C(this,Jm,void 0);C(this,eg,void 0);C(this,Td,void 0);C(this,Pd,void 0);C(this,So,[]);P(this,jn,r),P(this,Pd,s*i),P(this,Cd,o),u(this,ge).set([NaN,NaN,NaN,NaN,e,t],6),P(this,Ed,a),P(this,eg,u(Vi,tg)*i),P(this,Jm,u(Vi,tx)*i),P(this,Td,i),u(this,So).push(e,t)}isEmpty(){return isNaN(u(this,ge)[8])}add({x:e,y:t}){var R;P(this,Rl,e),P(this,Ml,t);const[r,i,s,o]=u(this,jn);let[a,l,c,d]=u(this,ge).subarray(8,12);const h=e-c,f=t-d,m=Math.hypot(h,f);if(m<u(this,Jm))return!1;const v=m-u(this,eg),g=v/m,A=g*h,b=g*f;let S=a,x=l;a=c,l=d,c+=A,d+=b,(R=u(this,So))==null||R.push(e,t);const p=-b/v,w=A/v,T=p*u(this,Pd),k=w*u(this,Pd);return u(this,ge).set(u(this,ge).subarray(2,8),0),u(this,ge).set([c+T,d+k],4),u(this,ge).set(u(this,ge).subarray(14,18),12),u(this,ge).set([c-T,d-k],16),isNaN(u(this,ge)[6])?(u(this,pi).length===0&&(u(this,ge).set([a+T,l+k],2),u(this,pi).push(NaN,NaN,NaN,NaN,(a+T-r)/s,(l+k-i)/o),u(this,ge).set([a-T,l-k],14),u(this,Or).push(NaN,NaN,NaN,NaN,(a-T-r)/s,(l-k-i)/o)),u(this,ge).set([S,x,a,l,c,d],6),!this.isEmpty()):(u(this,ge).set([S,x,a,l,c,d],6),Math.abs(Math.atan2(x-l,S-a)-Math.atan2(b,A))<Math.PI/2?([a,l,c,d]=u(this,ge).subarray(2,6),u(this,pi).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+d)/2-i)/o),[a,l,S,x]=u(this,ge).subarray(14,18),u(this,Or).push(NaN,NaN,NaN,NaN,((S+a)/2-r)/s,((x+l)/2-i)/o),!0):([S,x,a,l,c,d]=u(this,ge).subarray(0,6),u(this,pi).push(((S+5*a)/6-r)/s,((x+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+d)/6-i)/o,((a+c)/2-r)/s,((l+d)/2-i)/o),[c,d,a,l,S,x]=u(this,ge).subarray(12,18),u(this,Or).push(((S+5*a)/6-r)/s,((x+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+d)/6-i)/o,((a+c)/2-r)/s,((l+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,pi),t=u(this,Or);if(isNaN(u(this,ge)[6])&&!this.isEmpty())return I(this,nx,HF).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);I(this,ix,zF).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return I(this,rx,$F).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new KF(e,t,r,i,s,o)}getOutlines(){var h;const e=u(this,pi),t=u(this,Or),r=u(this,ge),[i,s,o,a]=u(this,jn),l=new Float32Array((((h=u(this,So))==null?void 0:h.length)??0)+2);for(let f=0,m=l.length-2;f<m;f+=2)l[f]=(u(this,So)[f]-i)/o,l[f+1]=(u(this,So)[f+1]-s)/a;if(l[l.length-2]=(u(this,Rl)-i)/o,l[l.length-1]=(u(this,Ml)-s)/a,isNaN(r[6])&&!this.isEmpty())return I(this,sx,UF).call(this,l);const c=new Float32Array(u(this,pi).length+24+u(this,Or).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}d=I(this,ax,GF).call(this,c,d);for(let f=t.length-6;f>=6;f-=6)for(let m=0;m<6;m+=2){if(isNaN(t[f+m])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=t[f+m],c[d+1]=t[f+m+1],d+=2}return I(this,ox,WF).call(this,c,d),this.newFreeDrawOutline(c,l,u(this,jn),u(this,Td),u(this,Ed),u(this,Cd))}};jn=new WeakMap,Or=new WeakMap,Ed=new WeakMap,Cd=new WeakMap,pi=new WeakMap,ge=new WeakMap,Rl=new WeakMap,Ml=new WeakMap,Jm=new WeakMap,eg=new WeakMap,Td=new WeakMap,Pd=new WeakMap,So=new WeakMap,tg=new WeakMap,ex=new WeakMap,tx=new WeakMap,Nl=new WeakSet,mf=function(){const e=u(this,ge).subarray(4,6),t=u(this,ge).subarray(16,18),[r,i,s,o]=u(this,jn);return[(u(this,Rl)+(e[0]-t[0])/2-r)/s,(u(this,Ml)+(e[1]-t[1])/2-i)/o,(u(this,Rl)+(t[0]-e[0])/2-r)/s,(u(this,Ml)+(t[1]-e[1])/2-i)/o]},nx=new WeakSet,HF=function(){const[e,t,r,i]=u(this,jn),[s,o,a,l]=I(this,Nl,mf).call(this);return`M${(u(this,ge)[2]-e)/r} ${(u(this,ge)[3]-t)/i} L${(u(this,ge)[4]-e)/r} ${(u(this,ge)[5]-t)/i} L${s} ${o} L${a} ${l} L${(u(this,ge)[16]-e)/r} ${(u(this,ge)[17]-t)/i} L${(u(this,ge)[14]-e)/r} ${(u(this,ge)[15]-t)/i} Z`},rx=new WeakSet,$F=function(e){const t=u(this,Or);e.push(`L${t[4]} ${t[5]} Z`)},ix=new WeakSet,zF=function(e){const[t,r,i,s]=u(this,jn),o=u(this,ge).subarray(4,6),a=u(this,ge).subarray(16,18),[l,c,d,h]=I(this,Nl,mf).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${d} ${h} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},sx=new WeakSet,UF=function(e){const t=u(this,ge),[r,i,s,o]=u(this,jn),[a,l,c,d]=I(this,Nl,mf).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(h,e,u(this,jn),u(this,Td),u(this,Ed),u(this,Cd))},ox=new WeakSet,WF=function(e,t){const r=u(this,Or);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},ax=new WeakSet,GF=function(e,t){const r=u(this,ge).subarray(4,6),i=u(this,ge).subarray(16,18),[s,o,a,l]=u(this,jn),[c,d,h,f]=I(this,Nl,mf).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},C(Vi,tg,8),C(Vi,ex,2),C(Vi,tx,u(Vi,tg)+u(Vi,ex));let Hw=Vi;var kd,Ll,us,ng,Fn,rg,st,lx,YF;class KF extends Y{constructor(t,r,i,s,o,a){super();C(this,lx);C(this,kd,void 0);C(this,Ll,new Float32Array(4));C(this,us,void 0);C(this,ng,void 0);C(this,Fn,void 0);C(this,rg,void 0);C(this,st,void 0);P(this,st,t),P(this,Fn,r),P(this,kd,i),P(this,rg,s),P(this,us,o),P(this,ng,a),this.lastPoint=[NaN,NaN],I(this,lx,YF).call(this,a);const[l,c,d,h]=u(this,Ll);for(let f=0,m=t.length;f<m;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-c)/h;for(let f=0,m=r.length;f<m;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-c)/h}toSVGPath(){const t=[`M${u(this,st)[4]} ${u(this,st)[5]}`];for(let r=6,i=u(this,st).length;r<i;r+=6){if(isNaN(u(this,st)[r])){t.push(`L${u(this,st)[r+4]} ${u(this,st)[r+5]}`);continue}t.push(`C${u(this,st)[r]} ${u(this,st)[r+1]} ${u(this,st)[r+2]} ${u(this,st)[r+3]} ${u(this,st)[r+4]} ${u(this,st)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,d;switch(o){case 0:c=Y._rescale(u(this,st),t,s,a,-l),d=Y._rescale(u(this,Fn),t,s,a,-l);break;case 90:c=Y._rescaleAndSwap(u(this,st),t,r,a,l),d=Y._rescaleAndSwap(u(this,Fn),t,r,a,l);break;case 180:c=Y._rescale(u(this,st),i,r,-a,l),d=Y._rescale(u(this,Fn),i,r,-a,l);break;case 270:c=Y._rescaleAndSwap(u(this,st),i,s,-a,-l),d=Y._rescaleAndSwap(u(this,Fn),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return u(this,Ll)}newOutliner(t,r,i,s,o,a=0){return new Hw(t,r,i,s,o,a)}getNewOutline(t,r){const[i,s,o,a]=u(this,Ll),[l,c,d,h]=u(this,kd),f=o*d,m=a*h,v=i*d+l,g=s*h+c,A=this.newOutliner({x:u(this,Fn)[0]*f+v,y:u(this,Fn)[1]*m+g},u(this,kd),u(this,rg),t,u(this,ng),r??u(this,us));for(let b=2;b<u(this,Fn).length;b+=2)A.add({x:u(this,Fn)[b]*f+v,y:u(this,Fn)[b+1]*m+g});return A.getOutlines()}}kd=new WeakMap,Ll=new WeakMap,us=new WeakMap,ng=new WeakMap,Fn=new WeakMap,rg=new WeakMap,st=new WeakMap,lx=new WeakSet,YF=function(t){const r=u(this,st);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,l=s;const c=t?Math.max:Math.min;for(let h=6,f=r.length;h<f;h+=6){const m=r[h+4],v=r[h+5];if(isNaN(r[h]))ne.pointBoundingBox(m,v,o),l<v?(a=m,l=v):l===v&&(a=c(a,m));else{const g=[1/0,1/0,-1/0,-1/0];ne.bezierBoundingBox(i,s,...r.slice(h,h+6),g),ne.rectBoundingBox(...g,o),l<g[3]?(a=g[2],l=g[3]):l===g[3]&&(a=c(a,g[2]))}i=m,s=v}const d=u(this,Ll);d[0]=o[0]-u(this,us),d[1]=o[1]-u(this,us),d[2]=o[2]-o[0]+2*u(this,us),d[3]=o[3]-o[1]+2*u(this,us),this.lastPoint=[a,l]};var ig,sg,Ao,jr,cx,XF,Id,Dv,ux,qF,dx,QF,og,IE;class kE{constructor(e,t=0,r=0,i=!0){C(this,cx);C(this,Id);C(this,ux);C(this,dx);C(this,og);C(this,ig,void 0);C(this,sg,void 0);C(this,Ao,[]);C(this,jr,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:v,y:g,width:A,height:b}of e){const S=Math.floor((v-t)/a)*a,x=Math.ceil((v+A+t)/a)*a,p=Math.floor((g-t)/a)*a,w=Math.ceil((g+b+t)/a)*a,T=[S,p,w,!0],k=[x,p,w,!1];u(this,Ao).push(T,k),ne.rectBoundingBox(S,p,x,w,s)}const l=s[2]-s[0]+2*r,c=s[3]-s[1]+2*r,d=s[0]-r,h=s[1]-r,f=u(this,Ao).at(i?-1:-2),m=[f[0],f[2]];for(const v of u(this,Ao)){const[g,A,b]=v;v[0]=(g-d)/l,v[1]=(A-h)/c,v[2]=(b-h)/c}P(this,ig,new Float32Array([d,h,l,c])),P(this,sg,m)}getOutlines(){u(this,Ao).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of u(this,Ao))t[3]?(e.push(...I(this,og,IE).call(this,t)),I(this,ux,qF).call(this,t)):(I(this,dx,QF).call(this,t),e.push(...I(this,og,IE).call(this,t)));return I(this,cx,XF).call(this,e)}}ig=new WeakMap,sg=new WeakMap,Ao=new WeakMap,jr=new WeakMap,cx=new WeakSet,XF=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,d,h]=o;r.delete(o);let f=a,m=l;for(s=[a,c],i.push(s);;){let v;if(r.has(d))v=d;else if(r.has(h))v=h;else break;r.delete(v),[a,l,c,d,h]=v,f!==a&&(s.push(f,m,a,m===l?l:c),f=a),m=m===l?c:l}s.push(f,m)}return new fq(i,u(this,ig),u(this,sg))},Id=new WeakSet,Dv=function(e){const t=u(this,jr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},ux=new WeakSet,qF=function([,e,t]){const r=I(this,Id,Dv).call(this,e);u(this,jr).splice(r,0,[e,t])},dx=new WeakSet,QF=function([,e,t]){const r=I(this,Id,Dv).call(this,e);for(let i=r;i<u(this,jr).length;i++){const[s,o]=u(this,jr)[i];if(s!==e)break;if(s===e&&o===t){u(this,jr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=u(this,jr)[i];if(s!==e)break;if(s===e&&o===t){u(this,jr).splice(i,1);return}}},og=new WeakSet,IE=function(e){const[t,r,i]=e,s=[[t,r,i]],o=I(this,Id,Dv).call(this,i);for(let a=0;a<o;a++){const[l,c]=u(this,jr)[a];for(let d=0,h=s.length;d<h;d++){const[,f,m]=s[d];if(!(c<=f||m<=l)){if(f>=l){if(m>c)s[d][1]=c;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,m>c&&s.push([t,c,m])}}}return s};var ag,_d;class fq extends Y{constructor(t,r,i){super();C(this,ag,void 0);C(this,_d,void 0);P(this,_d,t),P(this,ag,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of u(this,_d)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const d of u(this,_d)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=s-d[f+1]*c;a.push(h)}return a}get box(){return u(this,ag)}get classNamesForOutlining(){return["highlightOutline"]}}ag=new WeakMap,_d=new WeakMap;class _E extends Hw{newFreeDrawOutline(e,t,r,i,s,o){return new pq(e,t,r,i,s,o)}}class pq extends KF{newOutliner(e,t,r,i,s,o=0){return new _E(e,t,r,i,s,o)}}var Bn,Dl,Rd,gt,lg,Md,ds,cg,Eo,Fr,Nd,ug,dg,RE,hg,ME,fg,NE,hs,Ta,hx,ZF,mi,zs;const wn=class wn{constructor({editor:e=null,uiManager:t=null}){C(this,dg);C(this,hg);C(this,fg);C(this,hs);C(this,hx);C(this,mi);C(this,Bn,null);C(this,Dl,null);C(this,Rd,void 0);C(this,gt,null);C(this,lg,!1);C(this,Md,!1);C(this,ds,null);C(this,cg,void 0);C(this,Eo,null);C(this,Fr,null);C(this,Nd,void 0);var r,i;e?(P(this,Md,!1),P(this,Nd,be.HIGHLIGHT_COLOR),P(this,ds,e)):(P(this,Md,!0),P(this,Nd,be.HIGHLIGHT_DEFAULT_COLOR)),P(this,Fr,(e==null?void 0:e._uiManager)||t),P(this,cg,u(this,Fr)._eventBus),P(this,Rd,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=u(this,Fr))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),u(wn,ug)||P(wn,ug,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ye(this,"_keyboardManager",new ry([[["Escape","mac+Escape"],wn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wn.prototype._moveToPrevious],[["Home","mac+Home"],wn.prototype._moveToBeginning],[["End","mac+End"],wn.prototype._moveToEnd]]))}renderButton(){const e=P(this,Bn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",u(this,ds)&&(e.ariaControls=`${u(this,ds).id}_colorpicker_dropdown`);const t=u(this,Fr)._signal;e.addEventListener("click",I(this,hs,Ta).bind(this),{signal:t}),e.addEventListener("keydown",I(this,fg,NE).bind(this),{signal:t});const r=P(this,Dl,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=u(this,Rd),e.append(r),e}renderMainDropdown(){const e=P(this,gt,I(this,dg,RE).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===u(this,Bn)){I(this,hs,Ta).call(this,e);return}const t=e.target.getAttribute("data-color");t&&I(this,hg,ME).call(this,t,e)}_moveToNext(e){var t,r;if(!u(this,mi,zs)){I(this,hs,Ta).call(this,e);return}if(e.target===u(this,Bn)){(t=u(this,gt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=u(this,gt))==null?void 0:t.firstChild)||e.target===u(this,Bn)){u(this,mi,zs)&&this._hideDropdownFromKeyboard();return}u(this,mi,zs)||I(this,hs,Ta).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!u(this,mi,zs)){I(this,hs,Ta).call(this,e);return}(t=u(this,gt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,mi,zs)){I(this,hs,Ta).call(this,e);return}(t=u(this,gt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,gt))==null||e.classList.add("hidden"),u(this,Bn).ariaExpanded="false",(t=u(this,Eo))==null||t.abort(),P(this,Eo,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,Md)){if(!u(this,mi,zs)){(e=u(this,ds))==null||e.unselect();return}this.hideDropdown(),u(this,Bn).focus({preventScroll:!0,focusVisible:u(this,lg)})}}updateColor(e){if(u(this,Dl)&&(u(this,Dl).style.backgroundColor=e),!u(this,gt))return;const t=u(this,Fr).highlightColors.values();for(const r of u(this,gt).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=u(this,Bn))==null||e.remove(),P(this,Bn,null),P(this,Dl,null),(t=u(this,gt))==null||t.remove(),P(this,gt,null)}};Bn=new WeakMap,Dl=new WeakMap,Rd=new WeakMap,gt=new WeakMap,lg=new WeakMap,Md=new WeakMap,ds=new WeakMap,cg=new WeakMap,Eo=new WeakMap,Fr=new WeakMap,Nd=new WeakMap,ug=new WeakMap,dg=new WeakSet,RE=function(){const e=document.createElement("div"),t=u(this,Fr)._signal;e.addEventListener("contextmenu",Ar,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),u(this,ds)&&(e.id=`${u(this,ds).id}_colorpicker_dropdown`);for(const[r,i]of u(this,Fr).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",u(wn,ug)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===u(this,Rd),s.addEventListener("click",I(this,hg,ME).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",I(this,fg,NE).bind(this),{signal:t}),e},hg=new WeakSet,ME=function(e,t){t.stopPropagation(),u(this,cg).dispatch("switchannotationeditorparams",{source:this,type:u(this,Nd),value:e})},fg=new WeakSet,NE=function(e){wn._keyboardManager.exec(this,e)},hs=new WeakSet,Ta=function(e){if(u(this,mi,zs)){this.hideDropdown();return}if(P(this,lg,e.detail===0),u(this,Eo)||(P(this,Eo,new AbortController),window.addEventListener("pointerdown",I(this,hx,ZF).bind(this),{signal:u(this,Fr).combinedSignal(u(this,Eo))})),u(this,Bn).ariaExpanded="true",u(this,gt)){u(this,gt).classList.remove("hidden");return}const t=P(this,gt,I(this,dg,RE).call(this));u(this,Bn).append(t)},hx=new WeakSet,ZF=function(e){var t;(t=u(this,gt))!=null&&t.contains(e.target)||this.hideDropdown()},mi=new WeakSet,zs=function(){return u(this,gt)&&!u(this,gt).classList.contains("hidden")},C(wn,ug,null);let yp=wn;var Ld,pg,fs,Ol,mg,Sn,gg,yg,jl,dr,Vn,jt,Dd,ps,Qt,Od,hr,vg,wg,LE,jd,Ov,fx,JF,px,eB,mx,tB,xg,DE,ms,Pa,Co,$c,gx,nB,Fd,jv,Fl,gf,yx,rB,vx,iB,wx,sB,xx,oB,bx,aB;const Ee=class Ee extends Oe{constructor(t){super({...t,name:"highlightEditor"});C(this,wg);C(this,jd);C(this,fx);C(this,px);C(this,mx);C(this,xg);C(this,ms);C(this,gx);C(this,Fd);C(this,Fl);C(this,yx);C(this,vx);C(this,bx);C(this,Ld,null);C(this,pg,0);C(this,fs,void 0);C(this,Ol,null);C(this,mg,null);C(this,Sn,null);C(this,gg,null);C(this,yg,0);C(this,jl,null);C(this,dr,null);C(this,Vn,null);C(this,jt,!1);C(this,Dd,null);C(this,ps,void 0);C(this,Qt,null);C(this,Od,"");C(this,hr,void 0);C(this,vg,"");this.color=t.color||Ee._defaultColor,P(this,hr,t.thickness||Ee._defaultThickness),P(this,ps,t.opacity||Ee._defaultOpacity),P(this,fs,t.boxes||null),P(this,vg,t.methodOfCreation||""),P(this,Od,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(P(this,jt,!0),I(this,jd,Ov).call(this,t),I(this,ms,Pa).call(this)):u(this,fs)&&(P(this,Ld,t.anchorNode),P(this,pg,t.anchorOffset),P(this,gg,t.focusNode),P(this,yg,t.focusOffset),I(this,wg,LE).call(this),I(this,ms,Pa).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ee.prototype;return ye(this,"_keyboardManager",new ry([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,jt)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,hr),methodOfCreation:u(this,vg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Oe.initialize(t,r),Ee._defaultColor||(Ee._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case be.HIGHLIGHT_DEFAULT_COLOR:Ee._defaultColor=r;break;case be.HIGHLIGHT_THICKNESS:Ee._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return u(this,Dd)}updateParams(t,r){switch(t){case be.HIGHLIGHT_COLOR:I(this,fx,JF).call(this,r);break;case be.HIGHLIGHT_THICKNESS:I(this,px,eB).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[be.HIGHLIGHT_DEFAULT_COLOR,Ee._defaultColor],[be.HIGHLIGHT_THICKNESS,Ee._defaultThickness]]}get propertiesToUpdate(){return[[be.HIGHLIGHT_COLOR,this.color||Ee._defaultColor],[be.HIGHLIGHT_THICKNESS,u(this,hr)||Ee._defaultThickness],[be.HIGHLIGHT_FREE,u(this,jt)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",P(this,mg,new yp({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(I(this,Fl,gf).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,I(this,Fl,gf).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){I(this,xg,DE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(I(this,ms,Pa).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?I(this,xg,DE).call(this):t&&(I(this,ms,Pa).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;u(this,jt)?(t=(t-this.rotation+360)%360,i=I(s=Ee,Co,$c).call(s,u(this,dr).box,t)):i=I(o=Ee,Co,$c).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(u(this,Vn),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(u(this,Qt),{bbox:I(a=Ee,Co,$c).call(a,u(this,Sn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,Od)&&(t.setAttribute("aria-label",u(this,Od)),t.setAttribute("role","mark")),u(this,jt)?t.classList.add("free"):this.div.addEventListener("keydown",I(this,gx,nB).bind(this),{signal:this._uiManager._signal});const r=P(this,jl,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,Ol);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Tj(this,u(this,jl),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,Qt),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,Qt),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:I(this,Fd,jv).call(this,!0);break;case 1:case 3:I(this,Fd,jv).call(this,!1);break}}select(){var t;super.select(),u(this,Qt)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,Qt),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,Qt)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,Qt),{rootClass:{selected:!1}}),u(this,jt)||I(this,Fd,jv).call(this,!1))}get _mustFixPosition(){return!u(this,jt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,Vn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,Qt),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:d}=i.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),m=v=>{h.abort(),I(this,xx,oB).call(this,t,v)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",ot,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ar,{signal:f}),i.addEventListener("pointermove",I(this,wx,sB).bind(this,t),{signal:f}),this._freeHighlight=new _E({x:s,y:o},[a,l,c,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var g,A,b,S;let s=null;if(t instanceof LF){const{data:{quadPoints:x,rect:p,rotation:w,id:T,color:k,opacity:_,popupRef:R},parent:{page:{pageNumber:M}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(k),opacity:_,quadPoints:x,boxes:null,pageIndex:M-1,rect:p.slice(0),rotation:w,annotationElementId:T,id:T,deleted:!1,popupRef:R}}else if(t instanceof oP){const{data:{inkLists:x,rect:p,rotation:w,id:T,color:k,borderStyle:{rawWidth:_},popupRef:R},parent:{page:{pageNumber:M}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(k),thickness:_,inkLists:x,boxes:null,pageIndex:M-1,rect:p.slice(0),rotation:w,annotationElementId:T,id:T,deleted:!1,popupRef:R}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,d=await super.deserialize(t,r,i);d.color=ne.makeHexColor(...o),P(d,ps,c||1),l&&P(d,hr,t.thickness),d._initialData=s;const[h,f]=d.pageDimensions,[m,v]=d.pageTranslation;if(a){const x=P(d,fs,[]);for(let p=0;p<a.length;p+=8)x.push({x:(a[p]-m)/h,y:1-(a[p+1]-v)/f,width:(a[p+2]-a[p])/h,height:(a[p+1]-a[p+5])/f});I(g=d,wg,LE).call(g),I(A=d,ms,Pa).call(A),d.rotate(d.rotation)}else if(l){P(d,jt,!0);const x=l[0],p={x:x[0]-m,y:f-(x[1]-v)},w=new _E(p,[0,0,h,f],1,u(d,hr)/2,!0,.001);for(let _=0,R=x.length;_<R;_+=2)p.x=x[_]-m,p.y=f-(x[_+1]-v),w.add(p);const{id:T,clipPathId:k}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:w.toSVGPath()}},!0,!0);I(b=d,jd,Ov).call(b,{highlightOutlines:w.getOutlines(),highlightId:T,clipPathId:k}),I(S=d,ms,Pa).call(S),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=Oe._colorManager.convert(this.color),s={annotationType:ae.HIGHLIGHT,color:i,opacity:u(this,ps),thickness:u(this,hr),quadPoints:I(this,yx,rB).call(this),outlines:I(this,vx,iB).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:I(this,Fl,gf).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!I(this,bx,aB).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ld=new WeakMap,pg=new WeakMap,fs=new WeakMap,Ol=new WeakMap,mg=new WeakMap,Sn=new WeakMap,gg=new WeakMap,yg=new WeakMap,jl=new WeakMap,dr=new WeakMap,Vn=new WeakMap,jt=new WeakMap,Dd=new WeakMap,ps=new WeakMap,Qt=new WeakMap,Od=new WeakMap,hr=new WeakMap,vg=new WeakMap,wg=new WeakSet,LE=function(){const t=new kE(u(this,fs),.001);P(this,dr,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,dr).box;const r=new kE(u(this,fs),.0025,.001,this._uiManager.direction==="ltr");P(this,Sn,r.getOutlines());const{lastPoint:i}=u(this,Sn);P(this,Dd,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},jd=new WeakSet,Ov=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,f;P(this,dr,t);const s=1.5;if(P(this,Sn,t.getNewOutline(u(this,hr)/2+s,.0025)),r>=0)P(this,Vn,r),P(this,Ol,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),P(this,Qt,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Sn).box,path:{d:u(this,Sn).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,Vn),{bbox:I(h=Ee,Co,$c).call(h,u(this,dr).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,Qt),{bbox:I(f=Ee,Co,$c).call(f,u(this,Sn).box,m),path:{d:u(this,Sn).toSVGPath()}})}const[o,a,l,c]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[m,v]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*v/m,this.height=c*m/v;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*v/m,this.height=c*m/v;break}}const{lastPoint:d}=u(this,Sn);P(this,Dd,[(d[0]-o)/l,(d[1]-a)/c])},fx=new WeakSet,JF=function(t){const r=(o,a)=>{var l,c;this.color=o,P(this,ps,a),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,Vn),{root:{fill:o,"fill-opacity":a}}),(c=u(this,mg))==null||c.updateColor(o)},i=this.color,s=u(this,ps);this.addCommands({cmd:r.bind(this,t,Ee._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},px=new WeakSet,eB=function(t){const r=u(this,hr),i=s=>{P(this,hr,s),I(this,mx,tB).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},mx=new WeakSet,tB=function(t){if(!u(this,jt))return;I(this,jd,Ov).call(this,{highlightOutlines:u(this,dr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},xg=new WeakSet,DE=function(){u(this,Vn)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Vn)),P(this,Vn,null),this.parent.drawLayer.remove(u(this,Qt)),P(this,Qt,null))},ms=new WeakSet,Pa=function(t=this.parent){u(this,Vn)===null&&({id:rn(this,Vn)._,clipPathId:rn(this,Ol)._}=t.drawLayer.draw({bbox:u(this,dr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,ps)},rootClass:{highlight:!0,free:u(this,jt)},path:{d:u(this,dr).toSVGPath()}},!1,!0),P(this,Qt,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,jt)},bbox:u(this,Sn).box,path:{d:u(this,Sn).toSVGPath()}},u(this,jt))),u(this,jl)&&(u(this,jl).style.clipPath=u(this,Ol)))},Co=new WeakSet,$c=function([t,r,i,s],o){switch(o){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},gx=new WeakSet,nB=function(t){Ee._keyboardManager.exec(this,t)},Fd=new WeakSet,jv=function(t){if(!u(this,Ld))return;const r=window.getSelection();t?r.setPosition(u(this,Ld),u(this,pg)):r.setPosition(u(this,gg),u(this,yg))},Fl=new WeakSet,gf=function(){return u(this,jt)?this.rotation:0},yx=new WeakSet,rB=function(){if(u(this,jt))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=u(this,fs),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:d,width:h,height:f}of o){const m=c*t+i,v=(1-d)*r+s;a[l]=a[l+4]=m,a[l+1]=a[l+3]=v,a[l+2]=a[l+6]=m+h*t,a[l+5]=a[l+7]=v-f*r,l+=8}return a},vx=new WeakSet,iB=function(t){return u(this,dr).serialize(t,I(this,Fl,gf).call(this))},wx=new WeakSet,sB=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},xx=new WeakSet,oB=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},bx=new WeakSet,aB=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},C(Ee,Co),C(Ee,wx),C(Ee,xx),H(Ee,"_defaultColor",null),H(Ee,"_defaultOpacity",1),H(Ee,"_defaultThickness",12),H(Ee,"_type","highlight"),H(Ee,"_editorType",ae.HIGHLIGHT),H(Ee,"_freeHighlightId",-1),H(Ee,"_freeHighlight",null),H(Ee,"_freeHighlightClipId","");let $w=Ee;var Bl;class lB{constructor(){C(this,Bl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){u(this,Bl)[e]=t}toSVGProperties(){const e=u(this,Bl);return P(this,Bl,Object.create(null)),{root:e}}reset(){P(this,Bl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Re("Not implemented")}}Bl=new WeakMap;var Hn,Bd,St,Vl,Hl,To,Po,ko,$l,bg,OE,Sg,jE,Ag,FE,zl,yf,Sx,cB,Vd,Fv,Ul,vf,Io,zc;const Q=class Q extends Oe{constructor(t){super(t);C(this,bg);C(this,Sg);C(this,Ag);C(this,zl);C(this,Sx);C(this,Vd);C(this,Ul);C(this,Io);C(this,Hn,null);C(this,Bd,void 0);H(this,"_drawId",null);P(this,Bd,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(I(this,bg,OE).call(this,t),I(this,zl,yf).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Re("Not implemented")}static get typesMap(){Re("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(u(Q,St).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,o=s[r],a=l=>{var d;s.updateProperty(r,l);const c=u(this,Hn).updateProperty(r,l);c&&I(this,Ul,vf).call(this,c),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties(u(this,Hn).getPathResizingSVGProperties(I(this,Vd,Fv).call(this)),{bbox:I(this,Io,zc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties(u(this,Hn).getPathResizedSVGProperties(I(this,Vd,Fv).call(this)),{bbox:I(this,Io,zc).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:I(this,Io,zc).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties(u(this,Hn).getPathTranslatedSVGProperties(I(this,Vd,Fv).call(this),this.parentDimensions),{bbox:I(this,Io,zc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,Bd)&&(P(this,Bd,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){I(this,Ag,FE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(I(this,zl,yf).call(this),I(this,Ul,vf).call(this,u(this,Hn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),I(this,Ag,FE).call(this)):t&&(this._uiManager.addShouldRescale(this),I(this,zl,yf).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties({bbox:I(this,Io,zc).call(this)},u(this,Hn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&I(this,Ul,vf).call(this,u(this,Hn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,o){Re("Not implemented")}static startDrawing(t,r,i,s){var A;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:d}=s;if(u(Q,Po)&&u(Q,Po)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:m}=o.getBoundingClientRect(),v=P(Q,Vl,new AbortController),g=t.combinedSignal(v);if(u(Q,To)||P(Q,To,c),u(Q,Po)??P(Q,Po,d),window.addEventListener("pointerup",b=>{var S;u(Q,To)===b.pointerId?this._endDraw(b):(S=u(Q,ko))==null||S.delete(b.pointerId)},{signal:g}),window.addEventListener("pointercancel",b=>{var S;u(Q,To)===b.pointerId?this._currentParent.endDrawingSession():(S=u(Q,ko))==null||S.delete(b.pointerId)},{signal:g}),window.addEventListener("pointerdown",b=>{u(Q,Po)===b.pointerType&&((u(Q,ko)||P(Q,ko,new Set)).add(b.pointerId),u(Q,St).isCancellable()&&(u(Q,St).removeLastElement(),u(Q,St).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Ar,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",b=>{b.timeStamp===u(Q,$l)&&ot(b)},{signal:g}),t.toggleDrawing(),(A=r._editorUndoBar)==null||A.hide(),u(Q,St)){t.drawLayer.updateProperties(this._currentDrawId,u(Q,St).startNew(a,l,f,m,h));return}r.updateUIForDefaultProperties(this),P(Q,St,this.createDrawerInstance(a,l,f,m,h)),P(Q,Hl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(Q,Hl).toSVGProperties(),u(Q,St).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(P(Q,$l,-1),!u(Q,St))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(u(Q,To)===s){if(((o=u(Q,ko))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(Q,St).add(r,i)),P(Q,$l,t.timeStamp),ot(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,P(Q,St,null),P(Q,Hl,null),P(Q,Po,null),P(Q,$l,NaN)),u(Q,Vl)&&(u(Q,Vl).abort(),P(Q,Vl,null),P(Q,To,NaN),P(Q,ko,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,u(Q,St).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=u(Q,St),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:be.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(be.DRAW_STEP),!u(Q,St).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(Q,St).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:u(Q,Hl),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,o,a){Re("Not implemented")}static async deserialize(t,r,i){var h,f;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=r.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,t),d=await super.deserialize(t,r,i);return d.createDrawingOptions(t),I(h=d,bg,OE).call(h,{drawOutlines:c}),I(f=d,zl,yf).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return u(this,Hn).serialize([r,i,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Hn=new WeakMap,Bd=new WeakMap,St=new WeakMap,Vl=new WeakMap,Hl=new WeakMap,To=new WeakMap,Po=new WeakMap,ko=new WeakMap,$l=new WeakMap,bg=new WeakSet,OE=function({drawOutlines:t,drawId:r,drawingOptions:i}){P(this,Hn,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=I(this,Sg,jE).call(this,t,this.parent),I(this,Ul,vf).call(this,t.box)},Sg=new WeakSet,jE=function(t,r){const{id:i}=r.drawLayer.draw(Q._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},Ag=new WeakSet,FE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},zl=new WeakSet,yf=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=I(this,Sg,jE).call(this,u(this,Hn),t)}},Sx=new WeakSet,cB=function([t,r,i,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},Vd=new WeakSet,Fv=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},Ul=new WeakSet,vf=function(t){if([this.x,this.y,this.width,this.height]=I(this,Sx,cB).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},Io=new WeakSet,zc=function(){const{x:t,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,t,i*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-t-s*(c/l),i*(l/c),s*(c/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),t-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-t,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-t,i*(l/c),s*(c/l)];default:return[t,r,i,s]}},H(Q,"_currentDrawId",-1),H(Q,"_currentParent",null),C(Q,St,null),C(Q,Vl,null),C(Q,Hl,null),C(Q,To,NaN),C(Q,Po,null),C(Q,ko,null),C(Q,$l,NaN),H(Q,"_INNER_MARGIN",3);let zw=Q;var gi,At,Et,Wl,Hd,an,Ft,fr,Gl,Kl,Yl,$d,Bv;class mq{constructor(e,t,r,i,s,o){C(this,$d);C(this,gi,new Float64Array(6));C(this,At,void 0);C(this,Et,void 0);C(this,Wl,void 0);C(this,Hd,void 0);C(this,an,void 0);C(this,Ft,"");C(this,fr,0);C(this,Gl,new sy);C(this,Kl,void 0);C(this,Yl,void 0);P(this,Kl,r),P(this,Yl,i),P(this,Wl,s),P(this,Hd,o),[e,t]=I(this,$d,Bv).call(this,e,t);const a=P(this,At,[NaN,NaN,NaN,NaN,e,t]);P(this,an,[e,t]),P(this,Et,[{line:a,points:u(this,an)}]),u(this,gi).set(a,0)}updateProperty(e,t){e==="stroke-width"&&P(this,Hd,t)}isEmpty(){return!u(this,Et)||u(this,Et).length===0}isCancellable(){return u(this,an).length<=10}add(e,t){[e,t]=I(this,$d,Bv).call(this,e,t);const[r,i,s,o]=u(this,gi).subarray(2,6),a=e-s,l=t-o;return Math.hypot(u(this,Kl)*a,u(this,Yl)*l)<=2?null:(u(this,an).push(e,t),isNaN(r)?(u(this,gi).set([s,o,e,t],2),u(this,At).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,gi)[0])&&u(this,At).splice(6,6),u(this,gi).set([r,i,s,o,e,t],0),u(this,At).push(...Y.createBezierPoints(r,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(u(this,an).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){P(this,Kl,r),P(this,Yl,i),P(this,Wl,s),[e,t]=I(this,$d,Bv).call(this,e,t);const o=P(this,At,[NaN,NaN,NaN,NaN,e,t]);P(this,an,[e,t]);const a=u(this,Et).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),u(this,Et).push({line:o,points:u(this,an)}),u(this,gi).set(o,0),P(this,fr,0),this.toSVGPath(),null}getLastElement(){return u(this,Et).at(-1)}setLastElement(e){return u(this,Et)?(u(this,Et).push(e),P(this,At,e.line),P(this,an,e.points),P(this,fr,0),{path:{d:this.toSVGPath()}}):u(this,Gl).setLastElement(e)}removeLastElement(){if(!u(this,Et))return u(this,Gl).removeLastElement();u(this,Et).pop(),P(this,Ft,"");for(let e=0,t=u(this,Et).length;e<t;e++){const{line:r,points:i}=u(this,Et)[e];P(this,At,r),P(this,an,i),P(this,fr,0),this.toSVGPath()}return{path:{d:u(this,Ft)}}}toSVGPath(){const e=Y.svgRound(u(this,At)[4]),t=Y.svgRound(u(this,At)[5]);if(u(this,an).length===2)return P(this,Ft,`${u(this,Ft)} M ${e} ${t} Z`),u(this,Ft);if(u(this,an).length<=6){const i=u(this,Ft).lastIndexOf("M");P(this,Ft,`${u(this,Ft).slice(0,i)} M ${e} ${t}`),P(this,fr,6)}if(u(this,an).length===4){const i=Y.svgRound(u(this,At)[10]),s=Y.svgRound(u(this,At)[11]);return P(this,Ft,`${u(this,Ft)} L ${i} ${s}`),P(this,fr,12),u(this,Ft)}const r=[];u(this,fr)===0&&(r.push(`M ${e} ${t}`),P(this,fr,6));for(let i=u(this,fr),s=u(this,At).length;i<s;i+=6){const[o,a,l,c,d,h]=u(this,At).slice(i,i+6).map(Y.svgRound);r.push(`C${o} ${a} ${l} ${c} ${d} ${h}`)}return P(this,Ft,u(this,Ft)+r.join(" ")),P(this,fr,u(this,At).length),u(this,Ft)}getOutlines(e,t,r,i){const s=u(this,Et).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),u(this,Gl).build(u(this,Et),e,t,r,u(this,Wl),u(this,Hd),i),P(this,gi,null),P(this,At,null),P(this,Et,null),P(this,Ft,null),u(this,Gl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}gi=new WeakMap,At=new WeakMap,Et=new WeakMap,Wl=new WeakMap,Hd=new WeakMap,an=new WeakMap,Ft=new WeakMap,fr=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,$d=new WeakSet,Bv=function(e,t){return Y._normalizePoint(e,t,u(this,Kl),u(this,Yl),u(this,Wl))};var ln,Eg,Cg,$n,yi,vi,zd,Ud,Xl,Br,ji,Ax,uB,Ex,dB,Cx,hB;class sy extends Y{constructor(){super(...arguments);C(this,Br);C(this,Ax);C(this,Ex);C(this,Cx);C(this,ln,void 0);C(this,Eg,0);C(this,Cg,void 0);C(this,$n,void 0);C(this,yi,void 0);C(this,vi,void 0);C(this,zd,void 0);C(this,Ud,void 0);C(this,Xl,void 0)}build(t,r,i,s,o,a,l){P(this,yi,r),P(this,vi,i),P(this,zd,s),P(this,Ud,o),P(this,Xl,a),P(this,Cg,l??0),P(this,$n,t),I(this,Ex,dB).call(this)}get thickness(){return u(this,Xl)}setLastElement(t){return u(this,$n).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,$n).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of u(this,$n)){if(t.push(`M${Y.svgRound(r[4])} ${Y.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${Y.svgRound(r[10])} ${Y.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,l,c,d,h]=r.subarray(i,i+6).map(Y.svgRound);t.push(`C${o} ${a} ${l} ${c} ${d} ${h}`)}}return t.join("")}serialize([t,r,i,s],o){const a=[],l=[],[c,d,h,f]=I(this,Ax,uB).call(this);let m,v,g,A,b,S,x,p,w;switch(u(this,Ud)){case 0:w=Y._rescale,m=t,v=r+s,g=i,A=-s,b=t+c*i,S=r+(1-d-f)*s,x=t+(c+h)*i,p=r+(1-d)*s;break;case 90:w=Y._rescaleAndSwap,m=t,v=r,g=i,A=s,b=t+d*i,S=r+c*s,x=t+(d+f)*i,p=r+(c+h)*s;break;case 180:w=Y._rescale,m=t+i,v=r,g=-i,A=s,b=t+(1-c-h)*i,S=r+d*s,x=t+(1-c)*i,p=r+(d+f)*s;break;case 270:w=Y._rescaleAndSwap,m=t+i,v=r+s,g=-i,A=-s,b=t+(1-d-f)*i,S=r+(1-c-h)*s,x=t+(1-d)*i,p=r+(1-c)*s;break}for(const{line:T,points:k}of u(this,$n))a.push(w(T,m,v,g,A,o?new Array(T.length):null)),l.push(w(k,m,v,g,A,o?new Array(k.length):null));return{lines:a,points:l,rect:[b,S,x,p]}}static deserialize(t,r,i,s,o,{paths:{lines:a,points:l},rotation:c,thickness:d}){const h=[];let f,m,v,g,A;switch(c){case 0:A=Y._rescale,f=-t/i,m=r/s+1,v=1/i,g=-1/s;break;case 90:A=Y._rescaleAndSwap,f=-r/s,m=-t/i,v=1/s,g=1/i;break;case 180:A=Y._rescale,f=t/i+1,m=-r/s,v=-1/i,g=1/s;break;case 270:A=Y._rescaleAndSwap,f=r/s+1,m=t/i+1,v=-1/s,g=-1/i;break}if(!a){a=[];for(const S of l){const x=S.length;if(x===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(x===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const p=new Float32Array(3*(x-2));a.push(p);let[w,T,k,_]=S.subarray(0,4);p.set([NaN,NaN,NaN,NaN,w,T],0);for(let R=4;R<x;R+=2){const M=S[R],N=S[R+1];p.set(Y.createBezierPoints(w,T,k,_,M,N),(R-2)*3),[w,T,k,_]=[k,_,M,N]}}}for(let S=0,x=a.length;S<x;S++)h.push({line:A(a[S].map(p=>p??NaN),f,m,v,g),points:A(l[S].map(p=>p??NaN),f,m,v,g)});const b=new this.prototype.constructor;return b.build(h,i,s,1,c,d,o),b}get box(){return u(this,ln)}updateProperty(t,r){return t==="stroke-width"?I(this,Cx,hB).call(this,r):null}updateParentDimensions([t,r],i){const[s,o]=I(this,Br,ji).call(this);P(this,yi,t),P(this,vi,r),P(this,zd,i);const[a,l]=I(this,Br,ji).call(this),c=a-s,d=l-o,h=u(this,ln);return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateRotation(t){return P(this,Eg,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,ln).map(Y.svgRound).join(" ")}get defaultProperties(){const[t,r]=u(this,ln);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=u(this,ln);let i=0,s=0,o=0,a=0,l=0,c=0;switch(u(this,Eg)){case 90:s=r/t,o=-t/r,l=t;break;case 180:i=-1,a=-1,l=t,c=r;break;case 270:s=-r/t,o=t/r,c=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${Y.svgRound(l)} ${Y.svgRound(c)})`}getPathResizingSVGProperties([t,r,i,s]){const[o,a]=I(this,Br,ji).call(this),[l,c,d,h]=u(this,ln);if(Math.abs(d-o)<=Y.PRECISION||Math.abs(h-a)<=Y.PRECISION){const A=t+i/2-(l+d/2),b=r+s/2-(c+h/2);return{path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`,transform:`${this.rotationTransform} translate(${A} ${b})`}}}const f=(i-2*o)/(d-2*o),m=(s-2*a)/(h-2*a),v=d/i,g=h/s;return{path:{"transform-origin":`${Y.svgRound(l)} ${Y.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${g}) translate(${Y.svgRound(o)} ${Y.svgRound(a)}) scale(${f} ${m}) translate(${Y.svgRound(-o)} ${Y.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[o,a]=I(this,Br,ji).call(this),l=u(this,ln),[c,d,h,f]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-o)<=Y.PRECISION||Math.abs(f-a)<=Y.PRECISION){const b=t+i/2-(c+h/2),S=r+s/2-(d+f/2);for(const{line:x,points:p}of u(this,$n))Y._translate(x,b,S,x),Y._translate(p,b,S,p);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(i-2*o)/(h-2*o),v=(s-2*a)/(f-2*a),g=-m*(c+o)+t+o,A=-v*(d+a)+r+a;if(m!==1||v!==1||g!==0||A!==0)for(const{line:b,points:S}of u(this,$n))Y._rescale(b,g,A,m,v,b),Y._rescale(S,g,A,m,v,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,o]=i,a=u(this,ln),l=t-a[0],c=r-a[1];if(u(this,yi)===s&&u(this,vi)===o)for(const{line:d,points:h}of u(this,$n))Y._translate(d,l,c,d),Y._translate(h,l,c,h);else{const d=u(this,yi)/s,h=u(this,vi)/o;P(this,yi,s),P(this,vi,o);for(const{line:f,points:m}of u(this,$n))Y._rescale(f,l,c,d,h,f),Y._rescale(m,l,c,d,h,m);a[2]*=d,a[3]*=h}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`}}}get defaultSVGProperties(){const t=u(this,ln);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t[0])} ${Y.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ln=new WeakMap,Eg=new WeakMap,Cg=new WeakMap,$n=new WeakMap,yi=new WeakMap,vi=new WeakMap,zd=new WeakMap,Ud=new WeakMap,Xl=new WeakMap,Br=new WeakSet,ji=function(t=u(this,Xl)){const r=u(this,Cg)+t/2*u(this,zd);return u(this,Ud)%180===0?[r/u(this,yi),r/u(this,vi)]:[r/u(this,vi),r/u(this,yi)]},Ax=new WeakSet,uB=function(){const[t,r,i,s]=u(this,ln),[o,a]=I(this,Br,ji).call(this,0);return[t+o,r+a,i-2*o,s-2*a]},Ex=new WeakSet,dB=function(){const t=P(this,ln,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of u(this,$n)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)ne.pointBoundingBox(s[l],s[l+1],t);continue}let o=s[4],a=s[5];for(let l=6,c=s.length;l<c;l+=6){const[d,h,f,m,v,g]=s.subarray(l,l+6);ne.bezierBoundingBox(o,a,d,h,f,m,v,g,t),o=v,a=g}}const[r,i]=I(this,Br,ji).call(this);t[0]=Zt(t[0]-r,0,1),t[1]=Zt(t[1]-i,0,1),t[2]=Zt(t[2]+r,0,1),t[3]=Zt(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},Cx=new WeakSet,hB=function(t){const[r,i]=I(this,Br,ji).call(this);P(this,Xl,t);const[s,o]=I(this,Br,ji).call(this),[a,l]=[s-r,o-i],c=u(this,ln);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class Db extends lB{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Oe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Db(this._viewParameters);return e.updateAll(this),e}}var Tx,fB;const lu=class lu extends zw{constructor(t){super({...t,name:"inkEditor"});C(this,Tx);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Oe.initialize(t,r),this._defaultDrawingOptions=new Db(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return ye(this,"typesMap",new Map([[be.INK_THICKNESS,"stroke-width"],[be.INK_COLOR,"stroke"],[be.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,o){return new mq(t,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,o,a){return sy.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){let s=null;if(t instanceof oP){const{data:{inkLists:a,rect:l,rotation:c,id:d,color:h,opacity:f,borderStyle:{rawWidth:m},popupRef:v},parent:{page:{pageNumber:g}}}=t;s=t={annotationType:ae.INK,color:Array.from(h),thickness:m,opacity:f,paths:{points:a},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:v}}const o=await super.deserialize(t,r,i);return o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=lu.getDefaultDrawingOptions({stroke:ne.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:ae.INK,color:Oe._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.isCopy=!0,c):this.annotationElementId&&!I(this,Tx,fB).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};Tx=new WeakSet,fB=function(t){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==o},H(lu,"_type","ink"),H(lu,"_editorType",ae.INK),H(lu,"_defaultDrawingOptions",null);let BE=lu;class VE extends sy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Gy=8,Kh=3;var ql,Tg,HE,Vr,Px,pB,kx,mB,Pg,$E,Wd,Vv,Ix,gB,_x,yB,Rx,vB,kg,zE,Ig,UE,Mx,wB;class dt{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,o,a,l){let c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=200,f=d.font=`${r} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:v,actualBoundingBoxAscent:g,actualBoundingBoxDescent:A,fontBoundingBoxAscent:b,fontBoundingBoxDescent:S,width:x}=d.measureText(e),p=1.5,w=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||0,x)*p),T=Math.ceil(Math.max(Math.abs(g)+Math.abs(A)||h,Math.abs(b)+Math.abs(S)||h)*p);c=new OffscreenCanvas(w,T),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,w,T),d.fillStyle="black",d.fillText(e,w*(p-1)/2,T*(3-p)/2);const k=I(this,kg,zE).call(this,d.getImageData(0,0,w,T).data),_=I(this,Rx,vB).call(this,k),R=I(this,Ig,UE).call(this,_),M=I(this,Pg,$E).call(this,k,w,T,R);return this.processDrawnLines({lines:{curves:M,width:w,height:T},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[o,a,l]=I(this,Mx,wB).call(this,e),[c,d]=I(this,_x,yB).call(this,o,a,l,Math.hypot(a,l)*u(this,ql).sigmaSFactor,u(this,ql).sigmaR,u(this,ql).kernelSize),h=I(this,Ig,UE).call(this,d),f=I(this,Pg,$E).call(this,c,a,l,h);return this.processDrawnLines({lines:{curves:f,width:a,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:d}=e,h=e.thickness??0,f=[],m=Math.min(t/c,r/d),v=m/t,g=m/r,A=[];for(const{points:S}of l){const x=o?I(this,Ix,gB).call(this,S):S;if(!x)continue;A.push(x);const p=x.length,w=new Float32Array(p),T=new Float32Array(3*(p===2?2:p-2));if(f.push({line:T,points:w}),p===2){w[0]=x[0]*v,w[1]=x[1]*g,T.set([NaN,NaN,NaN,NaN,w[0],w[1]],0);continue}let[k,_,R,M]=x;k*=v,_*=g,R*=v,M*=g,w.set([k,_,R,M],0),T.set([NaN,NaN,NaN,NaN,k,_],0);for(let N=4;N<p;N+=2){const j=w[N]=x[N]*v,V=w[N+1]=x[N+1]*g;T.set(Y.createBezierPoints(k,_,R,M,j,V),(N-2)*3),[k,_,R,M]=[R,M,j,V]}}if(f.length===0)return null;const b=a?new VE:new sy;return b.build(f,t,r,1,i,a?0:h,s),{outline:b,newCurves:A,areContours:a,thickness:h,width:c,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const x of e){l+=x.length;for(let p=2,w=x.length;p<w;p++){const T=x[p]-x[p-2];o=Math.min(o,T),a=Math.max(a,T)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const d=e.length,h=Gy+Kh*d,f=new Uint32Array(h);let m=0;f[m++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*c.BYTES_PER_ELEMENT,f[m++]=0,f[m++]=i,f[m++]=s,f[m++]=t?0:1,f[m++]=Math.max(0,Math.floor(r??0)),f[m++]=d,f[m++]=c.BYTES_PER_ELEMENT;for(const x of e)f[m++]=x.length-2,f[m++]=x[0],f[m++]=x[1];const v=new CompressionStream("deflate-raw"),g=v.writable.getWriter();await g.ready,g.write(f);const A=c.prototype.constructor;for(const x of e){const p=new A(x.length-2);for(let w=2,T=x.length;w<T;w++)p[w-2]=x[w]-x[w-2];g.write(p)}g.close();const b=await new Response(v.readable).arrayBuffer(),S=new Uint8Array(b);return gj(S)}static async decompressSignature(e){try{const t=W7(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const x of r)o||(o=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),o.set(x,a),a+=x.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const d=l[2],h=l[3],f=l[4]===0,m=l[5],v=l[6],g=l[7],A=[],b=(Gy+Kh*v)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(g){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(o.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(o.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(o.buffer,b);break}a=0;for(let x=0;x<v;x++){const p=l[Kh*x+Gy],w=new Float32Array(p+2);A.push(w);for(let T=0;T<Kh-1;T++)w[T]=l[Kh*x+Gy+T+1];for(let T=0;T<p;T++)w[T+2]=w[T]+S[a++]}return{areContours:f,thickness:m,outlines:A,width:d,height:h}}catch(t){return le(`decompressSignature: ${t}`),null}}}ql=new WeakMap,Tg=new WeakSet,HE=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Vr=new WeakMap,Px=new WeakSet,pB=function(e,t,r,i,s,o,a){const l=I(this,Tg,HE).call(this,r,i,s,o);for(let c=0;c<8;c++){const d=(-c+l-a+16)%8,h=u(this,Vr)[2*d],f=u(this,Vr)[2*d+1];if(e[(r+h)*t+(i+f)]!==0)return d}return-1},kx=new WeakSet,mB=function(e,t,r,i,s,o,a){const l=I(this,Tg,HE).call(this,r,i,s,o);for(let c=0;c<8;c++){const d=(c+l+a+16)%8,h=u(this,Vr)[2*d],f=u(this,Vr)[2*d+1];if(e[(r+h)*t+(i+f)]!==0)return d}return-1},Pg=new WeakSet,$E=function(e,t,r,i){const s=e.length,o=new Int32Array(s);for(let d=0;d<s;d++)o[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*r-1-d]=0;let a=1,l;const c=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<t-1;h++){const f=d*t+h,m=o[f];if(m===0)continue;let v=d,g=h;if(m===1&&o[f-1]===0)a+=1,g-=1;else if(m>=1&&o[f+1]===0)a+=1,g+=1,m>1&&(l=m);else{m!==1&&(l=Math.abs(m));continue}const A=[h,d],b=g===h+1,S={isHole:b,points:A,id:a,parent:0};c.push(S);let x;for(const N of c)if(N.id===l){x=N;break}x?x.isHole?S.parent=b?x.parent:l:S.parent=b?l:x.parent:S.parent=b?l:0;const p=I(this,Px,pB).call(this,o,t,d,h,v,g,0);if(p===-1){o[f]=-a,o[f]!==1&&(l=Math.abs(o[f]));continue}let w=u(this,Vr)[2*p],T=u(this,Vr)[2*p+1];const k=d+w,_=h+T;v=k,g=_;let R=d,M=h;for(;;){const N=I(this,kx,mB).call(this,o,t,R,M,v,g,1);w=u(this,Vr)[2*N],T=u(this,Vr)[2*N+1];const j=R+w,V=M+T;A.push(V,j);const L=R*t+M;if(o[L+1]===0?o[L]=-a:o[L]===1&&(o[L]=a),j===d&&V===h&&R===k&&M===_){o[f]!==1&&(l=Math.abs(o[f]));break}else v=R,g=M,R=j,M=V}}}return c},Wd=new WeakSet,Vv=function(e,t,r,i){if(r-t<=4){for(let k=t;k<r-2;k+=2)i.push(e[k],e[k+1]);return}const s=e[t],o=e[t+1],a=e[r-4]-s,l=e[r-3]-o,c=Math.hypot(a,l),d=a/c,h=l/c,f=d*o-h*s,m=l/a,v=1/c,g=Math.atan(m),A=Math.cos(g),b=Math.sin(g),S=v*(Math.abs(A)+Math.abs(b)),x=v*(1-S+S**2),p=Math.max(Math.atan(Math.abs(b+A)*x),Math.atan(Math.abs(b-A)*x));let w=0,T=t;for(let k=t+2;k<r-2;k+=2){const _=Math.abs(f-d*e[k+1]+h*e[k]);_>w&&(T=k,w=_)}w>(c*p)**2?(I(this,Wd,Vv).call(this,e,t,T+2,i),I(this,Wd,Vv).call(this,e,T,r,i)):i.push(s,o)},Ix=new WeakSet,gB=function(e){const t=[],r=e.length;return I(this,Wd,Vv).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},_x=new WeakSet,yB=function(e,t,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let g=0;g<o;g++){const A=(g-c)**2;for(let b=0;b<o;b++)a[g*o+b]=Math.exp((A+(b-c)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let g=0;g<256;g++)d[g]=Math.exp(g**2/h);const f=e.length,m=new Uint8Array(f),v=new Uint32Array(256);for(let g=0;g<r;g++)for(let A=0;A<t;A++){const b=g*t+A,S=e[b];let x=0,p=0;for(let T=0;T<o;T++){const k=g+T-c;if(!(k<0||k>=r))for(let _=0;_<o;_++){const R=A+_-c;if(R<0||R>=t)continue;const M=e[k*t+R],N=a[T*o+_]*d[Math.abs(M-S)];x+=M*N,p+=N}}const w=m[b]=Math.round(x/p);v[w]++}return[m,v]},Rx=new WeakSet,vB=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},kg=new WeakSet,zE=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){if(e[(a<<2)+3]===0){i=r[a]=255;continue}const d=r[a]=e[a<<2];d>i&&(i=d),d<s&&(s=d)}const o=255/(i-s);for(let a=0;a<t;a++)r[a]=(r[a]-s)*o;return r},Ig=new WeakSet,UE=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-o>i&&(i=t-o,a=t-1),r=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},Mx=new WeakSet,wB=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=u(this,ql);let o=r,a=i;if(r>s||i>s){let f=r,m=i,v=Math.log2(Math.max(r,i)/s);const g=Math.floor(v);v=v===g?g-1:g;for(let b=0;b<v;b++){o=Math.ceil(f/2),a=Math.ceil(m/2);const S=new OffscreenCanvas(o,a);S.getContext("2d").drawImage(e,0,0,f,m,0,0,o,a),f=o,m=a,e!==t&&e.close(),e=S.transferToImageBitmap()}const A=Math.min(s/o,s/a);o=Math.round(o*A),a=Math.round(a*A)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const d=c.getImageData(0,0,o,a).data;return[I(this,kg,zE).call(this,d),o,a]},C(dt,Tg),C(dt,Px),C(dt,kx),C(dt,Pg),C(dt,Wd),C(dt,Ix),C(dt,_x),C(dt,Rx),C(dt,kg),C(dt,Ig),C(dt,Mx),C(dt,ql,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),C(dt,Vr,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class lP extends lB{constructor(){super(),super.updateProperties({fill:Oe._defaultLineColor,"stroke-width":0})}clone(){const e=new lP;return e.updateAll(this),e}}class cP extends Db{constructor(e){super(e),super.updateProperties({stroke:Oe._defaultLineColor,"stroke-width":1})}clone(){const e=new cP(this._viewParameters);return e.updateAll(this),e}}var _o,wi,Ro,Ql;const _n=class _n extends zw{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});C(this,_o,!1);C(this,wi,null);C(this,Ro,null);C(this,Ql,null);this._willKeepAspectRatio=!0,P(this,Ro,t.signatureData||null),P(this,wi,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Oe.initialize(t,r),this._defaultDrawingOptions=new lP,this._defaultDrawnSignatureOptions=new cP(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return ye(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,wi)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(u(this,Ro)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:d}=u(this,Ro),{rawDims:{pageWidth:h,pageHeight:f},rotation:m}=this.parent.viewport,v=dt.processDrawnLines({lines:s,pageWidth:h,pageHeight:f,rotation:m,innerMargin:_n._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(v,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){P(this,Ql,t),this.addEditToolbar()}getUuid(){return u(this,Ql)}get description(){return u(this,wi)}set description(t){P(this,wi,t),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:o}=u(this,Ro),a=Math.max(s,o),l=dt.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:o,y:a}=this,{outline:l}=P(this,Ro,t);P(this,_o,l instanceof VE),this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;u(this,_o)?c=_n.getDefaultDrawingOptions():(c=_n._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[d,h]=this.parentDimensions,[,f]=this.pageDimensions;let m=r/f;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(d*this.width,h*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return dt.process(t,r,i,s,_n._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return dt.extractContoursFromText(t,r,i,s,o,_n._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return dt.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:_n._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=_n.getDefaultDrawingOptions():(this._drawingOptions=_n._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:ae.SIGNATURE,isSignature:!0,areContours:u(this,_o),color:[0,0,0],thickness:u(this,_o)?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.paths={lines:r,points:i},a.uuid=u(this,Ql),a.isCopy=!0):a.lines=r,u(this,wi)&&(a.accessibilityData={type:"Figure",alt:u(this,wi)}),a}static deserializeDraw(t,r,i,s,o,a){return a.areContours?VE.deserialize(t,r,i,s,o,a):sy.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){var o;const s=await super.deserialize(t,r,i);return P(s,_o,t.areContours),P(s,wi,((o=t.accessibilityData)==null?void 0:o.alt)||""),P(s,Ql,t.uuid),s}};_o=new WeakMap,wi=new WeakMap,Ro=new WeakMap,Ql=new WeakMap,H(_n,"_type","signature"),H(_n,"_editorType",ae.SIGNATURE),H(_n,"_defaultDrawingOptions",null);let WE=_n;var Ue,Ct,Mo,gs,No,Gd,ys,Zl,xi,zn,Kd,Jl,wf,ec,xf,Yd,Hv,Xd,$v,qd,zv,_g,KE,Qd,Uv,Nx,xB;class GE extends Oe{constructor(t){super({...t,name:"stampEditor"});C(this,Jl);C(this,ec);C(this,Yd);C(this,Xd);C(this,qd);C(this,_g);C(this,Qd);C(this,Nx);C(this,Ue,null);C(this,Ct,null);C(this,Mo,null);C(this,gs,null);C(this,No,null);C(this,Gd,"");C(this,ys,null);C(this,Zl,!1);C(this,xi,null);C(this,zn,!1);C(this,Kd,!1);P(this,gs,t.bitmapUrl),P(this,No,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Oe.initialize(t,r)}static isHandlingMimeForPasting(t){return Bw.includes(t)}static paste(t,r){r.pasteEditor({mode:ae.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;u(this,Ct)&&(P(this,Ue,null),this._uiManager.imageManager.deleteId(u(this,Ct)),(t=u(this,ys))==null||t.remove(),P(this,ys,null),u(this,xi)&&(clearTimeout(u(this,xi)),P(this,xi,null))),super.remove()}rebuild(){if(!this.parent){u(this,Ct)&&I(this,Yd,Hv).call(this);return}super.rebuild(),this.div!==null&&(u(this,Ct)&&u(this,ys)===null&&I(this,Yd,Hv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,Mo)||u(this,Ue)||u(this,gs)||u(this,No)||u(this,Ct)||u(this,Zl))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),u(this,Zl)||(u(this,Ue)?I(this,Xd,$v).call(this):I(this,Yd,Hv).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(P(this,Ct,i),s&&P(this,Ue,s),P(this,Zl,!1),I(this,Xd,$v).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,xi)!==null&&clearTimeout(u(this,xi)),P(this,xi,setTimeout(()=>{P(this,xi,null),I(this,_g,KE).call(this)},200))}copyCanvas(t,r,i=!1){var m;t||(t=224);const{width:s,height:o}=u(this,Ue),a=new Zr;let l=u(this,Ue),c=s,d=o,h=null;if(r){if(s>r||o>r){const _=Math.min(r/s,r/o);c=Math.floor(s*_),d=Math.floor(o*_)}h=document.createElement("canvas");const v=h.width=Math.ceil(c*a.sx),g=h.height=Math.ceil(d*a.sy);u(this,zn)||(l=I(this,qd,zv).call(this,v,g));const A=h.getContext("2d");A.filter=this._uiManager.hcmFilter;let b="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",S="#42414d");const x=15,p=x*a.sx,w=x*a.sy,T=new OffscreenCanvas(p*2,w*2),k=T.getContext("2d");k.fillStyle=b,k.fillRect(0,0,p*2,w*2),k.fillStyle=S,k.fillRect(0,0,p,w),k.fillRect(p,w,p,w),A.fillStyle=A.createPattern(T,"repeat"),A.fillRect(0,0,v,g),A.drawImage(l,0,0,l.width,l.height,0,0,v,g)}let f=null;if(i){let v,g;if(a.symmetric&&l.width<t&&l.height<t)v=l.width,g=l.height;else if(l=u(this,Ue),s>t||o>t){const S=Math.min(t/s,t/o);v=Math.floor(s*S),g=Math.floor(o*S),u(this,zn)||(l=I(this,qd,zv).call(this,v,g))}const b=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,v,g),f={width:v,height:g,data:b.getImageData(0,0,v,g).data}}return{canvas:h,width:c,height:d,imageData:f}}static async deserialize(t,r,i){var A;let s=null,o=!1;if(t instanceof DF){const{data:{rect:b,rotation:S,id:x,structParent:p,popupRef:w},container:T,parent:{page:{pageNumber:k}},canvas:_}=t;let R,M;_?(delete t.canvas,{id:R,bitmap:M}=i.imageManager.getFromCanvas(T.id,_),_.remove()):(o=!0,t._hasNoCanvas=!0);const N=((A=await r._structTree.getAriaAttributes(`${ZT}${x}`))==null?void 0:A.get("aria-label"))||"";s=t={annotationType:ae.STAMP,bitmapId:R,bitmap:M,pageIndex:k-1,rect:b.slice(0),rotation:S,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:N},isSvg:!1,structParent:p,popupRef:w}}const a=await super.deserialize(t,r,i),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:m}=t;o?(i.addMissingCanvas(t.id,a),P(a,Zl,!0)):h&&i.imageManager.isValidId(h)?(P(a,Ct,h),c&&P(a,Ue,c)):P(a,gs,d),P(a,zn,f);const[v,g]=a.pageDimensions;return a.width=(l[2]-l[0])/v,a.height=(l[3]-l[1])/g,m&&(a.altTextData=m),a._initialData=s,P(a,Kd,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:ae.STAMP,bitmapId:u(this,Ct),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,zn),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=I(this,Qd,Uv).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=I(this,Nx,xB).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=u(this,zn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(u(this,Ct)))r.stamps.set(u(this,Ct),{area:a,serialized:i}),i.bitmap=I(this,Qd,Uv).call(this,!1);else if(u(this,zn)){const l=r.stamps.get(u(this,Ct));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=I(this,Qd,Uv).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}Ue=new WeakMap,Ct=new WeakMap,Mo=new WeakMap,gs=new WeakMap,No=new WeakMap,Gd=new WeakMap,ys=new WeakMap,Zl=new WeakMap,xi=new WeakMap,zn=new WeakMap,Kd=new WeakMap,Jl=new WeakSet,wf=function(t,r=!1){if(!t){this.remove();return}P(this,Ue,t.bitmap),r||(P(this,Ct,t.id),P(this,zn,t.isSvg)),t.file&&P(this,Gd,t.file.name),I(this,Xd,$v).call(this)},ec=new WeakSet,xf=function(){if(P(this,Mo,null),this._uiManager.enableWaiting(!1),!!u(this,ys)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Ue)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Ue)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Yd=new WeakSet,Hv=function(){if(u(this,Ct)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Ct)).then(i=>I(this,Jl,wf).call(this,i,!0)).finally(()=>I(this,ec,xf).call(this));return}if(u(this,gs)){const i=u(this,gs);P(this,gs,null),this._uiManager.enableWaiting(!0),P(this,Mo,this._uiManager.imageManager.getFromUrl(i).then(s=>I(this,Jl,wf).call(this,s)).finally(()=>I(this,ec,xf).call(this)));return}if(u(this,No)){const i=u(this,No);P(this,No,null),this._uiManager.enableWaiting(!0),P(this,Mo,this._uiManager.imageManager.getFromFile(i).then(s=>I(this,Jl,wf).call(this,s)).finally(()=>I(this,ec,xf).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Bw.join(",");const r=this._uiManager._signal;P(this,Mo,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),I(this,Jl,wf).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>I(this,ec,xf).call(this))),t.click()},Xd=new WeakSet,$v=function(){var h;const{div:t}=this;let{width:r,height:i}=u(this,Ue);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const f=Math.min(a*s/r,a*o/i);r*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const d=P(this,ys,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=r/s,this.height=i/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),I(this,_g,KE).call(this),u(this,Kd)||(this.parent.addUndoableEditor(this),P(this,Kd,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Gd)&&this.div.setAttribute("aria-description",u(this,Gd)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},qd=new WeakSet,zv=function(t,r){const{width:i,height:s}=u(this,Ue);let o=i,a=s,l=u(this,Ue);for(;o>2*t||a>2*r;){const c=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,d,0,0,o,a),l=h.transferToImageBitmap()}return l},_g=new WeakSet,KE=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,o=new Zr,a=Math.ceil(i*t*o.sx),l=Math.ceil(s*r*o.sy),c=u(this,ys);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const d=u(this,zn)?u(this,Ue):I(this,qd,zv).call(this,a,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,l)},Qd=new WeakSet,Uv=function(t){if(t){if(u(this,zn)){const s=this._uiManager.imageManager.getSvgUrl(u(this,Ct));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,Ue),r.getContext("2d").drawImage(u(this,Ue),0,0),r.toDataURL()}if(u(this,zn)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Ns.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ns.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(u(this,Ue),0,0,u(this,Ue).width,u(this,Ue).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(u(this,Ue))},Nx=new WeakSet,xB=function(t){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},H(GE,"_type","stamp"),H(GE,"_editorType",ae.STAMP);var tc,Zd,bi,Lo,vs,Un,Do,Jd,nc,Hr,ws,Tt,xs,Oo,eh,ee,jo,Lx,bB,pr,ni,Rg,YE,Mg,XE,th,Wv;const Pr=class Pr{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:d}){C(this,Lx);C(this,pr);C(this,Rg);C(this,Mg);C(this,th);C(this,tc,void 0);C(this,Zd,!1);C(this,bi,null);C(this,Lo,null);C(this,vs,null);C(this,Un,new Map);C(this,Do,!1);C(this,Jd,!1);C(this,nc,!1);C(this,Hr,null);C(this,ws,null);C(this,Tt,null);C(this,xs,null);C(this,Oo,null);C(this,eh,-1);C(this,ee,void 0);const h=[...u(Pr,jo).values()];if(!Pr._initialized){Pr._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),P(this,ee,e),this.pageIndex=t,this.div=r,P(this,tc,s),P(this,bi,o),this.viewport=c,P(this,Tt,l),this.drawLayer=a,this._structTree=i,u(this,ee).addLayer(this)}get isEmpty(){return u(this,Un).size===0}get isInvisible(){return this.isEmpty&&u(this,ee).getMode()===ae.NONE}updateToolbar(e){u(this,ee).updateToolbar(e)}updateMode(e=u(this,ee).getMode()){switch(I(this,th,Wv).call(this),e){case ae.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of u(Pr,jo).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Tt))==null?void 0:t.div)}setEditingState(e){u(this,ee).setEditingState(e)}addCommands(e){u(this,ee).addCommands(e)}cleanUndoStack(e){u(this,ee).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,bi))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;P(this,nc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(r=u(this,Oo))==null||r.abort(),P(this,Oo,null);const e=new Set;for(const i of u(this,Un).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(u(this,ee).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!u(this,bi)){P(this,nc,!1);return}const t=u(this,bi).getEditableAnnotations();for(const i of t){if(i.hide(),u(this,ee).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}P(this,nc,!1)}disable(){var i;if(P(this,Jd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),u(this,Tt)&&!u(this,Oo)){P(this,Oo,new AbortController);const s=u(this,ee).combinedSignal(u(this,Oo));u(this,Tt).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:c,timeStamp:d}=o,h=u(this,eh);if(d-h>500){P(this,eh,d);return}P(this,eh,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const m=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const g=new RegExp(`^${dj}[0-9]+$`);for(const b of m)if(g.test(b.id)){v=b.id;break}if(!v)return;const A=u(this,Un).get(v);(A==null?void 0:A.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),A.dblclick())},{signal:s,capture:!0})}const e=new Map,t=new Map;for(const s of u(this,Un).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(u(this,bi)){const s=u(this,bi).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(u(this,ee).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(u(this,ee).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}I(this,th,Wv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of u(Pr,jo).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),P(this,Jd,!1)}getEditableAnnotation(e){var t;return((t=u(this,bi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,ee).getActive()!==e&&u(this,ee).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Tt))!=null&&e.div&&!u(this,xs)){P(this,xs,new AbortController);const t=u(this,ee).combinedSignal(u(this,xs));u(this,Tt).div.addEventListener("pointerdown",I(this,Lx,bB).bind(this),{signal:t}),u(this,Tt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Tt))!=null&&e.div&&u(this,xs)&&(u(this,xs).abort(),P(this,xs,null),u(this,Tt).div.classList.remove("highlighting"))}enableClick(){if(u(this,Lo))return;P(this,Lo,new AbortController);const e=u(this,ee).combinedSignal(u(this,Lo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,Lo))==null||e.abort(),P(this,Lo,null)}attach(e){u(this,Un).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,ee).isDeletedAnnotationElement(t)&&u(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,Un).delete(e.id),(t=u(this,tc))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Jd)&&e.annotationElementId&&u(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,ee).addDeletedAnnotationElement(e.annotationElementId),Oe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,nc)),u(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,vs)&&(e._focusEventsAllowed=!1,P(this,vs,setTimeout(()=>{P(this,vs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(r=u(this,tc))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return u(this,ee).getId()}combinedSignal(e){return u(this,ee).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,pr,ni))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await u(this,ee).updateMode(e.mode);const{offsetX:r,offsetY:i}=I(this,Mg,XE).call(this),s=this.getNextId(),o=I(this,Rg,YE).call(this,{parent:this,id:s,x:r,y:i,uiManager:u(this,ee),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=u(Pr,jo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,ee)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=I(this,Rg,YE).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,ee),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(e={}){this.createAndAddNewEditor(I(this,Mg,XE).call(this),!0,e)}setSelected(e){u(this,ee).setSelected(e)}toggleSelected(e){u(this,ee).toggleSelected(e)}unselect(e){u(this,ee).unselect(e)}pointerup(e){var i;const{isMac:t}=Rt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!u(this,Do)||(P(this,Do,!1),(i=u(this,pr,ni))!=null&&i.isDrawer&&u(this,pr,ni).supportMultipleDrawings))return;if(!u(this,Zd)){P(this,Zd,!0);return}const r=u(this,ee).getMode();if(r===ae.STAMP||r===ae.SIGNATURE){u(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(u(this,ee).getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),u(this,Do)){P(this,Do,!1);return}const{isMac:t}=Rt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(P(this,Do,!0),(i=u(this,pr,ni))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=u(this,ee).getActive();P(this,Zd,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),u(this,Hr)){u(this,pr,ni).startDrawing(this,u(this,ee),!1,e);return}u(this,ee).setCurrentDrawingSession(this),P(this,Hr,new AbortController);const t=u(this,ee).combinedSignal(u(this,Hr));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(P(this,ws,null),this.commitOrRemove())},{signal:t}),u(this,pr,ni).startDrawing(this,u(this,ee),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&P(this,ws,t);return}u(this,ws)&&setTimeout(()=>{var t;(t=u(this,ws))==null||t.focus(),P(this,ws,null)},0)}endDrawingSession(e=!1){return u(this,Hr)?(u(this,ee).setCurrentDrawingSession(null),u(this,Hr).abort(),P(this,Hr,null),P(this,ws,null),u(this,pr,ni).endDrawing(e)):null}findNewParent(e,t,r){const i=u(this,ee).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return u(this,Hr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,Hr)&&u(this,pr,ni).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,ee).getActive())==null?void 0:e.parent)===this&&(u(this,ee).commitOrRemove(),u(this,ee).setActiveEditor(null)),u(this,vs)&&(clearTimeout(u(this,vs)),P(this,vs,null));for(const r of u(this,Un).values())(t=u(this,tc))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,Un).clear(),u(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,sa(this.div,e);for(const t of u(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,ee).commitOrRemove(),I(this,th,Wv).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,sa(this.div,{rotation:r}),t!==r)for(const i of u(this,Un).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,ee).viewParameters.realScale}};tc=new WeakMap,Zd=new WeakMap,bi=new WeakMap,Lo=new WeakMap,vs=new WeakMap,Un=new WeakMap,Do=new WeakMap,Jd=new WeakMap,nc=new WeakMap,Hr=new WeakMap,ws=new WeakMap,Tt=new WeakMap,xs=new WeakMap,Oo=new WeakMap,eh=new WeakMap,ee=new WeakMap,jo=new WeakMap,Lx=new WeakSet,bB=function(e){u(this,ee).unselectAll();const{target:t}=e;if(t===u(this,Tt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Tt).div.contains(t)){const{isMac:r}=Rt.platform;if(e.button!==0||e.ctrlKey&&r)return;u(this,ee).showAllEditors("highlight",!0,!0),u(this,Tt).div.classList.add("free"),this.toggleDrawing(),$w.startHighlighting(this,u(this,ee).direction==="ltr",{target:u(this,Tt).div,x:e.x,y:e.y}),u(this,Tt).div.addEventListener("pointerup",()=>{u(this,Tt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,ee)._signal}),e.preventDefault()}},pr=new WeakSet,ni=function(){return u(Pr,jo).get(u(this,ee).getMode())},Rg=new WeakSet,YE=function(e){const t=u(this,pr,ni);return t?new t.prototype.constructor(e):null},Mg=new WeakSet,XE=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:f}},th=new WeakSet,Wv=function(){for(const e of u(this,Un).values())e.isEmpty()&&e.remove()},H(Pr,"_initialized",!1),C(Pr,jo,new Map([TE,BE,GE,$w,WE].map(e=>[e._editorType,e])));let Uw=Pr;var $r,cn,rc,Ng,Dx,SB,Lg,qE,Ox,AB,Dg,QE;const pt=class pt{constructor({pageIndex:e}){C(this,Lg);C(this,Ox);C(this,Dg);C(this,$r,null);C(this,cn,new Map);C(this,rc,new Map);this.pageIndex=e}setParent(e){if(!u(this,$r)){P(this,$r,e);return}if(u(this,$r)!==e){if(u(this,cn).size>0)for(const t of u(this,cn).values())t.remove(),e.append(t);P(this,$r,e)}}static get _svgFactory(){return ye(this,"_svgFactory",new gp)}draw(e,t=!1,r=!1){const i=rn(pt,Ng)._++,s=I(this,Lg,qE).call(this),o=pt._svgFactory.createElement("defs");s.append(o);const a=pt._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,rc).set(i,a);const c=r?I(this,Ox,AB).call(this,o,l):null,d=pt._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),u(this,cn).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=rn(pt,Ng)._++,i=I(this,Lg,qE).call(this),s=pt._svgFactory.createElement("defs");i.append(s);const o=pt._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=pt._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=pt._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const m=pt._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${a}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const c=pt._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),u(this,cn).set(r,i),r}finalizeDraw(e,t){u(this,rc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:o}=t,a=typeof e=="number"?u(this,cn).get(e):e;if(a){if(r&&I(this,Dg,QE).call(this,a,r),i&&I(l=pt,Dx,SB).call(l,a,i),s){const{classList:c}=a;for(const[d,h]of Object.entries(s))c.toggle(d,h)}if(o){const d=a.firstChild.firstChild;I(this,Dg,QE).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const r=u(this,cn).get(e);r&&(u(t,$r).append(r),u(this,cn).delete(e),u(t,cn).set(e,r))}remove(e){u(this,rc).delete(e),u(this,$r)!==null&&(u(this,cn).get(e).remove(),u(this,cn).delete(e))}destroy(){P(this,$r,null);for(const e of u(this,cn).values())e.remove();u(this,cn).clear(),u(this,rc).clear()}};$r=new WeakMap,cn=new WeakMap,rc=new WeakMap,Ng=new WeakMap,Dx=new WeakSet,SB=function(e,[t,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Lg=new WeakSet,qE=function(){const e=pt._svgFactory.create(1,1,!0);return u(this,$r).append(e),e.setAttribute("aria-hidden",!0),e},Ox=new WeakSet,AB=function(e,t){const r=pt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=pt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},Dg=new WeakSet,QE=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},C(pt,Dx),C(pt,Ng,0);let Ww=pt;globalThis._pdfjsTestingUtils={HighlightOutliner:kE};globalThis.pdfjsLib={AbortException:Ms,AnnotationEditorLayer:Uw,AnnotationEditorParamsType:be,AnnotationEditorType:ae,AnnotationEditorUIManager:oa,AnnotationLayer:aP,AnnotationMode:Ei,AnnotationType:rt,build:AF,ColorPicker:yp,createValidAbsoluteUrl:XT,DOMSVGFactory:gp,DrawLayer:Ww,FeatureTest:Rt,fetchData:Ih,getDocument:rP,getFilenameFromUrl:yj,getPdfFilenameFromUrl:vj,getUuid:QT,getXfaPageViewport:wj,GlobalWorkerOptions:yr,ImageKind:Of,InvalidPDFException:Fw,isDataScheme:ny,isPdfFile:Mb,isValidExplicitDest:Jj,MathClamp:Zt,noContextMenu:Ar,normalizeUnicode:mj,OPS:dp,OutputScale:Zr,PasswordResponses:fj,PDFDataRangeTransport:iP,PDFDateString:Nb,PDFWorker:gh,PermissionFlag:hj,PixelsPerInch:Ns,RenderingCancelledException:Rb,ResponseException:hp,setLayerDimensions:sa,shadow:ye,SignatureExtractor:dt,stopEvent:ot,SupportedImageMimeTypes:Bw,TextLayer:pp,TouchManager:fp,updateUrlHash:qT,Util:ne,VerbosityLevel:Jg,version:SF,XfaLayer:sP};const gq=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ms,AnnotationEditorLayer:Uw,AnnotationEditorParamsType:be,AnnotationEditorType:ae,AnnotationEditorUIManager:oa,AnnotationLayer:aP,AnnotationMode:Ei,AnnotationType:rt,ColorPicker:yp,DOMSVGFactory:gp,DrawLayer:Ww,FeatureTest:Rt,GlobalWorkerOptions:yr,ImageKind:Of,InvalidPDFException:Fw,MathClamp:Zt,OPS:dp,OutputScale:Zr,PDFDataRangeTransport:iP,PDFDateString:Nb,PDFWorker:gh,PasswordResponses:fj,PermissionFlag:hj,PixelsPerInch:Ns,RenderingCancelledException:Rb,ResponseException:hp,SignatureExtractor:dt,SupportedImageMimeTypes:Bw,TextLayer:pp,TouchManager:fp,Util:ne,VerbosityLevel:Jg,XfaLayer:sP,build:AF,createValidAbsoluteUrl:XT,fetchData:Ih,getDocument:rP,getFilenameFromUrl:yj,getPdfFilenameFromUrl:vj,getUuid:QT,getXfaPageViewport:wj,isDataScheme:ny,isPdfFile:Mb,isValidExplicitDest:Jj,noContextMenu:Ar,normalizeUnicode:mj,setLayerDimensions:sa,shadow:ye,stopEvent:ot,updateUrlHash:qT,version:SF},Symbol.toStringTag,{value:"Module"}));var K_=Object.prototype.hasOwnProperty;function Y_(n,e,t){for(t of n.keys())if(bu(t,e))return t}function bu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&bu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=Y_(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=Y_(e,i),!i)||!bu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(K_.call(n,t)&&++r&&!K_.call(e,t)||!(t in e)||!bu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function oy(n){let e=!1;return{promise:new Promise((r,i)=>{n.then(s=>!e&&r(s)).catch(s=>!e&&i(s))}),cancel(){e=!0}}}const yq=["onCopy","onCut","onPaste"],vq=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],wq=["onFocus","onBlur"],xq=["onInput","onInvalid","onReset","onSubmit"],bq=["onLoad","onError"],Sq=["onKeyDown","onKeyPress","onKeyUp"],Aq=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Eq=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Cq=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Tq=["onSelect"],Pq=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],kq=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Iq=["onScroll"],_q=["onWheel"],Rq=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Mq=["onTransitionEnd"],Nq=["onToggle"],Lq=["onChange"],Dq=[...yq,...vq,...wq,...xq,...bq,...Sq,...Aq,...Eq,...Cq,...Tq,...Pq,...kq,...Iq,..._q,...Rq,...Mq,...Lq,...Nq];function EB(n,e){const t={};for(const r of Dq){const i=n[r];i&&(e?t[r]=s=>i(s,e(r)):t[r]=i)}return t}var Oq=!0,r1="Invariant failed";function Ne(n,e){if(!n){if(Oq)throw new Error(r1);var t=typeof e=="function"?e():e,r=t?"".concat(r1,": ").concat(t):r1;throw new Error(r)}}var jq=function(){},Fq=jq;const en=vh(Fq),Bq=E.createContext(null),CB=Bq,Vq="noopener noreferrer nofollow";class Hq{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ne(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){Ne(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ne(this.pdfDocument,"PDF document not loaded."),Ne(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ne(Array.isArray(t),`"${t}" is not a valid destination array.`);const r=t[0];new Promise(i=>{Ne(this.pdfDocument,"PDF document not loaded."),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Ne(!1,`"${r}" is not a valid page reference.`)}):typeof r=="number"?i(r):Ne(!1,`"${r}" is not a valid destination reference.`)}).then(i=>{const s=i+1;Ne(this.pdfViewer,"PDF viewer is not initialized."),Ne(s>=1&&s<=this.pagesCount,`"${s}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ne(this.pdfViewer,"PDF viewer is not initialized."),Ne(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||Vq,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Su({children:n,type:e}){return y.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const $q={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},X_=$q;function zq(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function yh(){return E.useReducer(zq,{value:void 0,error:void 0})}const Ob=typeof window<"u",TB=Ob&&window.location.protocol==="file:";function Uq(n){return typeof n<"u"}function va(n){return Uq(n)&&n!==null}function Wq(n){return typeof n=="string"}function Gq(n){return n instanceof ArrayBuffer}function Kq(n){return Ne(Ob,"isBlob can only be used in a browser environment"),n instanceof Blob}function ZE(n){return Wq(n)&&/^data:/.test(n)}function q_(n){Ne(ZE(n),"Invalid data URI.");const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Yq(){return Ob&&window.devicePixelRatio||1}const PB="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Q_(){en(!TB,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${PB}`)}function Xq(){en(!TB,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${PB}`)}function xc(n){n!=null&&n.cancel&&n.cancel()}function JE(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function qq(n){return n.name==="RenderingCancelledException"}function Qq(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:Zq}=gq,Jq=(n,e)=>{switch(e){case X_.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case X_.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function Z_(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const eQ=E.forwardRef(function({children:e,className:t,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:s,file:o,inputRef:a,imageResourcesPath:l,loading:c="Loading PDF",noData:d="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:m,onLoadSuccess:v,onPassword:g=Jq,onSourceError:A,onSourceSuccess:b,options:S,renderMode:x,rotate:p,scale:w,...T},k){const[_,R]=yh(),{value:M,error:N}=_,[j,V]=yh(),{value:L,error:$}=j,D=E.useRef(new Hq),B=E.useRef([]),O=E.useRef(void 0),F=E.useRef(void 0);o&&o!==O.current&&Z_(o)&&(en(!bu(o,O.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),O.current=o),S&&S!==F.current&&(en(!bu(S,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=S);const U=E.useRef({scrollPageIntoView:oe=>{const{dest:Se,pageNumber:je,pageIndex:He=je-1}=oe;if(h){h({dest:Se,pageIndex:He,pageNumber:je});return}const nr=B.current[He];if(nr){nr.scrollIntoView();return}en(!1,`An internal link leading to page ${je} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});E.useImperativeHandle(k,()=>({linkService:D,pages:B,viewer:U}),[]);function W(){b&&b()}function K(){N&&(en(!1,N.toString()),A&&A(N))}function Z(){R({type:"RESET"})}E.useEffect(Z,[o,R]);const de=E.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return ZE(o)?{data:q_(o)}:(Q_(),{url:o});if(o instanceof Zq)return{range:o};if(Gq(o))return{data:o};if(Ob&&Kq(o))return{data:await Qq(o)};if(Ne(typeof o=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),Ne(Z_(o),"Invalid parameter object: need either .data, .range or .url"),"url"in o&&typeof o.url=="string"){if(ZE(o.url)){const{url:oe,...Se}=o;return{data:q_(oe),...Se}}Q_()}return o},[o]);E.useEffect(()=>{const oe=oy(de());return oe.promise.then(Se=>{R({type:"RESOLVE",value:Se})}).catch(Se=>{R({type:"REJECT",error:Se})}),()=>{xc(oe)}},[de,R]),E.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){K();return}W()}},[M]);function Pe(){L&&(v&&v(L),B.current=new Array(L.numPages),D.current.setDocument(L))}function ce(){$&&(en(!1,$.toString()),f&&f($))}E.useEffect(function(){V({type:"RESET"})},[V,M]),E.useEffect(function(){if(!M)return;const Se=S?{...M,...S}:M,je=rP(Se);m&&(je.onProgress=m),g&&(je.onPassword=g);const He=je,nr=He.promise.then(ga=>{V({type:"RESOLVE",value:ga})}).catch(ga=>{He.destroyed||V({type:"REJECT",error:ga})});return()=>{nr.finally(()=>He.destroy())}},[S,V,M]),E.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){ce();return}Pe()}},[L]),E.useEffect(function(){D.current.setViewer(U.current),D.current.setExternalLinkRel(i),D.current.setExternalLinkTarget(s)},[i,s]);const G=E.useCallback((oe,Se)=>{B.current[oe]=Se},[]),he=E.useCallback(oe=>{delete B.current[oe]},[]),ue=E.useMemo(()=>({imageResourcesPath:l,linkService:D.current,onItemClick:h,pdf:L,registerPage:G,renderMode:x,rotate:p,scale:w,unregisterPage:he}),[l,h,L,G,x,p,w,he]),te=E.useMemo(()=>EB(T,()=>L),[T,L]);function se(){function oe(je){return!!(je!=null&&je.pdf)}if(!oe(ue))throw new Error("pdf is undefined");const Se=typeof e=="function"?e(ue):e;return y.jsx(CB.Provider,{value:ue,children:Se})}function me(){return o?L==null?y.jsx(Su,{type:"loading",children:typeof c=="function"?c():c}):L===!1?y.jsx(Su,{type:"error",children:typeof r=="function"?r():r}):se():y.jsx(Su,{type:"no-data",children:typeof d=="function"?d():d})}return y.jsx("div",{className:Ah("react-pdf__Document",t),ref:a,...te,children:me()})}),tQ=eQ;function kB(){return E.useContext(CB)}function IB(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){for(var o=0,a=t;o<a.length;o++){var l=a[o];typeof l=="function"?l(s):l&&(l.current=s)}}}const nQ=E.createContext(null),_B=nQ;function jb(){return E.useContext(_B)}function rQ(){const n=kB(),e=jb();Ne(e,"Unable to find Page context.");const t={...n,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:d,renderForms:h,rotate:f,scale:m=1}=t;Ne(d,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),Ne(c,"Attempted to load page annotations, but no page was specified."),Ne(i,"Attempted to load page annotations, but no linkService was specified.");const[v,g]=yh(),{value:A,error:b}=v,S=E.useRef(null);en(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){A&&o&&o(A)}function p(){b&&(en(!1,b.toString()),s&&s(b))}E.useEffect(function(){g({type:"RESET"})},[g,c]),E.useEffect(function(){if(!c)return;const R=oy(c.getAnnotations()),M=R;return R.promise.then(N=>{g({type:"RESOLVE",value:N})}).catch(N=>{g({type:"REJECT",error:N})}),()=>{xc(M)}},[g,c]),E.useEffect(()=>{if(A!==void 0){if(A===!1){p();return}x()}},[A]);function w(){l&&l()}function T(_){en(!1,`${_}`),a&&a(_)}const k=E.useMemo(()=>c.getViewport({scale:m,rotation:f}),[c,f,m]);return E.useEffect(function(){if(!d||!c||!i||!A)return;const{current:R}=S;if(!R)return;const M=k.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:R,l10n:null,page:c,structTreeLayer:null,viewport:M},j={annotations:A,annotationStorage:d.annotationStorage,div:R,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:M};R.innerHTML="";try{new aP(N).render(j),w()}catch(V){T(V)}return()=>{}},[A,r,i,c,d,h,k]),y.jsx("div",{className:Ah("react-pdf__Page__annotations","annotationLayer"),ref:S})}const RB={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},iQ=/^H(\d+)$/;function sQ(n){return n in RB}function Fb(n){return"children"in n}function MB(n){return Fb(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function oQ(n){const e={};if(Fb(n)){const{role:t}=n,r=t.match(iQ);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(sQ(t)){const i=RB[t];i&&(e.role=i)}}return e}function NB(n){const e={};if(Fb(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),MB(n)){const[t]=n.children;if(t){const r=NB(t);return{...e,...r}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function aQ(n){return n?{...oQ(n),...NB(n)}:null}function LB({className:n,node:e}){const t=E.useMemo(()=>aQ(e),[e]),r=E.useMemo(()=>!Fb(e)||MB(e)?null:e.children.map((i,s)=>y.jsx(LB,{node:i},s)),[e]);return y.jsx("span",{className:n,...t,children:r})}function lQ(){const n=jb();Ne(n,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=yh(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function d(){o&&(en(!1,o.toString()),e&&e(o))}return E.useEffect(function(){i({type:"RESET"})},[i,l]),E.useEffect(function(){if(a||!l)return;const f=oy(l.getStructTree()),m=f;return f.promise.then(v=>{i({type:"RESOLVE",value:v})}).catch(v=>{i({type:"REJECT",error:v})}),()=>xc(m)},[a,l,i]),E.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}c()}},[s]),s?y.jsx(LB,{className:"react-pdf__Page__structTree structTree",node:s}):null}const J_=Ei;function cQ(n){const e=jb();Ne(e,"Unable to find Page context.");const t={...e,...n},{_className:r,canvasBackground:i,devicePixelRatio:s=Yq(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:m}=n;Ne(l,"Attempted to render page canvas, but no page was specified.");const v=E.useRef(null);function g(){l&&a&&a(JE(l,f))}function A(p){qq(p)||(en(!1,p.toString()),o&&o(p))}const b=E.useMemo(()=>l.getViewport({scale:f*s,rotation:h}),[s,l,h,f]),S=E.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);E.useEffect(function(){if(!l)return;l.cleanup();const{current:w}=v;if(!w)return;w.width=b.width,w.height=b.height,w.style.width=`${Math.floor(S.width)}px`,w.style.height=`${Math.floor(S.height)}px`,w.style.visibility="hidden";const T={annotationMode:c?J_.ENABLE_FORMS:J_.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:b};i&&(T.background=i);const k=l.render(T),_=k;return k.promise.then(()=>{w.style.visibility="",g()}).catch(A),()=>xc(_)},[i,l,c,b,S]);const x=E.useCallback(()=>{const{current:p}=v;p&&(p.width=0,p.height=0)},[]);return E.useEffect(()=>x,[x]),y.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:IB(m,v),style:{display:"block",userSelect:"none"},children:d?y.jsx(lQ,{}):null})}function uQ(n){return"str"in n}function dQ(){const n=jb();Ne(n,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:d}=n;Ne(o,"Attempted to load page text content, but no page was specified.");const[h,f]=yh(),{value:m,error:v}=h,g=E.useRef(null);en(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){m&&r&&r(m)}function b(){v&&(en(!1,v.toString()),t&&t(v))}E.useEffect(function(){f({type:"RESET"})},[o,f]),E.useEffect(function(){if(!o)return;const _=oy(o.getTextContent()),R=_;return _.promise.then(M=>{f({type:"RESOLVE",value:M})}).catch(M=>{f({type:"REJECT",error:M})}),()=>xc(R)},[o,f]),E.useEffect(()=>{if(m!==void 0){if(m===!1){b();return}A()}},[m]);const S=E.useCallback(()=>{s&&s()},[s]),x=E.useCallback(k=>{en(!1,k.toString()),i&&i(k)},[i]);function p(){const k=g.current;k&&k.classList.add("selecting")}function w(){const k=g.current;k&&k.classList.remove("selecting")}const T=E.useMemo(()=>o.getViewport({scale:d,rotation:c}),[o,c,d]);return E.useLayoutEffect(function(){if(!o||!m)return;const{current:_}=g;if(!_)return;_.innerHTML="";const R=o.streamTextContent({includeMarkedContent:!0}),M={container:_,textContentSource:R,viewport:T},N=new pp(M),j=N;return N.render().then(()=>{const V=document.createElement("div");V.className="endOfContent",_.append(V);const L=_.querySelectorAll('[role="presentation"]');if(e){let $=0;m.items.forEach((D,B)=>{if(!uQ(D))return;const O=L[$];if(!O)return;const F=e({pageIndex:a,pageNumber:l,itemIndex:B,...D});O.innerHTML=F,$+=D.str&&D.hasEOL?2:1})}S()}).catch(x),()=>xc(j)},[e,x,S,o,a,l,m,T]),y.jsx("div",{className:Ah("react-pdf__Page__textContent","textLayer"),onMouseUp:w,onMouseDown:p,ref:g})}const eR=1;function hQ(n){const t={...kB(),...n},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:m,inputRef:v,loading:g="Loading page",noData:A="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:S,onGetStructTreeError:x,onGetStructTreeSuccess:p,onGetTextError:w,onGetTextSuccess:T,onLoadError:k,onLoadSuccess:_,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:M,onRenderError:N,onRenderSuccess:j,onRenderTextLayerError:V,onRenderTextLayerSuccess:L,pageIndex:$,pageNumber:D,pdf:B,registerPage:O,renderAnnotationLayer:F=!0,renderForms:U=!1,renderMode:W="canvas",renderTextLayer:K=!0,rotate:Z,scale:de=eR,unregisterPage:Pe,width:ce,...G}=t,[he,ue]=yh(),{value:te,error:se}=he,me=E.useRef(null);Ne(B,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const oe=va(D)?D-1:$??null,Se=D??(va($)?$+1:null),je=Z??(te?te.rotate:null),He=E.useMemo(()=>{if(!te)return null;let js=1;const Rc=de??eR;if(ce||m){const Fs=te.getViewport({scale:1,rotation:je});ce?js=ce/Fs.width:m&&(js=m/Fs.height)}return Rc*js},[m,te,je,de,ce]);E.useEffect(function(){return()=>{va(oe)&&i&&Pe&&Pe(oe)}},[i,B,oe,Pe]);function nr(){if(_){if(!te||!He)return;_(JE(te,He))}if(i&&O){if(!va(oe)||!me.current)return;O(oe,me.current)}}function ga(){se&&(en(!1,se.toString()),k&&k(se))}E.useEffect(function(){ue({type:"RESET"})},[ue,B,oe]),E.useEffect(function(){if(!B||!Se)return;const Rc=oy(B.getPage(Se)),Fs=Rc;return Rc.promise.then(Vb=>{ue({type:"RESOLVE",value:Vb})}).catch(Vb=>{ue({type:"REJECT",error:Vb})}),()=>xc(Fs)},[ue,B,Se]),E.useEffect(()=>{if(te!==void 0){if(te===!1){ga();return}nr()}},[te,He]);const Os=E.useMemo(()=>va(oe)&&Se&&va(je)&&va(He)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:S,onGetStructTreeError:x,onGetStructTreeSuccess:p,onGetTextError:w,onGetTextSuccess:T,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:M,onRenderError:N,onRenderSuccess:j,onRenderTextLayerError:V,onRenderTextLayerSuccess:L,page:te,pageIndex:oe,pageNumber:Se,renderForms:U,renderTextLayer:K,rotate:je,scale:He}:null,[r,s,d,h,b,S,x,p,w,T,R,M,N,j,V,L,te,oe,Se,U,K,je,He]),sV=E.useMemo(()=>EB(G,()=>te&&(He?JE(te,He):void 0)),[G,te,He]),ly=`${oe}@${He}/${je}`;function oV(){switch(W){case"custom":return Ne(c,'renderMode was set to "custom", but no customRenderer was passed.'),y.jsx(c,{},`${ly}_custom`);case"none":return null;case"canvas":default:return y.jsx(cQ,{canvasRef:o},`${ly}_canvas`)}}function aV(){return K?y.jsx(dQ,{},`${ly}_text`):null}function lV(){return F?y.jsx(rQ,{},`${ly}_annotations`):null}function cV(){function js(Fs){return!!(Fs!=null&&Fs.page)}if(!js(Os))throw new Error("page is undefined");const Rc=typeof a=="function"?a(Os):a;return y.jsxs(_B.Provider,{value:Os,children:[oV(),aV(),lV(),Rc]})}function uV(){return Se?B===null||te===void 0||te===null?y.jsx(Su,{type:"loading",children:typeof g=="function"?g():g}):B===!1||te===!1?y.jsx(Su,{type:"error",children:typeof f=="function"?f():f}):cV():y.jsx(Su,{type:"no-data",children:typeof A=="function"?A():A})}return y.jsx("div",{className:Ah(r,l),"data-page-number":Se,ref:IB(v,me),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${He}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...sV,children:uV()})}Xq();yr.workerSrc="pdf.worker.mjs";var eC={exports:{}};(function(n,e){(function(t,r){r(e)})(pV,function(t){class r{constructor(p,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=p}setDensity(p){this.createdDensity=p,this.nowDrawingDensity=p}setDrawingDensity(p){this.nowDrawingDensity=p}setPosition(p){this.state.position=p}setAngle(p){this.state.angle=p}setArea(p){this.state.area=p}setHardDrawingAngle(p){this.state.hardDrawingAngle=p}setHardAngle(p){this.state.hardAngle=p,this.state.hardDrawingAngle=p}setOrientation(p){this.orientation=p}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(p,w,T){super(p,T),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(p){const w=this.render.getContext(),T=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,_=this.render.getRect().height;w.save(),w.translate(T.x,T.y),w.beginPath();for(let R of this.state.area)R!==null&&(R=this.render.convertToGlobal(R),w.lineTo(R.x-T.x,R.y-T.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,k,_):this.drawLoader(w,{x:0,y:0},k,_),w.restore()}simpleDraw(p){const w=this.render.getRect(),T=this.render.getContext(),k=w.pageWidth,_=w.height,R=p===1?w.left+w.pageWidth:w.left,M=w.top;this.isLoad?T.drawImage(this.image,R,M,k,_):this.drawLoader(T,{x:R,y:M},k,_)}drawLoader(p,w,T,k){p.beginPath(),p.strokeStyle="rgb(200, 200, 200)",p.fillStyle="rgb(255, 255, 255)",p.lineWidth=1,p.rect(w.x+1,w.y+1,T-1,k-1),p.stroke(),p.fill();const _={x:w.x+T/2,y:w.y+k/2};p.beginPath(),p.lineWidth=10,p.arc(_.x,_.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),p.stroke(),p.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(p,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=p,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let p=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([p]),p++);for(let w=p;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(p){const w=this.getSpread();for(let T=0;T<w.length;T++)if(p===w[T][0]||p===w[T][1])return T;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(p){if(p>=0&&p<this.pages.length)return this.pages[p];throw new Error("Invalid page number")}nextBy(p){const w=this.pages.indexOf(p);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(p){const w=this.pages.indexOf(p);return w>0?this.pages[w-1]:null}getFlippingPage(p){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return p===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const T=p===0?this.getSpread()[w+1]:this.getSpread()[w-1];return T.length===1||p===0?this.pages[T[0]]:this.pages[T[1]]}}getBottomPage(p){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return p===0?this.pages[w+1]:this.pages[w-1];{const T=p===0?this.getSpread()[w+1]:this.getSpread()[w-1];return T.length===1?this.pages[T[0]]:p===0?this.pages[T[1]]:this.pages[T[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(p=null){if(p===null&&(p=this.currentPageIndex),p<0||p>=this.pages.length)return;const w=this.getSpreadIndexByPage(p);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(p){if(!(p>=0&&p<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=p}showSpread(){const p=this.getSpread()[this.currentSpreadIndex];p.length===2?(this.render.setLeftPage(this.pages[p[0]]),this.render.setRightPage(this.pages[p[1]])):this.render.getOrientation()==="landscape"&&p[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[p[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[p[0]])),this.currentPageIndex=p[0],this.app.updatePageIndex(this.currentPageIndex)}}class o extends s{constructor(p,w,T){super(p,w),this.imagesHref=T}load(){for(const p of this.imagesHref){const w=new i(this.render,p,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class a{static GetDistanceBetweenTwoPoint(p,w){return p===null||w===null?1/0:Math.sqrt(Math.pow(w.x-p.x,2)+Math.pow(w.y-p.y,2))}static GetSegmentLength(p){return a.GetDistanceBetweenTwoPoint(p[0],p[1])}static GetAngleBetweenTwoLine(p,w){const T=p[0].y-p[1].y,k=w[0].y-w[1].y,_=p[1].x-p[0].x,R=w[1].x-w[0].x;return Math.acos((T*k+_*R)/(Math.sqrt(T*T+_*_)*Math.sqrt(k*k+R*R)))}static PointInRect(p,w){return w===null?null:w.x>=p.left&&w.x<=p.width+p.left&&w.y>=p.top&&w.y<=p.top+p.height?w:null}static GetRotatedPoint(p,w,T){return{x:p.x*Math.cos(T)+p.y*Math.sin(T)+w.x,y:p.y*Math.cos(T)-p.x*Math.sin(T)+w.y}}static LimitPointToCircle(p,w,T){if(a.GetDistanceBetweenTwoPoint(p,T)<=w)return T;const k=p.x,_=p.y,R=T.x,M=T.y;let N=Math.sqrt(Math.pow(w,2)*Math.pow(k-R,2)/(Math.pow(k-R,2)+Math.pow(_-M,2)))+k;T.x<0&&(N*=-1);let j=(N-k)*(_-M)/(k-R)+_;return k-R+_===0&&(j=w),{x:N,y:j}}static GetIntersectBetweenTwoSegment(p,w,T){return a.PointInRect(p,a.GetIntersectBeetwenTwoLine(w,T))}static GetIntersectBeetwenTwoLine(p,w){const T=p[0].y-p[1].y,k=w[0].y-w[1].y,_=p[1].x-p[0].x,R=w[1].x-w[0].x,M=p[0].x*p[1].y-p[1].x*p[0].y,N=w[0].x*w[1].y-w[1].x*w[0].y,j=T*N-k*M,V=_*N-R*M,L=-(M*R-N*_)/(T*R-k*_),$=-(T*N-k*M)/(T*R-k*_);if(isFinite(L)&&isFinite($))return{x:L,y:$};if(Math.abs(j-V)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(p,w){const T=Math.abs(p.x-w.x),k=Math.abs(p.y-w.y),_=Math.max(T,k),R=[p];function M(N,j,V,L,$){return j>N?N+$*(V/L):j<N?N-$*(V/L):N}for(let N=1;N<=_;N+=1)R.push({x:M(p.x,w.x,T,_,N),y:M(p.y,w.y,k,_,N)});return R}}class l extends r{constructor(p,w,T){super(p,T),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+T)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new l(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(p){const w=p||this.nowDrawingDensity,T=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,_=this.render.getRect().height;this.element.classList.remove("--simple");const R=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${k}px;
            height: ${_}px;
        `;w==="hard"?this.drawHard(R):this.drawSoft(T,R)}drawHard(p=""){const w=this.render.getRect().left+this.render.getRect().width/2,T=this.state.hardDrawingAngle,k=p+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${T}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${T}deg);`);this.element.style.cssText=k}drawSoft(p,w=""){let T="polygon( ";for(const _ of this.state.area)if(_!==null){let R=this.render.getDirection()===1?{x:-_.x+this.state.position.x,y:_.y-this.state.position.y}:{x:_.x-this.state.position.x,y:_.y-this.state.position.y};R=a.GetRotatedPoint(R,{x:0,y:0},this.state.angle),T+=R.x+"px "+R.y+"px, "}T=T.slice(0,-2),T+=")";const k=w+`transform-origin: 0 0; clip-path: ${T}; -webkit-clip-path: ${T};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${p.x}px, ${p.y}px);`:`transform: translate3d(${p.x}px, ${p.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=k}simpleDraw(p){const w=this.render.getRect(),T=w.pageWidth,k=w.height,_=p===1?w.left+w.pageWidth:w.left,R=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${k}px; 
            left: ${_}px; 
            top: ${R}px; 
            width: ${T}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(p){super.setOrientation(p),this.element.classList.remove("--left","--right"),this.element.classList.add(p===1?"--right":"--left")}setDrawingDensity(p){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+p),super.setDrawingDensity(p)}}class c extends s{constructor(p,w,T,k){super(p,w),this.element=T,this.pagesElement=k}load(){for(const p of this.pagesElement){const w=new l(this.render,p,p.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class d{constructor(p,w,T,k){this.direction=p,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(T,10),this.pageHeight=parseInt(k,10)}calc(p){try{return this.position=this.calcAngleAndPosition(p),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const p=[];let w=!1;return p.push(this.rect.topLeft),p.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(p.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),p.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&p.push(this.rect.bottomLeft),p}getBottomClipArea(){const p=[];return p.push(this.topIntersectPoint),this.corner==="top"?p.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&p.push({x:this.pageWidth,y:0}),p.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?a.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&p.push(this.sideIntersectPoint):this.corner==="top"&&p.push({x:this.pageWidth,y:this.pageHeight}),p.push(this.bottomIntersectPoint),p.push(this.topIntersectPoint),p}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const p=a.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?p:Math.PI-p}calcAngleAndPosition(p){let w=p;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(p){this.angle=this.calculateAngle(p),this.rect=this.getPageRect(p)}calculateAngle(p){const w=this.pageWidth-p.x+1,T=this.corner==="bottom"?this.pageHeight-p.y:p.y;let k=2*Math.acos(w/Math.sqrt(T*T+w*w));T<0&&(k=-k);const _=Math.PI-k;if(!isFinite(k)||_>=0&&_<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(k=-k),k}getPageRect(p){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],p):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],p)}getRectFromBasePoint(p,w){return{topLeft:this.getRotatedPoint(p[0],w),topRight:this.getRotatedPoint(p[1],w),bottomLeft:this.getRotatedPoint(p[2],w),bottomRight:this.getRotatedPoint(p[3],w)}}getRotatedPoint(p,w){return{x:p.x*Math.cos(this.angle)+p.y*Math.sin(this.angle)+w.x,y:p.y*Math.cos(this.angle)-p.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(p){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[p,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[p,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[p,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(p,w,T){let k=p;const _=a.LimitPointToCircle(w,this.pageWidth,k);k!==_&&(k=_,this.updateAngleAndGeometry(k));const R=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let M=this.rect.bottomRight,N=this.rect.topLeft;if(this.corner==="bottom"&&(M=this.rect.topRight,N=this.rect.bottomLeft),M.x<=0){const j=a.LimitPointToCircle(T,R,N);j!==k&&(k=j,this.updateAngleAndGeometry(k))}return k}getSegmentToShadowLine(){const p=this.getShadowStartPoint();return[p,p!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class h{constructor(p,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=p,this.app=w}fold(p){this.setState("user_fold"),this.calc===null&&this.start(p),this.do(this.render.convertToPage(p))}flip(p){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(p)||(this.calc!==null&&this.render.finishAnimation(),!this.start(p)))return;const w=this.getBoundsRect();this.setState("flipping");const T=w.height/10,k=this.calc.getCorner()==="bottom"?w.height-T:T,_=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-T,y:k}),this.animateFlippingTo({x:w.pageWidth-T,y:k},{x:-w.pageWidth,y:_},!0)}start(p){this.reset();const w=this.render.convertToBook(p),T=this.getBoundsRect(),k=this.getDirectionByPoint(w),_=w.y>=T.height/2?"bottom":"top";if(!this.checkDirection(k))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(k),this.bottomPage=this.app.getPageCollection().getBottomPage(k),this.render.getOrientation()==="landscape")if(k===1){const R=this.app.getPageCollection().nextBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}else{const R=this.app.getPageCollection().prevBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}return this.render.setDirection(k),this.calc=new d(k,_,T.pageWidth.toString(10),T.height.toString(10)),!0}catch{return!1}}do(p){if(this.calc!==null&&this.calc.calc(p)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(p,w){const T=this.app.getPageCollection().getCurrentSpreadIndex(),k=this.app.getPageCollection().getSpreadIndexByPage(p);try{k>T&&(this.app.getPageCollection().setCurrentSpreadIndex(k-1),this.flipNext(w)),k<T&&(this.app.getPageCollection().setCurrentSpreadIndex(k+1),this.flipPrev(w))}catch{}}flipNext(p){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:p==="top"?1:this.render.getRect().height-2})}flipPrev(p){this.flip({x:10,y:p==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const p=this.calc.getPosition(),w=this.getBoundsRect(),T=this.calc.getCorner()==="bottom"?w.height:0;p.x<=0?this.animateFlippingTo(p,{x:-w.pageWidth,y:T},!0):this.animateFlippingTo(p,{x:w.pageWidth,y:T},!1)}showCorner(p){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),T=w.pageWidth;if(this.isPointOnCorners(p))if(this.calc===null){if(!this.start(p))return;this.setState("fold_corner"),this.calc.calc({x:T-1,y:1});const k=50,_=this.calc.getCorner()==="bottom"?w.height-1:1,R=this.calc.getCorner()==="bottom"?w.height-k:k;this.animateFlippingTo({x:T-1,y:_},{x:T-k,y:R},!1,!1)}else this.do(this.render.convertToPage(p));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(p,w,T,k=!0){const _=a.GetCordsFromTwoPoint(p,w),R=[];for(const N of _)R.push(()=>this.do(N));const M=this.getAnimationDuration(_.length);this.render.startAnimation(R,M,()=>{this.calc&&(T&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),k&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(p){this.state!==p&&(this.app.updateState(p),this.state=p)}getDirectionByPoint(p){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(p.x-w.pageWidth<=w.width/5)return 1}else if(p.x<w.width/2)return 1;return 0}getAnimationDuration(p){const w=this.app.getSettings().flippingTime;return p>=1e3?w:p/1e3*w}checkDirection(p){return p===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...p){for(const w of p)if(this.state===w)return!0;return!1}isPointOnCorners(p){const w=this.getBoundsRect(),T=w.pageWidth,k=Math.sqrt(Math.pow(T,2)+Math.pow(w.height,2))/5,_=this.render.convertToBook(p);return _.x>0&&_.y>0&&_.x<w.width&&_.y<w.height&&(_.x<k||_.x>w.width-k)&&(_.y<k||_.y>w.height-k)}}class f{constructor(p,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=p;const T=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=T.exec(window.navigator.userAgent)!==null}render(p){if(this.animation!==null){const w=Math.round((p-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=p,this.drawFrame()}start(){this.update();const p=w=>{this.render(w),requestAnimationFrame(p)};requestAnimationFrame(p)}startAnimation(p,w,T){this.finishAnimation(),this.animation={frames:p,duration:w,durationFrame:w/p.length,onAnimateEnd:T,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const p=this.calculateBoundsRect();this.orientation!==p&&(this.orientation=p,this.app.updateOrientation(p))}calculateBoundsRect(){let p="landscape";const w=this.getBlockWidth(),T=w/2,k=this.getBlockHeight()/2,_=this.setting.width/this.setting.height;let R=this.setting.width,M=this.setting.height,N=T-R;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(p="portrait"),R=p==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,R>this.setting.maxWidth&&(R=this.setting.maxWidth),M=R/_,M>this.getBlockHeight()&&(M=this.getBlockHeight(),R=M*_),N=p==="portrait"?T-R/2-R:T-R):w<2*R&&this.app.getSettings().usePortrait&&(p="portrait",N=T-R/2-R),this.boundsRect={left:N,top:k-M/2,width:2*R,height:M,pageWidth:R},p}setShadowData(p,w,T,k){if(!this.app.getSettings().drawShadow)return;const _=100*this.getSettings().maxShadowOpacity;this.shadow={pos:p,angle:w,width:3*this.getRect().pageWidth/4*T/100,opacity:(100-T)*_/100/100,direction:k,progress:2*T}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(p){this.pageRect=p}setDirection(p){this.direction=p}setRightPage(p){p!==null&&p.setOrientation(1),this.rightPage=p}setLeftPage(p){p!==null&&p.setOrientation(0),this.leftPage=p}setBottomPage(p){p!==null&&p.setOrientation(this.direction===1?0:1),this.bottomPage=p}setFlippingPage(p){p!==null&&p.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=p}convertToBook(p){const w=this.getRect();return{x:p.x-w.left,y:p.y-w.top}}isSafari(){return this.safari}convertToPage(p,w){w||(w=this.direction);const T=this.getRect();return{x:w===0?p.x-T.left-T.width/2:T.width/2-p.x+T.left,y:p.y-T.top}}convertToGlobal(p,w){if(w||(w=this.direction),p==null)return null;const T=this.getRect();return{x:w===0?p.x+T.left+T.width/2:T.width/2-p.x+T.left,y:p.y+T.top}}convertRectToGlobal(p,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(p.topLeft,w),topRight:this.convertToGlobal(p.topRight,w),bottomLeft:this.convertToGlobal(p.bottomLeft,w),bottomRight:this.convertToGlobal(p.bottomRight,w)}}}class m extends f{constructor(p,w,T){super(p,w),this.canvas=T,this.ctx=T.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const p=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(p.left+p.pageWidth,p.top,p.width,p.height),this.ctx.clip())}drawBookShadow(){const p=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=p.width/20;this.ctx.rect(p.left,p.top,p.width,p.height);const T={x:p.left+p.width/2-w/2,y:0};this.ctx.translate(T.x,T.y);const k=this.ctx.createLinearGradient(0,0,w,0);k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),k.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),k.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),k.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),k.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,w,2*p.height),this.ctx.restore()}drawOuterShadow(){const p=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(p.left,p.top,p.width,p.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),T.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),T.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,this.shadow.width,2*p.height),this.ctx.restore()}drawInnerShadow(){const p=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(T.topLeft.x,T.topLeft.y),this.ctx.lineTo(T.topRight.x,T.topRight.y),this.ctx.lineTo(T.bottomRight.x,T.bottomRight.y),this.ctx.lineTo(T.bottomLeft.x,T.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const k=3*this.shadow.width/4,_=this.ctx.createLinearGradient(0,0,k,0);this.shadow.direction===0?(this.ctx.translate(-k,-100),_.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),_.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,k,2*p.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class v{constructor(p,w,T){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=_=>{if(this.checkTarget(_.target)){const R=this.getMousePos(_.clientX,_.clientY);this.app.startUserTouch(R),_.preventDefault()}},this.onTouchStart=_=>{if(this.checkTarget(_.target)&&_.changedTouches.length>0){const R=_.changedTouches[0],M=this.getMousePos(R.clientX,R.clientY);this.touchPoint={point:M,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(M)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||_.preventDefault()}},this.onMouseUp=_=>{const R=this.getMousePos(_.clientX,_.clientY);this.app.userStop(R)},this.onMouseMove=_=>{const R=this.getMousePos(_.clientX,_.clientY);this.app.userMove(R,!1)},this.onTouchMove=_=>{if(_.changedTouches.length>0){const R=_.changedTouches[0],M=this.getMousePos(R.clientX,R.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-M.x)>10||this.app.getState()!=="read")&&_.cancelable&&this.app.userMove(M,!0),this.app.getState()!=="read"&&_.preventDefault()):this.app.userMove(M,!0)}},this.onTouchEnd=_=>{if(_.changedTouches.length>0){const R=_.changedTouches[0],M=this.getMousePos(R.clientX,R.clientY);let N=!1;if(this.touchPoint!==null){const j=M.x-this.touchPoint.point.x,V=Math.abs(M.y-this.touchPoint.point.y);Math.abs(j)>this.swipeDistance&&V<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(j>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),N=!0),this.touchPoint=null}this.app.userStop(M,N)}},this.parentElement=p,p.classList.add("stf__parent"),p.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=p.querySelector(".stf__wrapper"),this.app=w;const k=this.app.getSettings().usePortrait?1:2;p.style.minWidth=T.minWidth*k+"px",p.style.minHeight=T.minHeight+"px",T.size==="fixed"&&(p.style.minWidth=T.width*k+"px",p.style.minHeight=T.height+"px"),T.autoSize&&(p.style.width="100%",p.style.maxWidth=2*T.maxWidth+"px"),p.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=T.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(p){this.wrapper.classList.remove("--portrait","--landscape"),p==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(p,w){const T=this.distElement.getBoundingClientRect();return{x:p-T.left,y:w-T.top}}checkTarget(p){return!this.app.getSettings().clickEventForward||!["a","button"].includes(p.tagName.toLowerCase())}}class g extends v{constructor(p,w,T,k){super(p,w,T),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=p.querySelector(".stf__block"),this.items=k;for(const _ of k)this.distElement.appendChild(_);this.setHandlers()}clear(){for(const p of this.items)this.parentElement.appendChild(p)}updateItems(p){this.removeHandlers(),this.distElement.innerHTML="";for(const w of p)this.distElement.appendChild(w);this.items=p,this.setHandlers()}update(){this.app.getRender().update()}}class A extends v{constructor(p,w,T){super(p,w,T),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=p.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const p=getComputedStyle(this.canvas),w=parseInt(p.getPropertyValue("width"),10),T=parseInt(p.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=T}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class b extends f{constructor(p,w,T){super(p,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=T,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const p=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let T=(100-w)*(2.5*p.pageWidth)/100+20;T>p.pageWidth&&(T=p.pageWidth);let k=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${T}px;
            height: ${p.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${p.left+p.width/2}px;
            transform-origin: 0 0;
        `;k+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=k}drawHardOuterShadow(){const p=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*p.pageWidth)/100+20;w>p.pageWidth&&(w=p.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${p.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${p.left+p.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=T}drawInnerShadow(){const p=this.getRect(),w=3*this.shadow.width/4,T=this.getDirection()===0?w:0,k=this.getDirection()===0?"to left":"to right",_=this.convertToGlobal(this.shadow.pos),R=this.shadow.angle+3*Math.PI/2,M=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let N="polygon( ";for(const V of M){let L=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};L=a.GetRotatedPoint(L,{x:T,y:100},R),N+=L.x+"px "+L.y+"px, "}N=N.slice(0,-2),N+=")";const j=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*p.height}px;
            background: linear-gradient(${k},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${T}px 100px;
            transform: translate3d(${_.x-T}px, ${_.y-100}px, 0) rotate(${R}rad);
            clip-path: ${N};
            -webkit-clip-path: ${N};
        `;this.innerShadow.style.cssText=j}drawOuterShadow(){const p=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.shadow.angle+3*Math.PI/2,k=this.getDirection()===1?this.shadow.width:0,_=this.getDirection()===0?"to right":"to left",R=[{x:0,y:0},{x:p.pageWidth,y:0},{x:p.pageWidth,y:p.height},{x:0,y:p.height}];let M="polygon( ";for(const j of R)if(j!==null){let V=this.getDirection()===1?{x:-j.x+this.shadow.pos.x,y:j.y-this.shadow.pos.y}:{x:j.x-this.shadow.pos.x,y:j.y-this.shadow.pos.y};V=a.GetRotatedPoint(V,{x:k,y:100},T),M+=V.x+"px "+V.y+"px, "}M=M.slice(0,-2),M+=")";const N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*p.height}px;
            background: linear-gradient(${_}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${k}px 100px;
            transform: translate3d(${w.x-k}px, ${w.y-100}px, 0) rotate(${T}rad);
            clip-path: ${M};
            -webkit-clip-path: ${M};
        `;this.outerShadow.style.cssText=N}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const p=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(p))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const p of this.app.getPageCollection().getPages())p!==this.leftPage&&p!==this.rightPage&&p!==this.flippingPage&&p!==this.bottomPage&&(p.getElement().style.cssText="display: none"),p.getTemporaryCopy()!==this.flippingPage&&p.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class S{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(p){const w=this._default;if(Object.assign(w,p),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(x,p){p===void 0&&(p={});var w=p.insertAt;if(x&&typeof document<"u"){var T=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",w==="top"&&T.firstChild?T.insertBefore(k,T.firstChild):T.appendChild(k),k.styleSheet?k.styleSheet.cssText=x:k.appendChild(document.createTextNode(x))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),t.PageFlip=class extends class{constructor(){this.events=new Map}on(x,p){return this.events.has(x)?this.events.get(x).push(p):this.events.set(x,[p]),this}off(x){this.events.delete(x)}trigger(x,p,w=null){if(this.events.has(x))for(const T of this.events.get(x))T({data:w,object:p})}}{constructor(x,p){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new S().getSettings(p),this.block=x}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(x){this.ui=new A(this.block,this,this.setting);const p=this.ui.getCanvas();this.render=new m(this,this.setting,p),this.flipController=new h(this.render,this),this.pages=new o(this,this.render,x),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(x){this.ui=new g(this.block,this,this.setting,x),this.render=new b(this,this.setting,this.ui.getDistElement()),this.flipController=new h(this.render,this),this.pages=new c(this,this.render,this.ui.getDistElement(),x),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(x){const p=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new o(this,this.render,x),this.pages.load(),this.pages.show(p),this.trigger("update",this,{page:p,mode:this.render.getOrientation()})}updateFromHtml(x){const p=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,this.ui.getDistElement(),x),this.pages.load(),this.ui.updateItems(x),this.render.reload(),this.pages.show(p),this.trigger("update",this,{page:p,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(x){this.pages.show(x)}flipNext(x="top"){this.flipController.flipNext(x)}flipPrev(x="top"){this.flipController.flipPrev(x)}flip(x,p="top"){this.flipController.flipToPage(x,p)}updateState(x){this.trigger("changeState",this,x)}updatePageIndex(x){this.trigger("flip",this,x)}updateOrientation(x){this.ui.setOrientationStyle(x),this.update(),this.trigger("changeOrientation",this,x)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(x){return this.pages.getPage(x)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(x){this.mousePosition=x,this.isUserTouch=!0,this.isUserMove=!1}userMove(x,p){this.isUserTouch||p||!this.setting.showPageCorners?this.isUserTouch&&a.GetDistanceBetweenTwoPoint(this.mousePosition,x)>5&&(this.isUserMove=!0,this.flipController.fold(x)):this.flipController.showCorner(x)}userStop(x,p=!1){this.isUserTouch&&(this.isUserTouch=!1,p||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(x)))}},Object.defineProperty(t,"__esModule",{value:!0})})})(eC,eC.exports);var fQ=eC.exports;const pQ=J.forwardRef((n,e)=>{const t=E.useRef(null),r=E.useRef([]),i=E.useRef(),[s,o]=E.useState([]);E.useImperativeHandle(e,()=>({pageFlip:()=>i.current}));const a=E.useCallback(()=>{i.current&&i.current.clear()},[]),l=E.useCallback(()=>{const c=i.current;c&&(c.off("flip"),c.off("changeOrientation"),c.off("changeState"),c.off("init"),c.off("update"))},[]);return E.useEffect(()=>{if(r.current=[],n.children){const c=J.Children.map(n.children,d=>J.cloneElement(d,{ref:h=>{h&&r.current.push(h)}}));(!n.renderOnlyPageLengthChange||s.length!==c.length)&&(c.length<s.length&&a(),o(c))}},[n.children]),E.useEffect(()=>{const c=()=>{const d=i.current;d&&(n.onFlip&&d.on("flip",h=>n.onFlip(h)),n.onChangeOrientation&&d.on("changeOrientation",h=>n.onChangeOrientation(h)),n.onChangeState&&d.on("changeState",h=>n.onChangeState(h)),n.onInit&&d.on("init",h=>n.onInit(h)),n.onUpdate&&d.on("update",h=>n.onUpdate(h)))};s.length>0&&r.current.length>0&&(l(),t.current&&!i.current&&(i.current=new fQ.PageFlip(t.current,n)),i.current.getFlipController()?i.current.updateFromHtml(r.current):i.current.loadFromHTML(r.current),c())},[s]),J.createElement("div",{ref:t,className:n.className,style:n.style},s)}),mQ=J.memo(pQ);yr.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/5.3.93/pdf.worker.min.mjs";const gQ=({pdfUrl:n})=>{const[e,t]=E.useState(null);return y.jsx("div",{className:"w-full overflow-x-auto flex justify-center px-4",children:y.jsx(tQ,{file:n,onLoadSuccess:({numPages:r})=>t(r),loading:y.jsx("p",{className:"text-muted-foreground text-center",children:"Loading PDF..."}),error:y.jsx("p",{className:"text-red-500 text-center",children:"Failed to load PDF file."}),children:e&&y.jsx(mQ,{width:350,height:500,size:"stretch",responsive:"true",minWidth:315,maxWidth:1e3,minHeight:400,maxHeight:800,drawShadow:!0,flippingTime:700,useMouseEvents:!0,className:"shadow-xl rounded-lg",children:Array.from({length:e},(r,i)=>y.jsx("div",{className:"page bg-white p-4",children:y.jsx(hQ,{pageNumber:i+1,width:350,renderTextLayer:!1,renderAnnotationLayer:!1})},i))})})})},yQ=n=>n?n.split(`
`).map((t,r)=>{let i=t;const s=/\*\*\*(.*?)\*\*\*/g;i=i.split(s).map((a,l)=>l%2===1?y.jsx("strong",{children:a},`b-${r}-${l}`):a);const o=/""(.*?)""/g;return i=i.flatMap((a,l)=>typeof a=="string"?a.split(o).map((c,d)=>d%2===1?y.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:c},`g-${r}-${l}-${d}`):c):a),y.jsx("p",{className:"mb-4",children:i},`p-${r}`)}):null,vQ=()=>{const{itemId:n}=p$(),e=CN(),{toast:t}=KT(),[r,i]=E.useState(null),[s,o]=E.useState(0),[a,l]=E.useState([]),[c,d]=E.useState(0),[h,f]=E.useState([]),[m,v]=E.useState(""),[g,A]=E.useState(""),[b,S]=E.useState(!1);E.useEffect(()=>{window.scrollTo(0,0);const k=KY(n);if(!k){e("/");return}if(i(k),k.type!=="PDF"&&k.content){const R=k.content.split(`
`),M=150,N=[];let j=[],V=0;R.forEach(L=>{const $=L.split(/\s+/);V+$.length>M&&(N.push(j.join(`
`)),j=[],V=0),j.push(L),V+=$.length}),j.length>0&&N.push(j.join(`
`)),l(N)}else l([]);const _=JSON.parse(localStorage.getItem(`comments_${n}`))||[];f(_),o(0)},[n,e]);const x=k=>{if(k.preventDefault(),!m.trim()||!g.trim()){t({title:"Incomplete Field",description:"Please enter your name and a comment.",variant:"destructive"});return}S(!0);const _={id:i7(),name:m,text:g,timestamp:new Date().toISOString()};setTimeout(()=>{const R=[...h,_];f(R),localStorage.setItem(`comments_${n}`,JSON.stringify(R)),A(""),S(!1),t({title:"Success!",description:"Your comment has been posted."})},500)},p=()=>{r&&r.type!=="PDF"&&s<a.length-1&&(d(1),o(s+1))},w=()=>{r&&r.type!=="PDF"&&s>0&&(d(-1),o(s-1))};if(!r)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] text-center",children:[y.jsx(FA,{children:y.jsx("title",{children:"Loading... | Kingdom Pages"})}),y.jsx(Df,{size:64,className:"text-primary mb-4 animate-pulse"}),y.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Loading Content..."}),y.jsx("p",{className:"text-muted-foreground",children:"Please wait while we fetch the material."}),y.jsx(It,{asChild:!0,variant:"link",className:"mt-4",children:y.jsx(Ht,{to:"/",children:"Back to Home"})})]});const T={initial:k=>({x:k>0?"100%":"-100%",opacity:0,scale:.9}),animate:{x:0,opacity:1,scale:1,transition:{type:"spring",stiffness:120,damping:20,duration:.5}},exit:k=>({x:k>0?"-100%":"100%",opacity:0,scale:.9,transition:{type:"spring",stiffness:120,damping:20,duration:.3}})};return y.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-lg leading-relaxed text-foreground/90 whitespace-pre-line max-w-none flex-grow pt-16",children:[y.jsxs(FA,{children:[y.jsxs("title",{children:[r.title," | Kingdom Pages"]}),y.jsx("meta",{name:"description",content:`Read "${r.title}" by ${r.author}. Part of the Kingdom Pages digital library.`}),y.jsx("meta",{property:"og:title",content:`${r.title} | Kingdom Pages`}),y.jsx("meta",{property:"og:description",content:`Read "${r.title}" by ${r.author}. Part of the Kingdom Pages digital library.`})]}),y.jsxs(oc,{className:"shadow-2xl overflow-hidden glassmorphism border-primary/20 relative z-10",children:[" ",y.jsx(ac,{className:"bg-gradient-to-br from-primary/10 via-secondary/10 to-green-400/10 p-6",children:y.jsxs(re.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[r.type==="PDF"?y.jsx(sD,{className:"h-8 w-8 text-red-500"}):y.jsx(Df,{className:"h-8 w-8 text-primary"}),y.jsx(lc,{className:"text-3xl md:text-4xl gradient-text mb-1",children:r.title})]}),y.jsxs(Zo,{className:"text-md text-muted-foreground ml-10",children:["By ",r.author," - ",r.type]})]})}),y.jsx(cc,{className:"p-0 md:p-0 min-h-[500px] md:min-h-[70vh] flex flex-col justify-between relative overflow-hidden",children:r.type==="PDF"&&r.pdfUrl?y.jsx(gQ,{pdfUrl:r.pdfUrl}):a.length>0?y.jsxs("div",{className:"p-6 md:p-8 flex-grow flex flex-col justify-between",children:[y.jsx(dh,{initial:!1,custom:c,mode:"wait",children:y.jsx(re.div,{custom:c,variants:T,initial:"initial",animate:"animate",exit:"exit",className:"text-lg leading-relaxed text-foreground/90 whitespace-pre-line max-w-none flex-grow",style:{perspective:"1000px"},children:yQ(a[s])},s)}),y.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-border/50",children:[y.jsxs(It,{onClick:w,disabled:s===0,variant:"outline",className:"group",children:[y.jsx(X4,{size:20,className:"mr-2 transition-transform duration-300 group-hover:-translate-x-1"})," Previous"]}),y.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",s+1," of ",a.length]}),y.jsxs(It,{onClick:p,disabled:s===a.length-1,variant:"outline",className:"group",children:["Next ",y.jsx(rD,{size:20,className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})]})]}):y.jsx("div",{className:"p-6 md:p-8 flex-grow flex items-center justify-center",children:y.jsx("p",{className:"text-muted-foreground text-xl",children:"Content not available for this item."})})})]}),y.jsxs(oc,{className:"mt-8 shadow-xl glassmorphism relative z-10",children:[" ",y.jsxs(ac,{children:[y.jsxs(lc,{className:"flex items-center gap-2 gradient-text",children:[y.jsx(cD,{})," Community Comments"]}),y.jsx(Zo,{})]}),y.jsx(cc,{children:y.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-4",children:h.length>0?h.map(k=>y.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-start space-x-3 bg-card p-4 rounded-lg border",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary flex-shrink-0",children:y.jsx(fG,{size:18})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("p",{className:"font-semibold text-foreground",children:k.name}),y.jsx("p",{className:"text-foreground/80",children:k.text}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(k.timestamp).toLocaleString()})]})]},k.id)):y.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Be the first to leave a comment!"})})}),y.jsx(UT,{children:y.jsxs("form",{onSubmit:x,className:"w-full space-y-4",children:[y.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"sm:col-span-1",children:[y.jsx(Wr,{htmlFor:"commenterName",children:"Your Name"}),y.jsx(yu,{id:"commenterName",value:m,onChange:k=>v(k.target.value),placeholder:"e.g., John D.",className:"bg-background/80"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx(Wr,{htmlFor:"newComment",children:"Your Comment"}),y.jsx(GT,{id:"newComment",value:g,onChange:k=>A(k.target.value),placeholder:"Share your thoughts...",className:"bg-background/80"})]})]}),y.jsx(It,{type:"submit",disabled:b,className:"w-full sm:w-auto bg-gradient-to-r from-primary to-secondary group",children:b?"Posting...":y.jsxs(y.Fragment,{children:["Post Comment ",y.jsx(uD,{size:16,className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]})})]}),y.jsxs(re.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"mt-8 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 relative z-10",children:[y.jsx(It,{asChild:!0,variant:"ghost",className:"group w-full sm:w-auto",children:y.jsxs(Ht,{to:"/library",children:[y.jsx(Df,{size:18,className:"mr-2 transition-transform duration-300 group-hover:rotate-[-5deg]"})," Back to Library"]})}),r.type==="PDF"&&r.pdfUrl&&y.jsx(It,{asChild:!0,variant:"outline",className:"group w-full sm:w-auto border-accent text-accent hover:bg-accent/10 hover:text-accent",children:y.jsxs("a",{href:r.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:["Open PDF in New Tab ",y.jsx(eG,{size:18,className:"ml-2 transition-transform duration-300 group-hover:scale-110"})]})}),y.jsx(It,{asChild:!0,variant:"ghost",className:"group w-full sm:w-auto",children:y.jsxs(Ht,{to:"/",children:[y.jsx(oD,{size:18,className:"mr-2 transition-transform duration-300 group-hover:scale-110"})," Go Home"]})})]})]})},wQ=()=>{const n={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return y.jsxs("div",{className:"space-y-16 relative",children:[y.jsx("div",{className:"creative-blob w-96 h-96 bg-primary/10 top-1/4 -right-48 animate-pulse"}),y.jsx("div",{className:"creative-blob w-72 h-72 bg-accent/10 bottom-1/4 -left-48"}),y.jsxs("section",{className:"text-center py-16 md:py-24 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-secondary/10 to-accent/10 -z-10"}),y.jsxs(re.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"container mx-auto px-4",children:[y.jsx(re.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200,damping:20},className:"inline-block p-4 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full text-primary mb-6",children:y.jsx(rG,{size:48,strokeWidth:1.5})}),y.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold mb-6 leading-tight",children:y.jsx("span",{className:"gradient-text",children:"A Step of Faith"})}),y.jsx("p",{className:"max-w-3xl mx-auto text-lg md:text-xl text-muted-foreground mb-10",children:y.jsx("em",{children:"I am ready to receive Jesus Christ as my Lord and Saviour, and start my walk of faith with Him."})})]}),y.jsxs(re.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.2},className:"max-w-4xl mx-auto glassmorphism p-8 md:p-12 rounded-2xl shadow-xl aurora-card",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-8",children:"The Steps of Salvation"}),y.jsxs("div",{className:"space-y-6 text-lg text-foreground/90 leading-relaxed",children:[y.jsx("p",{children:"The Bible teaches that salvation is a gift from God, offered freely to all who believe in His Son, Jesus Christ. It's not something we can earn through good works, but something we receive through faith shown in our confession."}),y.jsx("blockquote",{className:"border-l-4 border-primary pl-6 py-2 italic text-muted-foreground",children:'"9 If you declare with your mouth, Jesus is Lord, and believe in your heart that God raised him from the dead, you will be saved. 10 For it is with your heart that you believe and are justified, and it is with your mouth that you profess your faith and are saved." - Romans 10: 9 - 10'}),y.jsx("p",{children:"If you feel a stirring in your heart and wish to accept this precious gift, you can express your faith through saying the following Prayer. Prayer is a means of communicating to God. He knows your heart, and it's the attitude of your heart that He cares about."}),y.jsxs("div",{className:"p-6 bg-muted/50 rounded-lg",children:[y.jsx("h3",{className:"font-semibold text-xl mb-2 text-primary",children:"Prayer of Salvation"}),y.jsx("p",{className:"italic",children:`"O Lord God, I believe with all my heart in Jesus Christ, Son of the living God. I believe He died for me and God raised Him from the dead. I believe Hes alive today. I confess with my mouth that Jesus Christ is the Lord of my life from this day. Through Him and in His Name, I have eternal life; Im born again. Thank you Lord, for saving my soul! Im now a child of God. Hallelujah! "Congratulations! You are now a child of God. We want to send you ministry resources to help you grow as a Christian. We would like to have your contact details so we can send you a book titled 'Now that you are born-again."`})]}),y.jsx("strong",{children:y.jsx("center",{children:"Congratulations! You are now a child of God. Welcome to this great family!"})})]})]})]}),y.jsxs("section",{className:"container mx-auto px-4 py-2",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Your Next Steps"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsx(re.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.5},children:y.jsxs(oc,{className:"p-6 text-center glassmorphism-card h-full flex flex-col items-center justify-center",children:[y.jsxs(ac,{className:"p-0 mb-4",children:[y.jsx("div",{className:"bg-primary/10 p-3 rounded-full inline-flex items-center justify-center mb-4",children:y.jsx(kw,{className:"h-8 w-8 text-primary"})}),y.jsx(lc,{className:"text-2xl",children:'Read "Now That You Are Born Again"'})]}),y.jsx(cc,{className:"p-0 text-muted-foreground",children:y.jsxs(Zo,{children:["Learn about the step you just took in depth by reading this informative book ",y.jsx("em",{children:"Now That You Are Born Again"})," by ",y.jsx("strong",{children:" Rev Dr Chris Oyakhilome"}),". You can access it"," ",y.jsx("a",{href:"https://nowthatyouarebornagain.org",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:"here"}),"."]})})]})}),y.jsx(re.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.5},transition:{delay:.2},children:y.jsxs(oc,{className:"p-6 text-center glassmorphism-card h-full flex flex-col items-center justify-center",children:[y.jsxs(ac,{className:"p-0 mb-4",children:[y.jsx("div",{className:"bg-secondary/10 p-3 rounded-full inline-flex items-center justify-center mb-4",children:y.jsx(cD,{className:"h-8 w-8 text-secondary"})}),y.jsx(lc,{className:"text-2xl",children:"Let us know"})]}),y.jsx(cc,{className:"p-0 text-muted-foreground",children:y.jsxs(Zo,{children:["Send us an email on ",y.jsx("strong",{children:"admin@kingdompages.digital"})," or submit the form on our contact us page."]})})]})}),y.jsx(re.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.5},transition:{delay:.4},children:y.jsxs(oc,{className:"p-6 text-center glassmorphism-card h-full flex flex-col items-center justify-center",children:[y.jsxs(ac,{className:"p-0 mb-4",children:[y.jsx("div",{className:"bg-accent/10 p-3 rounded-full inline-flex items-center justify-center mb-4",children:y.jsx(vA,{className:"h-8 w-8 text-accent"})}),y.jsx(lc,{className:"text-2xl",children:"Find yourself connected to a church"})]}),y.jsx(cc,{className:"p-0 text-muted-foreground",children:y.jsxs(Zo,{children:["Connect with a Bible believing local church to grow in your faith and fellowship, we recommend finding any local ",y.jsx("strong",{children:"Christ Embassy church"})," aka Believers' Loveworld."]})})]})})]})]}),y.jsx("section",{className:"container mx-auto text-center py-16",children:y.jsxs(re.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.7},children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"We're Here For You"}),y.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-muted-foreground",children:"Making this decision is a monumental step. We would be honored to connect with you, pray for you, and help you find your next steps in this beautiful journey."}),y.jsx(It,{size:"lg",asChild:!0,className:"group bg-gradient-to-r from-primary to-secondary text-primary-foreground hover:opacity-90 transition-opacity text-base px-6 py-6 sm:px-8 sm:py-7",children:y.jsxs(Ht,{to:"/contact",children:["I've made a decision today",y.jsx(AT,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})})]})})]})},xQ=({children:n})=>{const[e,t]=E.useState(!1),r=Ds(),i=()=>t(!e);return y.jsxs("div",{className:"min-h-screen flex flex-col bg-background transition-colors duration-500",children:[y.jsxs("header",{className:"sticky top-0 z-50 shadow-lg solid-nav",children:[y.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between h-20",children:[y.jsxs(Ht,{to:"/",className:"flex items-center space-x-2",children:[y.jsx(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.2},children:y.jsx(Df,{className:"h-10 w-10 text-primary"})}),y.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Kingdom Pages"})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[navItems.map((s,o)=>y.jsx(re.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*o+.5},children:y.jsx(Ht,{to:s.path,onClick:()=>e&&i(),className:({isActive:a})=>`relative px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ease-in-out hover:text-primary transform hover:scale-105 ${a?"text-primary font-semibold":"text-muted-foreground"}`,children:({isActive:a})=>y.jsxs(y.Fragment,{children:[s.name,a&&y.jsx(re.div,{layoutId:"active-nav-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",initial:!1,transition:{type:"spring",stiffness:350,damping:30}})]})})},s.name)),y.jsx(re.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},className:"ml-4",children:y.jsx(Dw,{})})]}),y.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[y.jsx(Dw,{}),y.jsx(It,{variant:"ghost",size:"icon",onClick:i,"aria-label":"Open menu",children:e?y.jsx(ET,{className:"h-6 w-6"}):y.jsx(lD,{className:"h-6 w-6"})})]})]})}),y.jsx(dh,{children:e&&y.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card shadow-xl origin-top",children:y.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 max-h-[calc(100vh-5rem)] overflow-y-auto",children:navItems.map(s=>y.jsx(Ht,{to:s.path,onClick:i,className:({isActive:o})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${o?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted/50"}`,children:y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(s.icon,{className:"h-5 w-5"}),y.jsx("span",{children:s.name})]})},s.name))})})})]}),y.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-12 relative",children:y.jsx(dh,{mode:"wait",children:y.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n},r.pathname)})}),y.jsx("footer",{className:"bg-background/50 mt-12 py-12 text-center text-muted-foreground border-t",children:y.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[y.jsx("div",{className:"flex justify-center items-center space-x-2 mb-4",children:y.jsxs("span",{className:"text-sm",children:["Kingdom Pages  ",new Date().getFullYear()]})}),y.jsx("p",{className:"text-xs",children:"Inspiring faith through digital stories."}),y.jsx("div",{className:"mt-1 space-x-4",children:y.jsx(Ht,{to:"/terms-of-service",className:"hover:text-primary transition-colors",children:"Terms of Service"})})]})})]})},bQ=()=>y.jsxs(re.div,{className:"max-w-4xl mx-auto py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx("h1",{className:"text-4xl font-bold mb-6 gradient-text",children:"Terms of Service"}),y.jsxs("div",{className:"space-y-6 text-lg text-foreground/90 leading-relaxed",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Last Updated:"})," ",new Date().toLocaleDateString()]}),y.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"1. Agreement to Terms"}),y.jsx("p",{children:"By using our website, Kingdom Pages, you agree to be bound by these Terms of Service. If you do not agree to these Terms, do not use the website."}),y.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"2. Intellectual Property Rights"}),y.jsx("p",{children:"The Site and its original content, features, and functionality are owned by Kingdom Pages and are protected by international copyright, trademark, patent, trade secret, and other intellectual property or proprietary rights laws."}),y.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"3. User Representations"}),y.jsx("p",{children:"By using the Site, you represent and warrant that:"}),y.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[y.jsx("li",{children:"All information you submit will be true, accurate, current, and complete."}),y.jsx("li",{children:"You will maintain the accuracy of such information and promptly update such subscription information as necessary."}),y.jsx("li",{children:"You have the legal capacity and you agree to comply with these Terms of Service."})]}),y.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"4. Prohibited Activities"}),y.jsx("p",{children:"You may not access or use the Site for any purpose other than that for which we make the Site available. The Site may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us."})]})]});var uP="ToastProvider",[dP,SQ,AQ]=Kg("Toast"),[DB,nZ]=fa("Toast",[AQ]),[EQ,Bb]=DB(uP),OB=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=E.useState(null),[c,d]=E.useState(0),h=E.useRef(!1),f=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${uP}\`. Expected non-empty \`string\`.`),y.jsx(dP.Provider,{scope:e,children:y.jsx(EQ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>d(m=>m+1),[]),onToastRemove:E.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};OB.displayName=uP;var jB="ToastViewport",CQ=["F8"],tC="toast.viewportPause",nC="toast.viewportResume",FB=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=CQ,label:i="Notifications ({hotkey})",...s}=n,o=Bb(jB,t),a=SQ(t),l=E.useRef(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=Te(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;E.useEffect(()=>{const A=b=>{var x;r.length!==0&&r.every(p=>b[p]||b.code===p)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),E.useEffect(()=>{const A=l.current,b=h.current;if(v&&A&&b){const S=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(tC);b.dispatchEvent(T),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(nC);b.dispatchEvent(T),o.isClosePausedRef.current=!1}},p=T=>{!A.contains(T.relatedTarget)&&x()},w=()=>{A.contains(document.activeElement)||x()};return A.addEventListener("focusin",S),A.addEventListener("focusout",p),A.addEventListener("pointermove",S),A.addEventListener("pointerleave",w),window.addEventListener("blur",S),window.addEventListener("focus",x),()=>{A.removeEventListener("focusin",S),A.removeEventListener("focusout",p),A.removeEventListener("pointermove",S),A.removeEventListener("pointerleave",w),window.removeEventListener("blur",S),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=E.useCallback(({tabbingDirection:A})=>{const S=a().map(x=>{const p=x.ref.current,w=[p,...FQ(p)];return A==="forwards"?w:w.reverse()});return(A==="forwards"?S.reverse():S).flat()},[a]);return E.useEffect(()=>{const A=h.current;if(A){const b=S=>{var w,T,k;const x=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!x){const _=document.activeElement,R=S.shiftKey;if(S.target===A&&R){(w=c.current)==null||w.focus();return}const j=g({tabbingDirection:R?"backwards":"forwards"}),V=j.findIndex(L=>L===_);i1(j.slice(V+1))?S.preventDefault():R?(T=c.current)==null||T.focus():(k=d.current)==null||k.focus()}};return A.addEventListener("keydown",b),()=>A.removeEventListener("keydown",b)}},[a,g]),y.jsxs(_G,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&y.jsx(rC,{ref:c,onFocusFromOutsideViewport:()=>{const A=g({tabbingDirection:"forwards"});i1(A)}}),y.jsx(dP.Slot,{scope:t,children:y.jsx(fe.ol,{tabIndex:-1,...s,ref:f})}),v&&y.jsx(rC,{ref:d,onFocusFromOutsideViewport:()=>{const A=g({tabbingDirection:"backwards"});i1(A)}})]})});FB.displayName=jB;var BB="ToastFocusProxy",rC=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=Bb(BB,t);return y.jsx($T,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});rC.displayName=BB;var ay="Toast",TQ="toast.swipeStart",PQ="toast.swipeMove",kQ="toast.swipeCancel",IQ="toast.swipeEnd",VB=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=fh({prop:r,defaultProp:i??!0,onChange:s,caller:ay});return y.jsx(Th,{present:t||a,children:y.jsx(MQ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:In(n.onPause),onResume:In(n.onResume),onSwipeStart:X(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(n.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:X(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(n.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});VB.displayName=ay;var[_Q,RQ]=DB(ay,{onClose(){}}),MQ=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...v}=n,g=Bb(ay,t),[A,b]=E.useState(null),S=Te(e,L=>b(L)),x=E.useRef(null),p=E.useRef(null),w=i||g.duration,T=E.useRef(0),k=E.useRef(w),_=E.useRef(0),{onToastAdd:R,onToastRemove:M}=g,N=In(()=>{var $;(A==null?void 0:A.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),j=E.useCallback(L=>{!L||L===1/0||(window.clearTimeout(_.current),T.current=new Date().getTime(),_.current=window.setTimeout(N,L))},[N]);E.useEffect(()=>{const L=g.viewport;if(L){const $=()=>{j(k.current),c==null||c()},D=()=>{const B=new Date().getTime()-T.current;k.current=k.current-B,window.clearTimeout(_.current),l==null||l()};return L.addEventListener(tC,D),L.addEventListener(nC,$),()=>{L.removeEventListener(tC,D),L.removeEventListener(nC,$)}}},[g.viewport,w,l,c,j]),E.useEffect(()=>{s&&!g.isClosePausedRef.current&&j(w)},[s,w,g.isClosePausedRef,j]),E.useEffect(()=>(R(),()=>M()),[R,M]);const V=E.useMemo(()=>A?KB(A):null,[A]);return g.viewport?y.jsxs(y.Fragment,{children:[V&&y.jsx(NQ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:V}),y.jsx(_Q,{scope:t,onClose:N,children:Ac.createPortal(y.jsx(dP.ItemSlot,{scope:t,children:y.jsx(IG,{asChild:!0,onEscapeKeyDown:X(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(fe.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:S,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:X(n.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:X(n.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:X(n.onPointerMove,L=>{if(!x.current)return;const $=L.clientX-x.current.x,D=L.clientY-x.current.y,B=!!p.current,O=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=O?F(0,$):0,W=O?0:F(0,D),K=L.pointerType==="touch"?10:2,Z={x:U,y:W},de={originalEvent:L,delta:Z};B?(p.current=Z,Ky(PQ,h,de,{discrete:!1})):tR(Z,g.swipeDirection,K)?(p.current=Z,Ky(TQ,d,de,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs($)>K||Math.abs(D)>K)&&(x.current=null)}),onPointerUp:X(n.onPointerUp,L=>{const $=p.current,D=L.target;if(D.hasPointerCapture(L.pointerId)&&D.releasePointerCapture(L.pointerId),p.current=null,x.current=null,$){const B=L.currentTarget,O={originalEvent:L,delta:$};tR($,g.swipeDirection,g.swipeThreshold)?Ky(IQ,m,O,{discrete:!0}):Ky(kQ,f,O,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),NQ=n=>{const{__scopeToast:e,children:t,...r}=n,i=Bb(ay,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return OQ(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:y.jsx(xb,{asChild:!0,children:y.jsx($T,{...r,children:s&&y.jsxs(y.Fragment,{children:[i.label," ",t]})})})},LQ="ToastTitle",HB=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(fe.div,{...r,ref:e})});HB.displayName=LQ;var DQ="ToastDescription",$B=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(fe.div,{...r,ref:e})});$B.displayName=DQ;var zB="ToastAction",UB=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?y.jsx(GB,{altText:t,asChild:!0,children:y.jsx(hP,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zB}\`. Expected non-empty \`string\`.`),null)});UB.displayName=zB;var WB="ToastClose",hP=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=RQ(WB,t);return y.jsx(GB,{asChild:!0,children:y.jsx(fe.button,{type:"button",...r,ref:e,onClick:X(n.onClick,i.onClose)})})});hP.displayName=WB;var GB=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return y.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function KB(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jQ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...KB(r))}}),e}function Ky(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?CT(i,s):i.dispatchEvent(s)}var tR=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function OQ(n=()=>{}){const e=In(n);Ut(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function jQ(n){return n.nodeType===n.ELEMENT_NODE}function FQ(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function i1(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var BQ=OB,YB=FB,XB=VB,qB=HB,QB=$B,ZB=UB,JB=hP;const VQ=BQ,eV=J.forwardRef(({className:n,...e},t)=>y.jsx(YB,{ref:t,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));eV.displayName=YB.displayName;const HQ=ST("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tV=J.forwardRef(({className:n,variant:e,...t},r)=>y.jsx(XB,{ref:r,className:Ae(HQ({variant:e}),n),...t}));tV.displayName=XB.displayName;const $Q=J.forwardRef(({className:n,...e},t)=>y.jsx(ZB,{ref:t,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));$Q.displayName=ZB.displayName;const nV=J.forwardRef(({className:n,...e},t)=>y.jsx(JB,{ref:t,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:y.jsx(ET,{className:"h-4 w-4"})}));nV.displayName=JB.displayName;const rV=J.forwardRef(({className:n,...e},t)=>y.jsx(qB,{ref:t,className:Ae("text-sm font-semibold",n),...e}));rV.displayName=qB.displayName;const iV=J.forwardRef(({className:n,...e},t)=>y.jsx(QB,{ref:t,className:Ae("text-sm opacity-90",n),...e}));iV.displayName=QB.displayName;function zQ(){const{toasts:n}=KT();return y.jsxs(VQ,{children:[n.map(({id:e,title:t,description:r,action:i,...s})=>y.jsxs(tV,{...s,children:[y.jsxs("div",{className:"grid gap-1",children:[t&&y.jsx(rV,{children:t}),r&&y.jsx(iV,{children:r})]}),i,y.jsx(nV,{})]},e)),y.jsx(eV,{})]})}const UQ={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.4,delay:.3}}},WQ={initial:{scale:.8,y:0,rotateY:0},animate:{scale:[1,1.05,1],y:[0,-8,0],transition:{duration:1,ease:"easeInOut",repeat:1/0,repeatType:"mirror"}}},GQ=()=>y.jsxs(re.div,{variants:UQ,initial:"initial",animate:"animate",exit:"exit",className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-background",children:[y.jsx(re.div,{variants:WQ,children:y.jsx(kw,{className:"w-16 h-16 text-primary",strokeWidth:1.5})}),y.jsx(re.p,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},exit:{opacity:0},className:"mt-4 text-md font-semibold text-muted-foreground",children:"Opening the next chapter..."})]}),KQ=()=>{const n=Ds(),[e,t]=E.useState(!1),[r,i]=E.useState(!0);return E.useEffect(()=>{if(r){i(!1);return}t(!0);const s=setTimeout(()=>{t(!1)},900);return()=>clearTimeout(s)},[n.pathname]),y.jsxs(y.Fragment,{children:[y.jsx(dh,{mode:"wait",children:e&&y.jsx(GQ,{})}),y.jsx("div",{style:{visibility:e?"hidden":"visible"},children:y.jsx(SY,{children:y.jsxs(_$,{location:n,children:[y.jsx(Li,{path:"/",element:y.jsx(XY,{})}),y.jsx(Li,{path:"/library",element:y.jsx(Y9,{})}),y.jsx(Li,{path:"/about",element:y.jsx(X9,{})}),y.jsx(Li,{path:"/contact",element:y.jsx(J9,{})}),y.jsx(Li,{path:"/salvation",element:y.jsx(wQ,{})}),y.jsx(Li,{path:"/read/:itemId",element:y.jsx(vQ,{})}),y.jsx(Li,{path:"/privacy-policy",element:y.jsx(xQ,{})}),y.jsx(Li,{path:"/terms-of-service",element:y.jsx(bQ,{})})]},n.pathname)})})]})};function YQ(){return y.jsx(uj,{children:y.jsxs(F$,{children:[y.jsx(AY,{}),y.jsxs(FA,{children:[y.jsx("title",{children:"Kingdom Pages  Faith-Based Digital Library"}),y.jsx("link",{rel:"icon",href:"/./KingdomPagesLogo.jpg",type:"image/jpg"}),y.jsx("meta",{name:"description",content:"Discover a curated collection of Christian digital material: uplifting books, engaging comics, and inspiring stories for all ages."}),y.jsx("meta",{property:"og:title",content:"Kingdom Pages - Inspiring Digital Stories"}),y.jsx("meta",{property:"og:description",content:"Nourishing faith and inspiring minds through a curated collection of Christian digital literature."})]}),y.jsx(KQ,{}),y.jsx(zQ,{})]})})}o1.createRoot(document.getElementById("root")).render(y.jsx(J.StrictMode,{children:y.jsx(pG,{defaultTheme:"light",storageKey:"vite-ui-theme",children:y.jsx(YQ,{})})}));
