var cH=Object.defineProperty;var uH=(n,e,t)=>e in n?cH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var V=(n,e,t)=>(uH(n,typeof e!="symbol"?e+"":e,t),t),Bx=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var u=(n,e,t)=>(Bx(n,e,"read from private field"),t?t.call(n):e.get(n)),C=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},P=(n,e,t,r)=>(Bx(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var rn=(n,e,t,r)=>({set _(i){P(n,e,i,t)},get _(){return u(n,e,r)}}),I=(n,e,t)=>(Bx(n,e,"access private method"),t);function hH(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var dH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tR={exports:{}},Db={},nR={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=Symbol.for("react.element"),fH=Symbol.for("react.portal"),pH=Symbol.for("react.fragment"),mH=Symbol.for("react.strict_mode"),gH=Symbol.for("react.profiler"),yH=Symbol.for("react.provider"),vH=Symbol.for("react.context"),wH=Symbol.for("react.forward_ref"),bH=Symbol.for("react.suspense"),xH=Symbol.for("react.memo"),SH=Symbol.for("react.lazy"),pP=Symbol.iterator;function AH(n){return n===null||typeof n!="object"?null:(n=pP&&n[pP]||n["@@iterator"],typeof n=="function"?n:null)}var rR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iR=Object.assign,sR={};function md(n,e,t){this.props=n,this.context=e,this.refs=sR,this.updater=t||rR}md.prototype.isReactComponent={};md.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};md.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function oR(){}oR.prototype=md.prototype;function eC(n,e,t){this.props=n,this.context=e,this.refs=sR,this.updater=t||rR}var tC=eC.prototype=new oR;tC.constructor=eC;iR(tC,md.prototype);tC.isPureReactComponent=!0;var mP=Array.isArray,aR=Object.prototype.hasOwnProperty,nC={current:null},lR={key:!0,ref:!0,__self:!0,__source:!0};function cR(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)aR.call(e,r)&&!lR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dg,type:n,key:s,ref:o,props:i,_owner:nC.current}}function EH(n,e){return{$$typeof:Dg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function rC(n){return typeof n=="object"&&n!==null&&n.$$typeof===Dg}function CH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var gP=/\/+/g;function Hx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?CH(""+n.key):e.toString(36)}function Ky(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Dg:case fH:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Hx(o,0):r,mP(i)?(t="",n!=null&&(t=n.replace(gP,"$&/")+"/"),Ky(i,e,t,"",function(c){return c})):i!=null&&(rC(i)&&(i=EH(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gP,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mP(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Hx(s,a);o+=Ky(s,e,t,l,i)}else if(l=AH(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Hx(s,a++),o+=Ky(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ly(n,e,t){if(n==null)return n;var r=[],i=0;return Ky(n,r,"","",function(s){return e.call(t,s,i++)}),r}function TH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var mn={current:null},Yy={transition:null},PH={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Yy,ReactCurrentOwner:nC};function uR(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ly,forEach:function(n,e,t){ly(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ly(n,function(){e++}),e},toArray:function(n){return ly(n,function(e){return e})||[]},only:function(n){if(!rC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ve.Component=md;ve.Fragment=pH;ve.Profiler=gH;ve.PureComponent=eC;ve.StrictMode=mH;ve.Suspense=bH;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PH;ve.act=uR;ve.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=iR({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nC.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)aR.call(e,l)&&!lR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dg,type:n.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(n){return n={$$typeof:vH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:yH,_context:n},n.Consumer=n};ve.createElement=cR;ve.createFactory=function(n){var e=cR.bind(null,n);return e.type=n,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(n){return{$$typeof:wH,render:n}};ve.isValidElement=rC;ve.lazy=function(n){return{$$typeof:SH,_payload:{_status:-1,_result:n},_init:TH}};ve.memo=function(n,e){return{$$typeof:xH,type:n,compare:e===void 0?null:e}};ve.startTransition=function(n){var e=Yy.transition;Yy.transition={};try{n()}finally{Yy.transition=e}};ve.unstable_act=uR;ve.useCallback=function(n,e){return mn.current.useCallback(n,e)};ve.useContext=function(n){return mn.current.useContext(n)};ve.useDebugValue=function(){};ve.useDeferredValue=function(n){return mn.current.useDeferredValue(n)};ve.useEffect=function(n,e){return mn.current.useEffect(n,e)};ve.useId=function(){return mn.current.useId()};ve.useImperativeHandle=function(n,e,t){return mn.current.useImperativeHandle(n,e,t)};ve.useInsertionEffect=function(n,e){return mn.current.useInsertionEffect(n,e)};ve.useLayoutEffect=function(n,e){return mn.current.useLayoutEffect(n,e)};ve.useMemo=function(n,e){return mn.current.useMemo(n,e)};ve.useReducer=function(n,e,t){return mn.current.useReducer(n,e,t)};ve.useRef=function(n){return mn.current.useRef(n)};ve.useState=function(n){return mn.current.useState(n)};ve.useSyncExternalStore=function(n,e,t){return mn.current.useSyncExternalStore(n,e,t)};ve.useTransition=function(){return mn.current.useTransition()};ve.version="18.3.1";nR.exports=ve;var E=nR.exports;const ee=pd(E),iC=hH({__proto__:null,default:ee},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kH=E,IH=Symbol.for("react.element"),_H=Symbol.for("react.fragment"),RH=Object.prototype.hasOwnProperty,MH=kH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LH={key:!0,ref:!0,__self:!0,__source:!0};function hR(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RH.call(e,r)&&!LH.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IH,type:n,key:s,ref:o,props:i,_owner:MH.current}}Db.Fragment=_H;Db.jsx=hR;Db.jsxs=hR;tR.exports=Db;var v=tR.exports,r1={},dR={exports:{}},er={},fR={exports:{}},pR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,F){var W=O.length;O.push(F);e:for(;0<W;){var U=W-1>>>1,K=O[U];if(0<i(K,F))O[U]=F,O[W]=K,W=U;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],W=O.pop();if(W!==F){O[0]=W;e:for(var U=0,K=O.length,J=K>>>1;U<J;){var he=2*(U+1)-1,Pe=O[he],le=he+1,G=O[le];if(0>i(Pe,W))le<K&&0>i(G,Pe)?(O[U]=G,O[le]=W,U=le):(O[U]=Pe,O[he]=W,U=he);else if(le<K&&0>i(G,W))O[U]=G,O[le]=W,U=le;else break e}}return F}function i(O,F){var W=O.sortIndex-F.sortIndex;return W!==0?W:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,m=!1,y=!1,g=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var F=t(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=O)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function p(O){if(g=!1,b(O),!y)if(t(l)!==null)y=!0,D(w);else{var F=t(c);F!==null&&B(p,F.startTime-O)}}function w(O,F){y=!1,g&&(g=!1,x(_),_=-1),m=!0;var W=f;try{for(b(F),d=t(l);d!==null&&(!(d.expirationTime>F)||O&&!L());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var K=U(d.expirationTime<=F);F=n.unstable_now(),typeof K=="function"?d.callback=K:d===t(l)&&r(l),b(F)}else r(l);d=t(l)}if(d!==null)var J=!0;else{var he=t(c);he!==null&&B(p,he.startTime-F),J=!1}return J}finally{d=null,f=W,m=!1}}var T=!1,k=null,_=-1,R=5,M=-1;function L(){return!(n.unstable_now()-M<R)}function j(){if(k!==null){var O=n.unstable_now();M=O;var F=!0;try{F=k(!0,O)}finally{F?H():(T=!1,k=null)}}else T=!1}var H;if(typeof S=="function")H=function(){S(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=j,H=function(){$.postMessage(null)}}else H=function(){A(j,0)};function D(O){k=O,T||(T=!0,H())}function B(O,F){_=A(function(){O(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,D(w))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var W=f;f=F;try{return O()}finally{f=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=f;f=O;try{return F()}finally{f=W}},n.unstable_scheduleCallback=function(O,F,W){var U=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,O={id:h++,callback:F,priorityLevel:O,startTime:W,expirationTime:K,sortIndex:-1},W>U?(O.sortIndex=W,e(c,O),t(l)===null&&O===t(c)&&(g?(x(_),_=-1):g=!0,B(p,W-U))):(O.sortIndex=K,e(l,O),y||m||(y=!0,D(w))),O},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(O){var F=f;return function(){var W=f;f=F;try{return O.apply(this,arguments)}finally{f=W}}}})(pR);fR.exports=pR;var NH=fR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DH=E,Jn=NH;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mR=new Set,Lf={};function gc(n,e){Qh(n,e),Qh(n+"Capture",e)}function Qh(n,e){for(Lf[n]=e,n=0;n<e.length;n++)mR.add(e[n])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i1=Object.prototype.hasOwnProperty,OH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yP={},vP={};function jH(n){return i1.call(vP,n)?!0:i1.call(yP,n)?!1:OH.test(n)?vP[n]=!0:(yP[n]=!0,!1)}function FH(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function BH(n,e,t,r){if(e===null||typeof e>"u"||FH(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$t[n]=new gn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$t[e]=new gn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$t[n]=new gn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$t[n]=new gn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$t[n]=new gn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$t[n]=new gn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$t[n]=new gn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$t[n]=new gn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$t[n]=new gn(n,5,!1,n.toLowerCase(),null,!1,!1)});var sC=/[\-:]([a-z])/g;function oC(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(sC,oC);$t[e]=new gn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(sC,oC);$t[e]=new gn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(sC,oC);$t[e]=new gn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$t[n]=new gn(n,1,!1,n.toLowerCase(),null,!1,!1)});$t.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$t[n]=new gn(n,1,!1,n.toLowerCase(),null,!0,!0)});function aC(n,e,t,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BH(e,t,i,r)&&(t=null),r||i===null?jH(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ns=DH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),Bc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),lC=Symbol.for("react.strict_mode"),s1=Symbol.for("react.profiler"),gR=Symbol.for("react.provider"),yR=Symbol.for("react.context"),cC=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),a1=Symbol.for("react.suspense_list"),uC=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),vR=Symbol.for("react.offscreen"),wP=Symbol.iterator;function Td(n){return n===null||typeof n!="object"?null:(n=wP&&n[wP]||n["@@iterator"],typeof n=="function"?n:null)}var Je=Object.assign,Vx;function Wd(n){if(Vx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Vx=e&&e[1]||""}return`
`+Vx+n}var $x=!1;function zx(n,e){if(!n||$x)return"";$x=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{$x=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Wd(n):""}function HH(n){switch(n.tag){case 5:return Wd(n.type);case 16:return Wd("Lazy");case 13:return Wd("Suspense");case 19:return Wd("SuspenseList");case 0:case 2:case 15:return n=zx(n.type,!1),n;case 11:return n=zx(n.type.render,!1),n;case 1:return n=zx(n.type,!0),n;default:return""}}function l1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Hc:return"Fragment";case Bc:return"Portal";case s1:return"Profiler";case lC:return"StrictMode";case o1:return"Suspense";case a1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case yR:return(n.displayName||"Context")+".Consumer";case gR:return(n._context.displayName||"Context")+".Provider";case cC:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case uC:return e=n.displayName||null,e!==null?e:l1(n.type)||"Memo";case Ws:e=n._payload,n=n._init;try{return l1(n(e))}catch{}}return null}function VH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l1(e);case 8:return e===lC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $H(n){var e=wR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function uy(n){n._valueTracker||(n._valueTracker=$H(n))}function bR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=wR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Uv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function c1(n,e){var t=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function bP(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Jo(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xR(n,e){e=e.checked,e!=null&&aC(n,"checked",e,!1)}function u1(n,e){xR(n,e);var t=Jo(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?h1(n,e.type,t):e.hasOwnProperty("defaultValue")&&h1(n,e.type,Jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function xP(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function h1(n,e,t){(e!=="number"||Uv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ud=Array.isArray;function iu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Jo(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function d1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function SP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Ud(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Jo(t)}}function SR(n,e){var t=Jo(e.value),r=Jo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function AP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function AR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?AR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hy,ER=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(hy=hy||document.createElement("div"),hy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Nf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var yf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zH=["Webkit","ms","Moz","O"];Object.keys(yf).forEach(function(n){zH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),yf[e]=yf[n]})});function CR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||yf.hasOwnProperty(n)&&yf[n]?(""+e).trim():e+"px"}function TR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=CR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var WH=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p1(n,e){if(e){if(WH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function m1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g1=null;function hC(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var y1=null,su=null,ou=null;function EP(n){if(n=Fg(n)){if(typeof y1!="function")throw Error(z(280));var e=n.stateNode;e&&(e=Hb(e),y1(n.stateNode,n.type,e))}}function PR(n){su?ou?ou.push(n):ou=[n]:su=n}function kR(){if(su){var n=su,e=ou;if(ou=su=null,EP(n),e)for(n=0;n<e.length;n++)EP(e[n])}}function IR(n,e){return n(e)}function _R(){}var Wx=!1;function RR(n,e,t){if(Wx)return n(e,t);Wx=!0;try{return IR(n,e,t)}finally{Wx=!1,(su!==null||ou!==null)&&(_R(),kR())}}function Df(n,e){var t=n.stateNode;if(t===null)return null;var r=Hb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var v1=!1;if(Ts)try{var Pd={};Object.defineProperty(Pd,"passive",{get:function(){v1=!0}}),window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{v1=!1}function UH(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var vf=!1,Gv=null,Kv=!1,w1=null,GH={onError:function(n){vf=!0,Gv=n}};function KH(n,e,t,r,i,s,o,a,l){vf=!1,Gv=null,UH.apply(GH,arguments)}function YH(n,e,t,r,i,s,o,a,l){if(KH.apply(this,arguments),vf){if(vf){var c=Gv;vf=!1,Gv=null}else throw Error(z(198));Kv||(Kv=!0,w1=c)}}function yc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function MR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function CP(n){if(yc(n)!==n)throw Error(z(188))}function qH(n){var e=n.alternate;if(!e){if(e=yc(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return CP(i),n;if(s===r)return CP(i),e;s=s.sibling}throw Error(z(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==r)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function LR(n){return n=qH(n),n!==null?NR(n):null}function NR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=NR(n);if(e!==null)return e;n=n.sibling}return null}var DR=Jn.unstable_scheduleCallback,TP=Jn.unstable_cancelCallback,XH=Jn.unstable_shouldYield,QH=Jn.unstable_requestPaint,at=Jn.unstable_now,JH=Jn.unstable_getCurrentPriorityLevel,dC=Jn.unstable_ImmediatePriority,OR=Jn.unstable_UserBlockingPriority,Yv=Jn.unstable_NormalPriority,ZH=Jn.unstable_LowPriority,jR=Jn.unstable_IdlePriority,Ob=null,Ti=null;function eV(n){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Ob,n,void 0,(n.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:rV,tV=Math.log,nV=Math.LN2;function rV(n){return n>>>=0,n===0?32:31-(tV(n)/nV|0)|0}var dy=64,fy=4194304;function Gd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Gd(a):(s&=o,s!==0&&(r=Gd(s)))}else o=t&~i,o!==0?r=Gd(o):s!==0&&(r=Gd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Kr(e),i=1<<t,r|=n[t],e&=~i;return r}function iV(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sV(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Kr(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=iV(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function b1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function FR(){var n=dy;return dy<<=1,!(dy&4194240)&&(dy=64),n}function Ux(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Og(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Kr(e),n[e]=t}function oV(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Kr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function fC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Kr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ie=0;function BR(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var HR,pC,VR,$R,zR,x1=!1,py=[],Vo=null,$o=null,zo=null,Of=new Map,jf=new Map,Ks=[],aV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PP(n,e){switch(n){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":Of.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(e.pointerId)}}function kd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fg(e),e!==null&&pC(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function lV(n,e,t,r,i){switch(e){case"focusin":return Vo=kd(Vo,n,e,t,r,i),!0;case"dragenter":return $o=kd($o,n,e,t,r,i),!0;case"mouseover":return zo=kd(zo,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Of.set(s,kd(Of.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jf.set(s,kd(jf.get(s)||null,n,e,t,r,i)),!0}return!1}function WR(n){var e=Ia(n.target);if(e!==null){var t=yc(e);if(t!==null){if(e=t.tag,e===13){if(e=MR(t),e!==null){n.blockedOn=e,zR(n.priority,function(){VR(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=S1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);g1=r,t.target.dispatchEvent(r),g1=null}else return e=Fg(t),e!==null&&pC(e),n.blockedOn=t,!1;e.shift()}return!0}function kP(n,e,t){qy(n)&&t.delete(e)}function cV(){x1=!1,Vo!==null&&qy(Vo)&&(Vo=null),$o!==null&&qy($o)&&($o=null),zo!==null&&qy(zo)&&(zo=null),Of.forEach(kP),jf.forEach(kP)}function Id(n,e){n.blockedOn===e&&(n.blockedOn=null,x1||(x1=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,cV)))}function Ff(n){function e(i){return Id(i,n)}if(0<py.length){Id(py[0],n);for(var t=1;t<py.length;t++){var r=py[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Vo!==null&&Id(Vo,n),$o!==null&&Id($o,n),zo!==null&&Id(zo,n),Of.forEach(e),jf.forEach(e),t=0;t<Ks.length;t++)r=Ks[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ks.length&&(t=Ks[0],t.blockedOn===null);)WR(t),t.blockedOn===null&&Ks.shift()}var au=Ns.ReactCurrentBatchConfig,Xv=!0;function uV(n,e,t,r){var i=Ie,s=au.transition;au.transition=null;try{Ie=1,mC(n,e,t,r)}finally{Ie=i,au.transition=s}}function hV(n,e,t,r){var i=Ie,s=au.transition;au.transition=null;try{Ie=4,mC(n,e,t,r)}finally{Ie=i,au.transition=s}}function mC(n,e,t,r){if(Xv){var i=S1(n,e,t,r);if(i===null)tS(n,e,r,Qv,t),PP(n,r);else if(lV(i,n,e,t,r))r.stopPropagation();else if(PP(n,r),e&4&&-1<aV.indexOf(n)){for(;i!==null;){var s=Fg(i);if(s!==null&&HR(s),s=S1(n,e,t,r),s===null&&tS(n,e,r,Qv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else tS(n,e,r,null,t)}}var Qv=null;function S1(n,e,t,r){if(Qv=null,n=hC(r),n=Ia(n),n!==null)if(e=yc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=MR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Qv=n,null}function UR(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JH()){case dC:return 1;case OR:return 4;case Yv:case ZH:return 16;case jR:return 536870912;default:return 16}default:return 16}}var Fo=null,gC=null,Xy=null;function GR(){if(Xy)return Xy;var n,e=gC,t=e.length,r,i="value"in Fo?Fo.value:Fo.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Xy=i.slice(n,1<r?1-r:void 0)}function Qy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function my(){return!0}function IP(){return!1}function tr(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?my:IP,this.isPropagationStopped=IP,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=my)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=my)},persist:function(){},isPersistent:my}),e}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yC=tr(gd),jg=Je({},gd,{view:0,detail:0}),dV=tr(jg),Gx,Kx,_d,jb=Je({},jg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vC,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_d&&(_d&&n.type==="mousemove"?(Gx=n.screenX-_d.screenX,Kx=n.screenY-_d.screenY):Kx=Gx=0,_d=n),Gx)},movementY:function(n){return"movementY"in n?n.movementY:Kx}}),_P=tr(jb),fV=Je({},jb,{dataTransfer:0}),pV=tr(fV),mV=Je({},jg,{relatedTarget:0}),Yx=tr(mV),gV=Je({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),yV=tr(gV),vV=Je({},gd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wV=tr(vV),bV=Je({},gd,{data:0}),RP=tr(bV),xV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EV(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=AV[n])?!!e[n]:!1}function vC(){return EV}var CV=Je({},jg,{key:function(n){if(n.key){var e=xV[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Qy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?SV[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vC,charCode:function(n){return n.type==="keypress"?Qy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TV=tr(CV),PV=Je({},jb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MP=tr(PV),kV=Je({},jg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vC}),IV=tr(kV),_V=Je({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),RV=tr(_V),MV=Je({},jb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),LV=tr(MV),NV=[9,13,27,32],wC=Ts&&"CompositionEvent"in window,wf=null;Ts&&"documentMode"in document&&(wf=document.documentMode);var DV=Ts&&"TextEvent"in window&&!wf,KR=Ts&&(!wC||wf&&8<wf&&11>=wf),LP=String.fromCharCode(32),NP=!1;function YR(n,e){switch(n){case"keyup":return NV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qR(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vc=!1;function OV(n,e){switch(n){case"compositionend":return qR(e);case"keypress":return e.which!==32?null:(NP=!0,LP);case"textInput":return n=e.data,n===LP&&NP?null:n;default:return null}}function jV(n,e){if(Vc)return n==="compositionend"||!wC&&YR(n,e)?(n=GR(),Xy=gC=Fo=null,Vc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KR&&e.locale!=="ko"?null:e.data;default:return null}}var FV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!FV[n.type]:e==="textarea"}function XR(n,e,t,r){PR(r),e=Jv(e,"onChange"),0<e.length&&(t=new yC("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var bf=null,Bf=null;function BV(n){aM(n,0)}function Fb(n){var e=Wc(n);if(bR(e))return n}function HV(n,e){if(n==="change")return e}var QR=!1;if(Ts){var qx;if(Ts){var Xx="oninput"in document;if(!Xx){var OP=document.createElement("div");OP.setAttribute("oninput","return;"),Xx=typeof OP.oninput=="function"}qx=Xx}else qx=!1;QR=qx&&(!document.documentMode||9<document.documentMode)}function jP(){bf&&(bf.detachEvent("onpropertychange",JR),Bf=bf=null)}function JR(n){if(n.propertyName==="value"&&Fb(Bf)){var e=[];XR(e,Bf,n,hC(n)),RR(BV,e)}}function VV(n,e,t){n==="focusin"?(jP(),bf=e,Bf=t,bf.attachEvent("onpropertychange",JR)):n==="focusout"&&jP()}function $V(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fb(Bf)}function zV(n,e){if(n==="click")return Fb(e)}function WV(n,e){if(n==="input"||n==="change")return Fb(e)}function UV(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qr=typeof Object.is=="function"?Object.is:UV;function Hf(n,e){if(qr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!i1.call(e,i)||!qr(n[i],e[i]))return!1}return!0}function FP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function BP(n,e){var t=FP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=FP(t)}}function ZR(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ZR(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function eM(){for(var n=window,e=Uv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Uv(n.document)}return e}function bC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function GV(n){var e=eM(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ZR(t.ownerDocument.documentElement,t)){if(r!==null&&bC(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=BP(t,s);var o=BP(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var KV=Ts&&"documentMode"in document&&11>=document.documentMode,$c=null,A1=null,xf=null,E1=!1;function HP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;E1||$c==null||$c!==Uv(r)||(r=$c,"selectionStart"in r&&bC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xf&&Hf(xf,r)||(xf=r,r=Jv(A1,"onSelect"),0<r.length&&(e=new yC("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=$c)))}function gy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var zc={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},Qx={},tM={};Ts&&(tM=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Bb(n){if(Qx[n])return Qx[n];if(!zc[n])return n;var e=zc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in tM)return Qx[n]=e[t];return n}var nM=Bb("animationend"),rM=Bb("animationiteration"),iM=Bb("animationstart"),sM=Bb("transitionend"),oM=new Map,VP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(n,e){oM.set(n,e),gc(e,[n])}for(var Jx=0;Jx<VP.length;Jx++){var Zx=VP[Jx],YV=Zx.toLowerCase(),qV=Zx[0].toUpperCase()+Zx.slice(1);oa(YV,"on"+qV)}oa(nM,"onAnimationEnd");oa(rM,"onAnimationIteration");oa(iM,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(sM,"onTransitionEnd");Qh("onMouseEnter",["mouseout","mouseover"]);Qh("onMouseLeave",["mouseout","mouseover"]);Qh("onPointerEnter",["pointerout","pointerover"]);Qh("onPointerLeave",["pointerout","pointerover"]);gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kd));function $P(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,YH(r,e,void 0,n),n.currentTarget=null}function aM(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$P(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$P(i,a,c),s=l}}}if(Kv)throw n=w1,Kv=!1,w1=null,n}function Be(n,e){var t=e[I1];t===void 0&&(t=e[I1]=new Set);var r=n+"__bubble";t.has(r)||(lM(e,n,2,!1),t.add(r))}function eS(n,e,t){var r=0;e&&(r|=4),lM(t,n,r,e)}var yy="_reactListening"+Math.random().toString(36).slice(2);function Vf(n){if(!n[yy]){n[yy]=!0,mR.forEach(function(t){t!=="selectionchange"&&(XV.has(t)||eS(t,!1,n),eS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[yy]||(e[yy]=!0,eS("selectionchange",!1,e))}}function lM(n,e,t,r){switch(UR(e)){case 1:var i=uV;break;case 4:i=hV;break;default:i=mC}t=i.bind(null,e,t,n),i=void 0,!v1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function tS(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ia(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}RR(function(){var c=s,h=hC(t),d=[];e:{var f=oM.get(n);if(f!==void 0){var m=yC,y=n;switch(n){case"keypress":if(Qy(t)===0)break e;case"keydown":case"keyup":m=TV;break;case"focusin":y="focus",m=Yx;break;case"focusout":y="blur",m=Yx;break;case"beforeblur":case"afterblur":m=Yx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_P;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IV;break;case nM:case rM:case iM:m=yV;break;case sM:m=RV;break;case"scroll":m=dV;break;case"wheel":m=LV;break;case"copy":case"cut":case"paste":m=wV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=MP}var g=(e&4)!==0,A=!g&&n==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var S=c,b;S!==null;){b=S;var p=b.stateNode;if(b.tag===5&&p!==null&&(b=p,x!==null&&(p=Df(S,x),p!=null&&g.push($f(S,p,b)))),A)break;S=S.return}0<g.length&&(f=new m(f,y,null,t,h),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==g1&&(y=t.relatedTarget||t.fromElement)&&(Ia(y)||y[Ps]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?Ia(y):null,y!==null&&(A=yc(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=_P,p="onMouseLeave",x="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(g=MP,p="onPointerLeave",x="onPointerEnter",S="pointer"),A=m==null?f:Wc(m),b=y==null?f:Wc(y),f=new g(p,S+"leave",m,t,h),f.target=A,f.relatedTarget=b,p=null,Ia(h)===c&&(g=new g(x,S+"enter",y,t,h),g.target=b,g.relatedTarget=A,p=g),A=p,m&&y)t:{for(g=m,x=y,S=0,b=g;b;b=Pc(b))S++;for(b=0,p=x;p;p=Pc(p))b++;for(;0<S-b;)g=Pc(g),S--;for(;0<b-S;)x=Pc(x),b--;for(;S--;){if(g===x||x!==null&&g===x.alternate)break t;g=Pc(g),x=Pc(x)}g=null}else g=null;m!==null&&zP(d,f,m,g,!1),y!==null&&A!==null&&zP(d,A,y,g,!0)}}e:{if(f=c?Wc(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=HV;else if(DP(f))if(QR)w=WV;else{w=$V;var T=VV}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=zV);if(w&&(w=w(n,c))){XR(d,w,t,h);break e}T&&T(n,f,c),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&h1(f,"number",f.value)}switch(T=c?Wc(c):window,n){case"focusin":(DP(T)||T.contentEditable==="true")&&($c=T,A1=c,xf=null);break;case"focusout":xf=A1=$c=null;break;case"mousedown":E1=!0;break;case"contextmenu":case"mouseup":case"dragend":E1=!1,HP(d,t,h);break;case"selectionchange":if(KV)break;case"keydown":case"keyup":HP(d,t,h)}var k;if(wC)e:{switch(n){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vc?YR(n,t)&&(_="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(_="onCompositionStart");_&&(KR&&t.locale!=="ko"&&(Vc||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vc&&(k=GR()):(Fo=h,gC="value"in Fo?Fo.value:Fo.textContent,Vc=!0)),T=Jv(c,_),0<T.length&&(_=new RP(_,n,null,t,h),d.push({event:_,listeners:T}),k?_.data=k:(k=qR(t),k!==null&&(_.data=k)))),(k=DV?OV(n,t):jV(n,t))&&(c=Jv(c,"onBeforeInput"),0<c.length&&(h=new RP("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=k))}aM(d,e)})}function $f(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Jv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Df(n,t),s!=null&&r.unshift($f(n,s,i)),s=Df(n,e),s!=null&&r.push($f(n,s,i))),n=n.return}return r}function Pc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Df(t,s),l!=null&&o.unshift($f(t,l,a))):i||(l=Df(t,s),l!=null&&o.push($f(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var QV=/\r\n?/g,JV=/\u0000|\uFFFD/g;function WP(n){return(typeof n=="string"?n:""+n).replace(QV,`
`).replace(JV,"")}function vy(n,e,t){if(e=WP(e),WP(n)!==e&&t)throw Error(z(425))}function Zv(){}var C1=null,T1=null;function P1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k1=typeof setTimeout=="function"?setTimeout:void 0,ZV=typeof clearTimeout=="function"?clearTimeout:void 0,UP=typeof Promise=="function"?Promise:void 0,e3=typeof queueMicrotask=="function"?queueMicrotask:typeof UP<"u"?function(n){return UP.resolve(null).then(n).catch(t3)}:k1;function t3(n){setTimeout(function(){throw n})}function nS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Ff(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Ff(e)}function Wo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function GP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var yd=Math.random().toString(36).slice(2),Si="__reactFiber$"+yd,zf="__reactProps$"+yd,Ps="__reactContainer$"+yd,I1="__reactEvents$"+yd,n3="__reactListeners$"+yd,r3="__reactHandles$"+yd;function Ia(n){var e=n[Si];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ps]||t[Si]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=GP(n);n!==null;){if(t=n[Si])return t;n=GP(n)}return e}n=t,t=n.parentNode}return null}function Fg(n){return n=n[Si]||n[Ps],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Wc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function Hb(n){return n[zf]||null}var _1=[],Uc=-1;function aa(n){return{current:n}}function He(n){0>Uc||(n.current=_1[Uc],_1[Uc]=null,Uc--)}function De(n,e){Uc++,_1[Uc]=n.current,n.current=e}var Zo={},tn=aa(Zo),Tn=aa(!1),sc=Zo;function Jh(n,e){var t=n.type.contextTypes;if(!t)return Zo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(n){return n=n.childContextTypes,n!=null}function ew(){He(Tn),He(tn)}function KP(n,e,t){if(tn.current!==Zo)throw Error(z(168));De(tn,e),De(Tn,t)}function cM(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,VH(n)||"Unknown",i));return Je({},t,r)}function tw(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zo,sc=tn.current,De(tn,n),De(Tn,Tn.current),!0}function YP(n,e,t){var r=n.stateNode;if(!r)throw Error(z(169));t?(n=cM(n,e,sc),r.__reactInternalMemoizedMergedChildContext=n,He(Tn),He(tn),De(tn,n)):He(Tn),De(Tn,t)}var Vi=null,Vb=!1,rS=!1;function uM(n){Vi===null?Vi=[n]:Vi.push(n)}function i3(n){Vb=!0,uM(n)}function la(){if(!rS&&Vi!==null){rS=!0;var n=0,e=Ie;try{var t=Vi;for(Ie=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Vi=null,Vb=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(n+1)),DR(dC,la),i}finally{Ie=e,rS=!1}}return null}var Gc=[],Kc=0,nw=null,rw=0,mr=[],gr=0,oc=null,xs=1,Ss="";function va(n,e){Gc[Kc++]=rw,Gc[Kc++]=nw,nw=n,rw=e}function hM(n,e,t){mr[gr++]=xs,mr[gr++]=Ss,mr[gr++]=oc,oc=n;var r=xs;n=Ss;var i=32-Kr(r)-1;r&=~(1<<i),t+=1;var s=32-Kr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xs=1<<32-Kr(e)+i|t<<i|r,Ss=s+n}else xs=1<<s|t<<i|r,Ss=n}function xC(n){n.return!==null&&(va(n,1),hM(n,1,0))}function SC(n){for(;n===nw;)nw=Gc[--Kc],Gc[Kc]=null,rw=Gc[--Kc],Gc[Kc]=null;for(;n===oc;)oc=mr[--gr],mr[gr]=null,Ss=mr[--gr],mr[gr]=null,xs=mr[--gr],mr[gr]=null}var Xn=null,qn=null,Ge=!1,Wr=null;function dM(n,e){var t=vr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function qP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Xn=n,qn=Wo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Xn=n,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=oc!==null?{id:xs,overflow:Ss}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=vr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Xn=n,qn=null,!0):!1;default:return!1}}function R1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function M1(n){if(Ge){var e=qn;if(e){var t=e;if(!qP(n,e)){if(R1(n))throw Error(z(418));e=Wo(t.nextSibling);var r=Xn;e&&qP(n,e)?dM(r,t):(n.flags=n.flags&-4097|2,Ge=!1,Xn=n)}}else{if(R1(n))throw Error(z(418));n.flags=n.flags&-4097|2,Ge=!1,Xn=n}}}function XP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xn=n}function wy(n){if(n!==Xn)return!1;if(!Ge)return XP(n),Ge=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!P1(n.type,n.memoizedProps)),e&&(e=qn)){if(R1(n))throw fM(),Error(z(418));for(;e;)dM(n,e),e=Wo(e.nextSibling)}if(XP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){qn=Wo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}qn=null}}else qn=Xn?Wo(n.stateNode.nextSibling):null;return!0}function fM(){for(var n=qn;n;)n=Wo(n.nextSibling)}function Zh(){qn=Xn=null,Ge=!1}function AC(n){Wr===null?Wr=[n]:Wr.push(n)}var s3=Ns.ReactCurrentBatchConfig;function Rd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var r=t.stateNode}if(!r)throw Error(z(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function by(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function QP(n){var e=n._init;return e(n._payload)}function pM(n){function e(x,S){if(n){var b=x.deletions;b===null?(x.deletions=[S],x.flags|=16):b.push(S)}}function t(x,S){if(!n)return null;for(;S!==null;)e(x,S),S=S.sibling;return null}function r(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=Yo(x,S),x.index=0,x.sibling=null,x}function s(x,S,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<S?(x.flags|=2,S):b):(x.flags|=2,S)):(x.flags|=1048576,S)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,S,b,p){return S===null||S.tag!==6?(S=uS(b,x.mode,p),S.return=x,S):(S=i(S,b),S.return=x,S)}function l(x,S,b,p){var w=b.type;return w===Hc?h(x,S,b.props.children,p,b.key):S!==null&&(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ws&&QP(w)===S.type)?(p=i(S,b.props),p.ref=Rd(x,S,b),p.return=x,p):(p=iv(b.type,b.key,b.props,null,x.mode,p),p.ref=Rd(x,S,b),p.return=x,p)}function c(x,S,b,p){return S===null||S.tag!==4||S.stateNode.containerInfo!==b.containerInfo||S.stateNode.implementation!==b.implementation?(S=hS(b,x.mode,p),S.return=x,S):(S=i(S,b.children||[]),S.return=x,S)}function h(x,S,b,p,w){return S===null||S.tag!==7?(S=ic(b,x.mode,p,w),S.return=x,S):(S=i(S,b),S.return=x,S)}function d(x,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return S=uS(""+S,x.mode,b),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cy:return b=iv(S.type,S.key,S.props,null,x.mode,b),b.ref=Rd(x,null,S),b.return=x,b;case Bc:return S=hS(S,x.mode,b),S.return=x,S;case Ws:var p=S._init;return d(x,p(S._payload),b)}if(Ud(S)||Td(S))return S=ic(S,x.mode,b,null),S.return=x,S;by(x,S)}return null}function f(x,S,b,p){var w=S!==null?S.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(x,S,""+b,p);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cy:return b.key===w?l(x,S,b,p):null;case Bc:return b.key===w?c(x,S,b,p):null;case Ws:return w=b._init,f(x,S,w(b._payload),p)}if(Ud(b)||Td(b))return w!==null?null:h(x,S,b,p,null);by(x,b)}return null}function m(x,S,b,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return x=x.get(b)||null,a(S,x,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cy:return x=x.get(p.key===null?b:p.key)||null,l(S,x,p,w);case Bc:return x=x.get(p.key===null?b:p.key)||null,c(S,x,p,w);case Ws:var T=p._init;return m(x,S,b,T(p._payload),w)}if(Ud(p)||Td(p))return x=x.get(b)||null,h(S,x,p,w,null);by(S,p)}return null}function y(x,S,b,p){for(var w=null,T=null,k=S,_=S=0,R=null;k!==null&&_<b.length;_++){k.index>_?(R=k,k=null):R=k.sibling;var M=f(x,k,b[_],p);if(M===null){k===null&&(k=R);break}n&&k&&M.alternate===null&&e(x,k),S=s(M,S,_),T===null?w=M:T.sibling=M,T=M,k=R}if(_===b.length)return t(x,k),Ge&&va(x,_),w;if(k===null){for(;_<b.length;_++)k=d(x,b[_],p),k!==null&&(S=s(k,S,_),T===null?w=k:T.sibling=k,T=k);return Ge&&va(x,_),w}for(k=r(x,k);_<b.length;_++)R=m(k,x,_,b[_],p),R!==null&&(n&&R.alternate!==null&&k.delete(R.key===null?_:R.key),S=s(R,S,_),T===null?w=R:T.sibling=R,T=R);return n&&k.forEach(function(L){return e(x,L)}),Ge&&va(x,_),w}function g(x,S,b,p){var w=Td(b);if(typeof w!="function")throw Error(z(150));if(b=w.call(b),b==null)throw Error(z(151));for(var T=w=null,k=S,_=S=0,R=null,M=b.next();k!==null&&!M.done;_++,M=b.next()){k.index>_?(R=k,k=null):R=k.sibling;var L=f(x,k,M.value,p);if(L===null){k===null&&(k=R);break}n&&k&&L.alternate===null&&e(x,k),S=s(L,S,_),T===null?w=L:T.sibling=L,T=L,k=R}if(M.done)return t(x,k),Ge&&va(x,_),w;if(k===null){for(;!M.done;_++,M=b.next())M=d(x,M.value,p),M!==null&&(S=s(M,S,_),T===null?w=M:T.sibling=M,T=M);return Ge&&va(x,_),w}for(k=r(x,k);!M.done;_++,M=b.next())M=m(k,x,_,M.value,p),M!==null&&(n&&M.alternate!==null&&k.delete(M.key===null?_:M.key),S=s(M,S,_),T===null?w=M:T.sibling=M,T=M);return n&&k.forEach(function(j){return e(x,j)}),Ge&&va(x,_),w}function A(x,S,b,p){if(typeof b=="object"&&b!==null&&b.type===Hc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case cy:e:{for(var w=b.key,T=S;T!==null;){if(T.key===w){if(w=b.type,w===Hc){if(T.tag===7){t(x,T.sibling),S=i(T,b.props.children),S.return=x,x=S;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ws&&QP(w)===T.type){t(x,T.sibling),S=i(T,b.props),S.ref=Rd(x,T,b),S.return=x,x=S;break e}t(x,T);break}else e(x,T);T=T.sibling}b.type===Hc?(S=ic(b.props.children,x.mode,p,b.key),S.return=x,x=S):(p=iv(b.type,b.key,b.props,null,x.mode,p),p.ref=Rd(x,S,b),p.return=x,x=p)}return o(x);case Bc:e:{for(T=b.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===b.containerInfo&&S.stateNode.implementation===b.implementation){t(x,S.sibling),S=i(S,b.children||[]),S.return=x,x=S;break e}else{t(x,S);break}else e(x,S);S=S.sibling}S=hS(b,x.mode,p),S.return=x,x=S}return o(x);case Ws:return T=b._init,A(x,S,T(b._payload),p)}if(Ud(b))return y(x,S,b,p);if(Td(b))return g(x,S,b,p);by(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,S!==null&&S.tag===6?(t(x,S.sibling),S=i(S,b),S.return=x,x=S):(t(x,S),S=uS(b,x.mode,p),S.return=x,x=S),o(x)):t(x,S)}return A}var ed=pM(!0),mM=pM(!1),iw=aa(null),sw=null,Yc=null,EC=null;function CC(){EC=Yc=sw=null}function TC(n){var e=iw.current;He(iw),n._currentValue=e}function L1(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function lu(n,e){sw=n,EC=Yc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Cn=!0),n.firstContext=null)}function xr(n){var e=n._currentValue;if(EC!==n)if(n={context:n,memoizedValue:e,next:null},Yc===null){if(sw===null)throw Error(z(308));Yc=n,sw.dependencies={lanes:0,firstContext:n}}else Yc=Yc.next=n;return e}var _a=null;function PC(n){_a===null?_a=[n]:_a.push(n)}function gM(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,PC(e)):(t.next=i.next,i.next=t),e.interleaved=t,ks(n,r)}function ks(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Us=!1;function kC(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yM(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Es(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ks(n,t)}return i=r.interleaved,i===null?(e.next=e,PC(r)):(e.next=i.next,i.next=e),r.interleaved=e,ks(n,t)}function Jy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,fC(n,t)}}function JP(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ow(n,e,t,r){var i=n.updateQueue;Us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(f=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=Je({},d,f);break e;case 2:Us=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lc|=o,n.lanes=o,n.memoizedState=d}}function ZP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Bg={},Pi=aa(Bg),Wf=aa(Bg),Uf=aa(Bg);function Ra(n){if(n===Bg)throw Error(z(174));return n}function IC(n,e){switch(De(Uf,e),De(Wf,n),De(Pi,Bg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:f1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=f1(e,n)}He(Pi),De(Pi,e)}function td(){He(Pi),He(Wf),He(Uf)}function vM(n){Ra(Uf.current);var e=Ra(Pi.current),t=f1(e,n.type);e!==t&&(De(Wf,n),De(Pi,t))}function _C(n){Wf.current===n&&(He(Pi),He(Wf))}var qe=aa(0);function aw(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iS=[];function RC(){for(var n=0;n<iS.length;n++)iS[n]._workInProgressVersionPrimary=null;iS.length=0}var Zy=Ns.ReactCurrentDispatcher,sS=Ns.ReactCurrentBatchConfig,ac=0,Qe=null,yt=null,It=null,lw=!1,Sf=!1,Gf=0,o3=0;function Wt(){throw Error(z(321))}function MC(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!qr(n[t],e[t]))return!1;return!0}function LC(n,e,t,r,i,s){if(ac=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zy.current=n===null||n.memoizedState===null?u3:h3,n=t(r,i),Sf){s=0;do{if(Sf=!1,Gf=0,25<=s)throw Error(z(301));s+=1,It=yt=null,e.updateQueue=null,Zy.current=d3,n=t(r,i)}while(Sf)}if(Zy.current=cw,e=yt!==null&&yt.next!==null,ac=0,It=yt=Qe=null,lw=!1,e)throw Error(z(300));return n}function NC(){var n=Gf!==0;return Gf=0,n}function ri(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Qe.memoizedState=It=n:It=It.next=n,It}function Sr(){if(yt===null){var n=Qe.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var e=It===null?Qe.memoizedState:It.next;if(e!==null)It=e,yt=n;else{if(n===null)throw Error(z(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?Qe.memoizedState=It=n:It=It.next=n}return It}function Kf(n,e){return typeof e=="function"?e(n):e}function oS(n){var e=Sr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=yt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((ac&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Qe.lanes|=h,lc|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,qr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Qe.lanes|=s,lc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function aS(n){var e=Sr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);qr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function wM(){}function bM(n,e){var t=Qe,r=Sr(),i=e(),s=!qr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,DC(AM.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(t.flags|=2048,Yf(9,SM.bind(null,t,r,i,e),void 0,null),_t===null)throw Error(z(349));ac&30||xM(t,e,i)}return i}function xM(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function SM(n,e,t,r){e.value=t,e.getSnapshot=r,EM(e)&&CM(n)}function AM(n,e,t){return t(function(){EM(e)&&CM(n)})}function EM(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qr(n,t)}catch{return!0}}function CM(n){var e=ks(n,1);e!==null&&Yr(e,n,1,-1)}function ek(n){var e=ri();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:n},e.queue=n,n=n.dispatch=c3.bind(null,Qe,n),[e.memoizedState,n]}function Yf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function TM(){return Sr().memoizedState}function ev(n,e,t,r){var i=ri();Qe.flags|=n,i.memoizedState=Yf(1|e,t,void 0,r===void 0?null:r)}function $b(n,e,t,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&MC(r,o.deps)){i.memoizedState=Yf(e,t,s,r);return}}Qe.flags|=n,i.memoizedState=Yf(1|e,t,s,r)}function tk(n,e){return ev(8390656,8,n,e)}function DC(n,e){return $b(2048,8,n,e)}function PM(n,e){return $b(4,2,n,e)}function kM(n,e){return $b(4,4,n,e)}function IM(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function _M(n,e,t){return t=t!=null?t.concat([n]):null,$b(4,4,IM.bind(null,e,n),t)}function OC(){}function RM(n,e){var t=Sr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&MC(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function MM(n,e){var t=Sr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&MC(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function LM(n,e,t){return ac&21?(qr(t,e)||(t=FR(),Qe.lanes|=t,lc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Cn=!0),n.memoizedState=t)}function a3(n,e){var t=Ie;Ie=t!==0&&4>t?t:4,n(!0);var r=sS.transition;sS.transition={};try{n(!1),e()}finally{Ie=t,sS.transition=r}}function NM(){return Sr().memoizedState}function l3(n,e,t){var r=Ko(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},DM(n))OM(e,t);else if(t=gM(n,e,t,r),t!==null){var i=pn();Yr(t,n,r,i),jM(t,e,r)}}function c3(n,e,t){var r=Ko(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(DM(n))OM(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,qr(a,o)){var l=e.interleaved;l===null?(i.next=i,PC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=gM(n,e,i,r),t!==null&&(i=pn(),Yr(t,n,r,i),jM(t,e,r))}}function DM(n){var e=n.alternate;return n===Qe||e!==null&&e===Qe}function OM(n,e){Sf=lw=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function jM(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,fC(n,t)}}var cw={readContext:xr,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},u3={readContext:xr,useCallback:function(n,e){return ri().memoizedState=[n,e===void 0?null:e],n},useContext:xr,useEffect:tk,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ev(4194308,4,IM.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ev(4194308,4,n,e)},useInsertionEffect:function(n,e){return ev(4,2,n,e)},useMemo:function(n,e){var t=ri();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ri();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=l3.bind(null,Qe,n),[r.memoizedState,n]},useRef:function(n){var e=ri();return n={current:n},e.memoizedState=n},useState:ek,useDebugValue:OC,useDeferredValue:function(n){return ri().memoizedState=n},useTransition:function(){var n=ek(!1),e=n[0];return n=a3.bind(null,n[1]),ri().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Qe,i=ri();if(Ge){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),_t===null)throw Error(z(349));ac&30||xM(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,tk(AM.bind(null,r,s,n),[n]),r.flags|=2048,Yf(9,SM.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ri(),e=_t.identifierPrefix;if(Ge){var t=Ss,r=xs;t=(r&~(1<<32-Kr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Gf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=o3++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},h3={readContext:xr,useCallback:RM,useContext:xr,useEffect:DC,useImperativeHandle:_M,useInsertionEffect:PM,useLayoutEffect:kM,useMemo:MM,useReducer:oS,useRef:TM,useState:function(){return oS(Kf)},useDebugValue:OC,useDeferredValue:function(n){var e=Sr();return LM(e,yt.memoizedState,n)},useTransition:function(){var n=oS(Kf)[0],e=Sr().memoizedState;return[n,e]},useMutableSource:wM,useSyncExternalStore:bM,useId:NM,unstable_isNewReconciler:!1},d3={readContext:xr,useCallback:RM,useContext:xr,useEffect:DC,useImperativeHandle:_M,useInsertionEffect:PM,useLayoutEffect:kM,useMemo:MM,useReducer:aS,useRef:TM,useState:function(){return aS(Kf)},useDebugValue:OC,useDeferredValue:function(n){var e=Sr();return yt===null?e.memoizedState=n:LM(e,yt.memoizedState,n)},useTransition:function(){var n=aS(Kf)[0],e=Sr().memoizedState;return[n,e]},useMutableSource:wM,useSyncExternalStore:bM,useId:NM,unstable_isNewReconciler:!1};function kr(n,e){if(n&&n.defaultProps){e=Je({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function N1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Je({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var zb={isMounted:function(n){return(n=n._reactInternals)?yc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=pn(),i=Ko(n),s=Es(r,i);s.payload=e,t!=null&&(s.callback=t),e=Uo(n,s,i),e!==null&&(Yr(e,n,i,r),Jy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=pn(),i=Ko(n),s=Es(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Uo(n,s,i),e!==null&&(Yr(e,n,i,r),Jy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=pn(),r=Ko(n),i=Es(t,r);i.tag=2,e!=null&&(i.callback=e),e=Uo(n,i,r),e!==null&&(Yr(e,n,r,t),Jy(e,n,r))}};function nk(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hf(t,r)||!Hf(i,s):!0}function FM(n,e,t){var r=!1,i=Zo,s=e.contextType;return typeof s=="object"&&s!==null?s=xr(s):(i=Pn(e)?sc:tn.current,r=e.contextTypes,s=(r=r!=null)?Jh(n,i):Zo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zb,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function rk(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&zb.enqueueReplaceState(e,e.state,null)}function D1(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},kC(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xr(s):(s=Pn(e)?sc:tn.current,i.context=Jh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N1(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zb.enqueueReplaceState(i,i.state,null),ow(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function nd(n,e){try{var t="",r=e;do t+=HH(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function lS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function O1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var f3=typeof WeakMap=="function"?WeakMap:Map;function BM(n,e,t){t=Es(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){hw||(hw=!0,G1=r),O1(n,e)},t}function HM(n,e,t){t=Es(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){O1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){O1(n,e),typeof r!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function ik(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new f3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=P3.bind(null,n,e,t),e.then(n,n))}function sk(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ok(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Es(-1,1),e.tag=2,Uo(t,e,1))),t.lanes|=1),n)}var p3=Ns.ReactCurrentOwner,Cn=!1;function fn(n,e,t,r){e.child=n===null?mM(e,null,t,r):ed(e,n.child,t,r)}function ak(n,e,t,r,i){t=t.render;var s=e.ref;return lu(e,i),r=LC(n,e,t,r,s,i),t=NC(),n!==null&&!Cn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Is(n,e,i)):(Ge&&t&&xC(e),e.flags|=1,fn(n,e,r,i),e.child)}function lk(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!WC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,VM(n,e,s,r,i)):(n=iv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Hf,t(o,r)&&n.ref===e.ref)return Is(n,e,i)}return e.flags|=1,n=Yo(s,r),n.ref=e.ref,n.return=e,e.child=n}function VM(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Hf(s,r)&&n.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Cn=!0);else return e.lanes=n.lanes,Is(n,e,i)}return j1(n,e,t,r,i)}function $M(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Xc,Gn),Gn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,De(Xc,Gn),Gn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,De(Xc,Gn),Gn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,De(Xc,Gn),Gn|=r;return fn(n,e,i,t),e.child}function zM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function j1(n,e,t,r,i){var s=Pn(t)?sc:tn.current;return s=Jh(e,s),lu(e,i),t=LC(n,e,t,r,s,i),r=NC(),n!==null&&!Cn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Is(n,e,i)):(Ge&&r&&xC(e),e.flags|=1,fn(n,e,t,i),e.child)}function ck(n,e,t,r,i){if(Pn(t)){var s=!0;tw(e)}else s=!1;if(lu(e,i),e.stateNode===null)tv(n,e),FM(e,t,r),D1(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=xr(c):(c=Pn(t)?sc:tn.current,c=Jh(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rk(e,o,r,c),Us=!1;var f=e.memoizedState;o.state=f,ow(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Tn.current||Us?(typeof h=="function"&&(N1(e,t,h,r),l=e.memoizedState),(a=Us||nk(e,t,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yM(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:kr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=xr(l):(l=Pn(t)?sc:tn.current,l=Jh(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&rk(e,o,r,l),Us=!1,f=e.memoizedState,o.state=f,ow(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||Tn.current||Us?(typeof m=="function"&&(N1(e,t,m,r),y=e.memoizedState),(c=Us||nk(e,t,c,r,f,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return F1(n,e,t,r,s,i)}function F1(n,e,t,r,i,s){zM(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&YP(e,t,!1),Is(n,e,s);r=e.stateNode,p3.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=ed(e,n.child,null,s),e.child=ed(e,null,a,s)):fn(n,e,a,s),e.memoizedState=r.state,i&&YP(e,t,!0),e.child}function WM(n){var e=n.stateNode;e.pendingContext?KP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&KP(n,e.context,!1),IC(n,e.containerInfo)}function uk(n,e,t,r,i){return Zh(),AC(i),e.flags|=256,fn(n,e,t,r),e.child}var B1={dehydrated:null,treeContext:null,retryLane:0};function H1(n){return{baseLanes:n,cachePool:null,transitions:null}}function UM(n,e,t){var r=e.pendingProps,i=qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),De(qe,i&1),n===null)return M1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gb(o,r,0,null),n=ic(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=H1(t),e.memoizedState=B1,n):jC(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return m3(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Yo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yo(a,s):(s=ic(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?H1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=B1,r}return s=n.child,n=s.sibling,r=Yo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function jC(n,e){return e=Gb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function xy(n,e,t,r){return r!==null&&AC(r),ed(e,n.child,null,t),n=jC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function m3(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=lS(Error(z(422))),xy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gb({mode:"visible",children:r.children},i,0,null),s=ic(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ed(e,n.child,null,o),e.child.memoizedState=H1(o),e.memoizedState=B1,s);if(!(e.mode&1))return xy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=lS(s,r,void 0),xy(n,e,o,r)}if(a=(o&n.childLanes)!==0,Cn||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ks(n,i),Yr(r,n,i,-1))}return zC(),r=lS(Error(z(421))),xy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=k3.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,qn=Wo(i.nextSibling),Xn=e,Ge=!0,Wr=null,n!==null&&(mr[gr++]=xs,mr[gr++]=Ss,mr[gr++]=oc,xs=n.id,Ss=n.overflow,oc=e),e=jC(e,r.children),e.flags|=4096,e)}function hk(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),L1(n.return,e,t)}function cS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function GM(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fn(n,e,r.children,t),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hk(n,t,e);else if(n.tag===19)hk(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(De(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&aw(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),cS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&aw(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}cS(e,!0,t,null,s);break;case"together":cS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Is(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),lc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Yo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Yo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function g3(n,e,t){switch(e.tag){case 3:WM(e),Zh();break;case 5:vM(e);break;case 1:Pn(e.type)&&tw(e);break;case 4:IC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(iw,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(qe,qe.current&1),e.flags|=128,null):t&e.child.childLanes?UM(n,e,t):(De(qe,qe.current&1),n=Is(n,e,t),n!==null?n.sibling:null);De(qe,qe.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return GM(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,$M(n,e,t)}return Is(n,e,t)}var KM,V1,YM,qM;KM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};V1=function(){};YM=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ra(Pi.current);var s=null;switch(t){case"input":i=c1(n,i),r=c1(n,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=d1(n,i),r=d1(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Zv)}p1(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};qM=function(n,e,t,r){t!==r&&(e.flags|=4)};function Md(n,e){if(!Ge)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ut(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function y3(n,e,t){var r=e.pendingProps;switch(SC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return Pn(e.type)&&ew(),Ut(e),null;case 3:return r=e.stateNode,td(),He(Tn),He(tn),RC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(wy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wr!==null&&(q1(Wr),Wr=null))),V1(n,e),Ut(e),null;case 5:_C(e);var i=Ra(Uf.current);if(t=e.type,n!==null&&e.stateNode!=null)YM(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ut(e),null}if(n=Ra(Pi.current),wy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Si]=e,r[zf]=s,n=(e.mode&1)!==0,t){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Kd.length;i++)Be(Kd[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":bP(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":SP(r,s),Be("invalid",r)}p1(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vy(r.textContent,a,n),i=["children",""+a]):Lf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(t){case"input":uy(r),xP(r,s,!0);break;case"textarea":uy(r),AP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=AR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Si]=e,n[zf]=r,KM(n,e,!1,!1),e.stateNode=n;e:{switch(o=m1(t,r),t){case"dialog":Be("cancel",n),Be("close",n),i=r;break;case"iframe":case"object":case"embed":Be("load",n),i=r;break;case"video":case"audio":for(i=0;i<Kd.length;i++)Be(Kd[i],n);i=r;break;case"source":Be("error",n),i=r;break;case"img":case"image":case"link":Be("error",n),Be("load",n),i=r;break;case"details":Be("toggle",n),i=r;break;case"input":bP(n,r),i=c1(n,r),Be("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Be("invalid",n);break;case"textarea":SP(n,r),i=d1(n,r),Be("invalid",n);break;default:i=r}p1(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ER(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Nf(n,l):typeof l=="number"&&Nf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",n):l!=null&&aC(n,s,l,o))}switch(t){case"input":uy(n),xP(n,r,!1);break;case"textarea":uy(n),AP(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Jo(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?iu(n,!!r.multiple,s,!1):r.defaultValue!=null&&iu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Zv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(n&&e.stateNode!=null)qM(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=Ra(Uf.current),Ra(Pi.current),wy(e)){if(r=e.stateNode,t=e.memoizedProps,r[Si]=e,(s=r.nodeValue!==t)&&(n=Xn,n!==null))switch(n.tag){case 3:vy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&vy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Si]=e,e.stateNode=r}return Ut(e),null;case 13:if(He(qe),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ge&&qn!==null&&e.mode&1&&!(e.flags&128))fM(),Zh(),e.flags|=98560,s=!1;else if(s=wy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Si]=e}else Zh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else Wr!==null&&(q1(Wr),Wr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||qe.current&1?wt===0&&(wt=3):zC())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return td(),V1(n,e),n===null&&Vf(e.stateNode.containerInfo),Ut(e),null;case 10:return TC(e.type._context),Ut(e),null;case 17:return Pn(e.type)&&ew(),Ut(e),null;case 19:if(He(qe),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Md(s,!1);else{if(wt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=aw(n),o!==null){for(e.flags|=128,Md(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return De(qe,qe.current&1|2),e.child}n=n.sibling}s.tail!==null&&at()>rd&&(e.flags|=128,r=!0,Md(s,!1),e.lanes=4194304)}else{if(!r)if(n=aw(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Md(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Ut(e),null}else 2*at()-s.renderingStartTime>rd&&t!==1073741824&&(e.flags|=128,r=!0,Md(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,t=qe.current,De(qe,r?t&1|2:t&1),e):(Ut(e),null);case 22:case 23:return $C(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function v3(n,e){switch(SC(e),e.tag){case 1:return Pn(e.type)&&ew(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return td(),He(Tn),He(tn),RC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return _C(e),null;case 13:if(He(qe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Zh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return He(qe),null;case 4:return td(),null;case 10:return TC(e.type._context),null;case 22:case 23:return $C(),null;case 24:return null;default:return null}}var Sy=!1,Jt=!1,w3=typeof WeakSet=="function"?WeakSet:Set,X=null;function qc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){et(n,e,r)}else t.current=null}function $1(n,e,t){try{t()}catch(r){et(n,e,r)}}var dk=!1;function b3(n,e){if(C1=Xv,n=eM(),bC(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,f=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(T1={focusedElem:n,selectionRange:t},Xv=!1,X=e;X!==null;)if(e=X,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,X=n;else for(;X!==null;){e=X;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,A=y.memoizedState,x=e.stateNode,S=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:kr(e.type,g),A);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(p){et(e,e.return,p)}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}return y=dk,dk=!1,y}function Af(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&$1(e,t,s)}i=i.next}while(i!==r)}}function Wb(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function z1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function XM(n){var e=n.alternate;e!==null&&(n.alternate=null,XM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Si],delete e[zf],delete e[I1],delete e[n3],delete e[r3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function QM(n){return n.tag===5||n.tag===3||n.tag===4}function fk(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||QM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function W1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Zv));else if(r!==4&&(n=n.child,n!==null))for(W1(n,e,t),n=n.sibling;n!==null;)W1(n,e,t),n=n.sibling}function U1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(U1(n,e,t),n=n.sibling;n!==null;)U1(n,e,t),n=n.sibling}var Bt=null,zr=!1;function Bs(n,e,t){for(t=t.child;t!==null;)JM(n,e,t),t=t.sibling}function JM(n,e,t){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Ob,t)}catch{}switch(t.tag){case 5:Jt||qc(t,e);case 6:var r=Bt,i=zr;Bt=null,Bs(n,e,t),Bt=r,zr=i,Bt!==null&&(zr?(n=Bt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Bt.removeChild(t.stateNode));break;case 18:Bt!==null&&(zr?(n=Bt,t=t.stateNode,n.nodeType===8?nS(n.parentNode,t):n.nodeType===1&&nS(n,t),Ff(n)):nS(Bt,t.stateNode));break;case 4:r=Bt,i=zr,Bt=t.stateNode.containerInfo,zr=!0,Bs(n,e,t),Bt=r,zr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$1(t,e,o),i=i.next}while(i!==r)}Bs(n,e,t);break;case 1:if(!Jt&&(qc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){et(t,e,a)}Bs(n,e,t);break;case 21:Bs(n,e,t);break;case 22:t.mode&1?(Jt=(r=Jt)||t.memoizedState!==null,Bs(n,e,t),Jt=r):Bs(n,e,t);break;default:Bs(n,e,t)}}function pk(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new w3),e.forEach(function(r){var i=I3.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Er(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,zr=!1;break e;case 3:Bt=a.stateNode.containerInfo,zr=!0;break e;case 4:Bt=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(Bt===null)throw Error(z(160));JM(s,o,i),Bt=null,zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZM(e,n),e=e.sibling}function ZM(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Er(e,n),Zr(n),r&4){try{Af(3,n,n.return),Wb(3,n)}catch(g){et(n,n.return,g)}try{Af(5,n,n.return)}catch(g){et(n,n.return,g)}}break;case 1:Er(e,n),Zr(n),r&512&&t!==null&&qc(t,t.return);break;case 5:if(Er(e,n),Zr(n),r&512&&t!==null&&qc(t,t.return),n.flags&32){var i=n.stateNode;try{Nf(i,"")}catch(g){et(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xR(i,s),m1(a,o);var c=m1(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?TR(i,d):h==="dangerouslySetInnerHTML"?ER(i,d):h==="children"?Nf(i,d):aC(i,h,d,c)}switch(a){case"input":u1(i,s);break;case"textarea":SR(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?iu(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?iu(i,!!s.multiple,s.defaultValue,!0):iu(i,!!s.multiple,s.multiple?[]:"",!1))}i[zf]=s}catch(g){et(n,n.return,g)}}break;case 6:if(Er(e,n),Zr(n),r&4){if(n.stateNode===null)throw Error(z(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){et(n,n.return,g)}}break;case 3:if(Er(e,n),Zr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Ff(e.containerInfo)}catch(g){et(n,n.return,g)}break;case 4:Er(e,n),Zr(n);break;case 13:Er(e,n),Zr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(HC=at())),r&4&&pk(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Jt=(c=Jt)||h,Er(e,n),Jt=c):Er(e,n),Zr(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(X=n,h=n.child;h!==null;){for(d=X=h;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:Af(4,f,f.return);break;case 1:qc(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){et(r,t,g)}}break;case 5:qc(f,f.return);break;case 22:if(f.memoizedState!==null){gk(d);continue}}m!==null?(m.return=f,X=m):gk(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CR("display",o))}catch(g){et(n,n.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){et(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Er(e,n),Zr(n),r&4&&pk(n);break;case 21:break;default:Er(e,n),Zr(n)}}function Zr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(QM(t)){var r=t;break e}t=t.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nf(i,""),r.flags&=-33);var s=fk(n);U1(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fk(n);W1(n,a,o);break;default:throw Error(z(161))}}catch(l){et(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function x3(n,e,t){X=n,eL(n)}function eL(n,e,t){for(var r=(n.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=Sy;var c=Jt;if(Sy=o,(Jt=l)&&!c)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?yk(i):l!==null?(l.return=o,X=l):yk(i);for(;s!==null;)X=s,eL(s),s=s.sibling;X=i,Sy=a,Jt=c}mk(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):mk(n)}}function mk(n){for(;X!==null;){var e=X;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Wb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:kr(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ZP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}ZP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ff(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Jt||e.flags&512&&z1(e)}catch(f){et(e,e.return,f)}}if(e===n){X=null;break}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}}function gk(n){for(;X!==null;){var e=X;if(e===n){X=null;break}var t=e.sibling;if(t!==null){t.return=e.return,X=t;break}X=e.return}}function yk(n){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Wb(4,e)}catch(l){et(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var s=e.return;try{z1(e)}catch(l){et(e,s,l)}break;case 5:var o=e.return;try{z1(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===n){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var S3=Math.ceil,uw=Ns.ReactCurrentDispatcher,FC=Ns.ReactCurrentOwner,wr=Ns.ReactCurrentBatchConfig,Ce=0,_t=null,dt=null,Vt=0,Gn=0,Xc=aa(0),wt=0,qf=null,lc=0,Ub=0,BC=0,Ef=null,En=null,HC=0,rd=1/0,Fi=null,hw=!1,G1=null,Go=null,Ay=!1,Bo=null,dw=0,Cf=0,K1=null,nv=-1,rv=0;function pn(){return Ce&6?at():nv!==-1?nv:nv=at()}function Ko(n){return n.mode&1?Ce&2&&Vt!==0?Vt&-Vt:s3.transition!==null?(rv===0&&(rv=FR()),rv):(n=Ie,n!==0||(n=window.event,n=n===void 0?16:UR(n.type)),n):1}function Yr(n,e,t,r){if(50<Cf)throw Cf=0,K1=null,Error(z(185));Og(n,t,r),(!(Ce&2)||n!==_t)&&(n===_t&&(!(Ce&2)&&(Ub|=t),wt===4&&Ys(n,Vt)),kn(n,r),t===1&&Ce===0&&!(e.mode&1)&&(rd=at()+500,Vb&&la()))}function kn(n,e){var t=n.callbackNode;sV(n,e);var r=qv(n,n===_t?Vt:0);if(r===0)t!==null&&TP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&TP(t),e===1)n.tag===0?i3(vk.bind(null,n)):uM(vk.bind(null,n)),e3(function(){!(Ce&6)&&la()}),t=null;else{switch(BR(r)){case 1:t=dC;break;case 4:t=OR;break;case 16:t=Yv;break;case 536870912:t=jR;break;default:t=Yv}t=lL(t,tL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function tL(n,e){if(nv=-1,rv=0,Ce&6)throw Error(z(327));var t=n.callbackNode;if(cu()&&n.callbackNode!==t)return null;var r=qv(n,n===_t?Vt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=fw(n,r);else{e=r;var i=Ce;Ce|=2;var s=rL();(_t!==n||Vt!==e)&&(Fi=null,rd=at()+500,rc(n,e));do try{C3();break}catch(a){nL(n,a)}while(1);CC(),uw.current=s,Ce=i,dt!==null?e=0:(_t=null,Vt=0,e=wt)}if(e!==0){if(e===2&&(i=b1(n),i!==0&&(r=i,e=Y1(n,i))),e===1)throw t=qf,rc(n,0),Ys(n,r),kn(n,at()),t;if(e===6)Ys(n,r);else{if(i=n.current.alternate,!(r&30)&&!A3(i)&&(e=fw(n,r),e===2&&(s=b1(n),s!==0&&(r=s,e=Y1(n,s))),e===1))throw t=qf,rc(n,0),Ys(n,r),kn(n,at()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:wa(n,En,Fi);break;case 3:if(Ys(n,r),(r&130023424)===r&&(e=HC+500-at(),10<e)){if(qv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){pn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=k1(wa.bind(null,n,En,Fi),e);break}wa(n,En,Fi);break;case 4:if(Ys(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Kr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S3(r/1960))-r,10<r){n.timeoutHandle=k1(wa.bind(null,n,En,Fi),r);break}wa(n,En,Fi);break;case 5:wa(n,En,Fi);break;default:throw Error(z(329))}}}return kn(n,at()),n.callbackNode===t?tL.bind(null,n):null}function Y1(n,e){var t=Ef;return n.current.memoizedState.isDehydrated&&(rc(n,e).flags|=256),n=fw(n,e),n!==2&&(e=En,En=t,e!==null&&q1(e)),n}function q1(n){En===null?En=n:En.push.apply(En,n)}function A3(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!qr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(n,e){for(e&=~BC,e&=~Ub,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Kr(e),r=1<<t;n[t]=-1,e&=~r}}function vk(n){if(Ce&6)throw Error(z(327));cu();var e=qv(n,0);if(!(e&1))return kn(n,at()),null;var t=fw(n,e);if(n.tag!==0&&t===2){var r=b1(n);r!==0&&(e=r,t=Y1(n,r))}if(t===1)throw t=qf,rc(n,0),Ys(n,e),kn(n,at()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,wa(n,En,Fi),kn(n,at()),null}function VC(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(rd=at()+500,Vb&&la())}}function cc(n){Bo!==null&&Bo.tag===0&&!(Ce&6)&&cu();var e=Ce;Ce|=1;var t=wr.transition,r=Ie;try{if(wr.transition=null,Ie=1,n)return n()}finally{Ie=r,wr.transition=t,Ce=e,!(Ce&6)&&la()}}function $C(){Gn=Xc.current,He(Xc)}function rc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ZV(t)),dt!==null)for(t=dt.return;t!==null;){var r=t;switch(SC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ew();break;case 3:td(),He(Tn),He(tn),RC();break;case 5:_C(r);break;case 4:td();break;case 13:He(qe);break;case 19:He(qe);break;case 10:TC(r.type._context);break;case 22:case 23:$C()}t=t.return}if(_t=n,dt=n=Yo(n.current,null),Vt=Gn=e,wt=0,qf=null,BC=Ub=lc=0,En=Ef=null,_a!==null){for(e=0;e<_a.length;e++)if(t=_a[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}_a=null}return n}function nL(n,e){do{var t=dt;try{if(CC(),Zy.current=cw,lw){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lw=!1}if(ac=0,It=yt=Qe=null,Sf=!1,Gf=0,FC.current=null,t===null||t.return===null){wt=1,qf=e,dt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=sk(o);if(m!==null){m.flags&=-257,ok(m,o,a,s,e),m.mode&1&&ik(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){ik(s,c,e),zC();break e}l=Error(z(426))}}else if(Ge&&a.mode&1){var A=sk(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ok(A,o,a,s,e),AC(nd(l,a));break e}}s=l=nd(l,a),wt!==4&&(wt=2),Ef===null?Ef=[s]:Ef.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=BM(s,l,e);JP(s,x);break e;case 1:a=l;var S=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Go===null||!Go.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var p=HM(s,a,e);JP(s,p);break e}}s=s.return}while(s!==null)}sL(t)}catch(w){e=w,dt===t&&t!==null&&(dt=t=t.return);continue}break}while(1)}function rL(){var n=uw.current;return uw.current=cw,n===null?cw:n}function zC(){(wt===0||wt===3||wt===2)&&(wt=4),_t===null||!(lc&268435455)&&!(Ub&268435455)||Ys(_t,Vt)}function fw(n,e){var t=Ce;Ce|=2;var r=rL();(_t!==n||Vt!==e)&&(Fi=null,rc(n,e));do try{E3();break}catch(i){nL(n,i)}while(1);if(CC(),Ce=t,uw.current=r,dt!==null)throw Error(z(261));return _t=null,Vt=0,wt}function E3(){for(;dt!==null;)iL(dt)}function C3(){for(;dt!==null&&!XH();)iL(dt)}function iL(n){var e=aL(n.alternate,n,Gn);n.memoizedProps=n.pendingProps,e===null?sL(n):dt=e,FC.current=null}function sL(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=v3(t,e),t!==null){t.flags&=32767,dt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wt=6,dt=null;return}}else if(t=y3(t,e,Gn),t!==null){dt=t;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=n}while(e!==null);wt===0&&(wt=5)}function wa(n,e,t){var r=Ie,i=wr.transition;try{wr.transition=null,Ie=1,T3(n,e,t,r)}finally{wr.transition=i,Ie=r}return null}function T3(n,e,t,r){do cu();while(Bo!==null);if(Ce&6)throw Error(z(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(oV(n,s),n===_t&&(dt=_t=null,Vt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ay||(Ay=!0,lL(Yv,function(){return cu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=wr.transition,wr.transition=null;var o=Ie;Ie=1;var a=Ce;Ce|=4,FC.current=null,b3(n,t),ZM(t,n),GV(T1),Xv=!!C1,T1=C1=null,n.current=t,x3(t),QH(),Ce=a,Ie=o,wr.transition=s}else n.current=t;if(Ay&&(Ay=!1,Bo=n,dw=i),s=n.pendingLanes,s===0&&(Go=null),eV(t.stateNode),kn(n,at()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(hw)throw hw=!1,n=G1,G1=null,n;return dw&1&&n.tag!==0&&cu(),s=n.pendingLanes,s&1?n===K1?Cf++:(Cf=0,K1=n):Cf=0,la(),null}function cu(){if(Bo!==null){var n=BR(dw),e=wr.transition,t=Ie;try{if(wr.transition=null,Ie=16>n?16:n,Bo===null)var r=!1;else{if(n=Bo,Bo=null,dw=0,Ce&6)throw Error(z(331));var i=Ce;for(Ce|=4,X=n.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Af(8,h,s)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var f=h.sibling,m=h.return;if(XM(h),h===c){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var A=g.sibling;g.sibling=null,g=A}while(g!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Af(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,X=x;break e}X=s.return}}var S=n.current;for(X=S;X!==null;){o=X;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,X=b;else e:for(o=S;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wb(9,a)}}catch(w){et(a,a.return,w)}if(a===o){X=null;break e}var p=a.sibling;if(p!==null){p.return=a.return,X=p;break e}X=a.return}}if(Ce=i,la(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Ob,n)}catch{}r=!0}return r}finally{Ie=t,wr.transition=e}}return!1}function wk(n,e,t){e=nd(t,e),e=BM(n,e,1),n=Uo(n,e,1),e=pn(),n!==null&&(Og(n,1,e),kn(n,e))}function et(n,e,t){if(n.tag===3)wk(n,n,t);else for(;e!==null;){if(e.tag===3){wk(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Go===null||!Go.has(r))){n=nd(t,n),n=HM(e,n,1),e=Uo(e,n,1),n=pn(),e!==null&&(Og(e,1,n),kn(e,n));break}}e=e.return}}function P3(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=pn(),n.pingedLanes|=n.suspendedLanes&t,_t===n&&(Vt&t)===t&&(wt===4||wt===3&&(Vt&130023424)===Vt&&500>at()-HC?rc(n,0):BC|=t),kn(n,e)}function oL(n,e){e===0&&(n.mode&1?(e=fy,fy<<=1,!(fy&130023424)&&(fy=4194304)):e=1);var t=pn();n=ks(n,e),n!==null&&(Og(n,e,t),kn(n,t))}function k3(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),oL(n,t)}function I3(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),oL(n,t)}var aL;aL=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Tn.current)Cn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Cn=!1,g3(n,e,t);Cn=!!(n.flags&131072)}else Cn=!1,Ge&&e.flags&1048576&&hM(e,rw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tv(n,e),n=e.pendingProps;var i=Jh(e,tn.current);lu(e,t),i=LC(null,e,r,n,i,t);var s=NC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(s=!0,tw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kC(e),i.updater=zb,e.stateNode=i,i._reactInternals=e,D1(e,r,n,t),e=F1(null,e,r,!0,s,t)):(e.tag=0,Ge&&s&&xC(e),fn(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(tv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R3(r),n=kr(r,n),i){case 0:e=j1(null,e,r,n,t);break e;case 1:e=ck(null,e,r,n,t);break e;case 11:e=ak(null,e,r,n,t);break e;case 14:e=lk(null,e,r,kr(r.type,n),t);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),j1(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),ck(n,e,r,i,t);case 3:e:{if(WM(e),n===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yM(n,e),ow(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nd(Error(z(423)),e),e=uk(n,e,r,t,i);break e}else if(r!==i){i=nd(Error(z(424)),e),e=uk(n,e,r,t,i);break e}else for(qn=Wo(e.stateNode.containerInfo.firstChild),Xn=e,Ge=!0,Wr=null,t=mM(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Zh(),r===i){e=Is(n,e,t);break e}fn(n,e,r,t)}e=e.child}return e;case 5:return vM(e),n===null&&M1(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,P1(r,i)?o=null:s!==null&&P1(r,s)&&(e.flags|=32),zM(n,e),fn(n,e,o,t),e.child;case 6:return n===null&&M1(e),null;case 13:return UM(n,e,t);case 4:return IC(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ed(e,null,r,t):fn(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),ak(n,e,r,i,t);case 7:return fn(n,e,e.pendingProps,t),e.child;case 8:return fn(n,e,e.pendingProps.children,t),e.child;case 12:return fn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(iw,r._currentValue),r._currentValue=o,s!==null)if(qr(s.value,o)){if(s.children===i.children&&!Tn.current){e=Is(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Es(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),L1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),L1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fn(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lu(e,t),i=xr(i),r=r(i),e.flags|=1,fn(n,e,r,t),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),lk(n,e,r,i,t);case 15:return VM(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),tv(n,e),e.tag=1,Pn(r)?(n=!0,tw(e)):n=!1,lu(e,t),FM(e,r,i),D1(e,r,i,t),F1(null,e,r,!0,n,t);case 19:return GM(n,e,t);case 22:return $M(n,e,t)}throw Error(z(156,e.tag))};function lL(n,e){return DR(n,e)}function _3(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(n,e,t,r){return new _3(n,e,t,r)}function WC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function R3(n){if(typeof n=="function")return WC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===cC)return 11;if(n===uC)return 14}return 2}function Yo(n,e){var t=n.alternate;return t===null?(t=vr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function iv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")WC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Hc:return ic(t.children,i,s,e);case lC:o=8,i|=8;break;case s1:return n=vr(12,t,e,i|2),n.elementType=s1,n.lanes=s,n;case o1:return n=vr(13,t,e,i),n.elementType=o1,n.lanes=s,n;case a1:return n=vr(19,t,e,i),n.elementType=a1,n.lanes=s,n;case vR:return Gb(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case gR:o=10;break e;case yR:o=9;break e;case cC:o=11;break e;case uC:o=14;break e;case Ws:o=16,r=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=vr(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ic(n,e,t,r){return n=vr(7,n,r,e),n.lanes=t,n}function Gb(n,e,t,r){return n=vr(22,n,r,e),n.elementType=vR,n.lanes=t,n.stateNode={isHidden:!1},n}function uS(n,e,t){return n=vr(6,n,null,e),n.lanes=t,n}function hS(n,e,t){return e=vr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function M3(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ux(0),this.expirationTimes=Ux(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ux(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function UC(n,e,t,r,i,s,o,a,l){return n=new M3(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},kC(s),n}function L3(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function cL(n){if(!n)return Zo;n=n._reactInternals;e:{if(yc(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(Pn(t))return cM(n,t,e)}return e}function uL(n,e,t,r,i,s,o,a,l){return n=UC(t,r,!0,n,i,s,o,a,l),n.context=cL(null),t=n.current,r=pn(),i=Ko(t),s=Es(r,i),s.callback=e??null,Uo(t,s,i),n.current.lanes=i,Og(n,i,r),kn(n,r),n}function Kb(n,e,t,r){var i=e.current,s=pn(),o=Ko(i);return t=cL(t),e.context===null?e.context=t:e.pendingContext=t,e=Es(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Uo(i,e,o),n!==null&&(Yr(n,i,o,s),Jy(n,i,o)),o}function pw(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function bk(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function GC(n,e){bk(n,e),(n=n.alternate)&&bk(n,e)}function N3(){return null}var hL=typeof reportError=="function"?reportError:function(n){console.error(n)};function KC(n){this._internalRoot=n}Yb.prototype.render=KC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));Kb(n,e,null,null)};Yb.prototype.unmount=KC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;cc(function(){Kb(null,n,null,null)}),e[Ps]=null}};function Yb(n){this._internalRoot=n}Yb.prototype.unstable_scheduleHydration=function(n){if(n){var e=$R();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ks.length&&e!==0&&e<Ks[t].priority;t++);Ks.splice(t,0,n),t===0&&WR(n)}};function YC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function qb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function xk(){}function D3(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=pw(o);s.call(c)}}var o=uL(e,r,n,0,null,!1,!1,"",xk);return n._reactRootContainer=o,n[Ps]=o.current,Vf(n.nodeType===8?n.parentNode:n),cc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=pw(l);a.call(c)}}var l=UC(n,0,!1,null,null,!1,!1,"",xk);return n._reactRootContainer=l,n[Ps]=l.current,Vf(n.nodeType===8?n.parentNode:n),cc(function(){Kb(e,l,t,r)}),l}function Xb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pw(o);a.call(l)}}Kb(e,o,n,i)}else o=D3(t,e,n,i,r);return pw(o)}HR=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gd(e.pendingLanes);t!==0&&(fC(e,t|1),kn(e,at()),!(Ce&6)&&(rd=at()+500,la()))}break;case 13:cc(function(){var r=ks(n,1);if(r!==null){var i=pn();Yr(r,n,1,i)}}),GC(n,1)}};pC=function(n){if(n.tag===13){var e=ks(n,134217728);if(e!==null){var t=pn();Yr(e,n,134217728,t)}GC(n,134217728)}};VR=function(n){if(n.tag===13){var e=Ko(n),t=ks(n,e);if(t!==null){var r=pn();Yr(t,n,e,r)}GC(n,e)}};$R=function(){return Ie};zR=function(n,e){var t=Ie;try{return Ie=n,e()}finally{Ie=t}};y1=function(n,e,t){switch(e){case"input":if(u1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Hb(r);if(!i)throw Error(z(90));bR(r),u1(r,i)}}}break;case"textarea":SR(n,t);break;case"select":e=t.value,e!=null&&iu(n,!!t.multiple,e,!1)}};IR=VC;_R=cc;var O3={usingClientEntryPoint:!1,Events:[Fg,Wc,Hb,PR,kR,VC]},Ld={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j3={bundleType:Ld.bundleType,version:Ld.version,rendererPackageName:Ld.rendererPackageName,rendererConfig:Ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=LR(n),n===null?null:n.stateNode},findFiberByHostInstance:Ld.findFiberByHostInstance||N3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ey.isDisabled&&Ey.supportsFiber)try{Ob=Ey.inject(j3),Ti=Ey}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O3;er.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YC(e))throw Error(z(200));return L3(n,e,null,t)};er.createRoot=function(n,e){if(!YC(n))throw Error(z(299));var t=!1,r="",i=hL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=UC(n,1,!1,null,null,t,!1,r,i),n[Ps]=e.current,Vf(n.nodeType===8?n.parentNode:n),new KC(e)};er.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=LR(e),n=n===null?null:n.stateNode,n};er.flushSync=function(n){return cc(n)};er.hydrate=function(n,e,t){if(!qb(e))throw Error(z(200));return Xb(null,n,e,!0,t)};er.hydrateRoot=function(n,e,t){if(!YC(n))throw Error(z(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=hL;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=uL(e,null,n,1,t??null,i,!1,s,o),n[Ps]=e.current,Vf(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Yb(e)};er.render=function(n,e,t){if(!qb(e))throw Error(z(200));return Xb(null,n,e,!1,t)};er.unmountComponentAtNode=function(n){if(!qb(n))throw Error(z(40));return n._reactRootContainer?(cc(function(){Xb(null,null,n,!1,function(){n._reactRootContainer=null,n[Ps]=null})}),!0):!1};er.unstable_batchedUpdates=VC;er.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!qb(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return Xb(n,e,t,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function dL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dL)}catch(n){console.error(n)}}dL(),dR.exports=er;var vc=dR.exports;const F3=pd(vc);var Sk=vc;r1.createRoot=Sk.createRoot,r1.hydrateRoot=Sk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xf(){return Xf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xf.apply(this,arguments)}var Ho;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ho||(Ho={}));const Ak="popstate";function B3(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return X1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:mw(i)}return V3(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fL(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H3(){return Math.random().toString(36).substr(2,8)}function Ek(n,e){return{usr:n.state,key:n.key,idx:e}}function X1(n,e,t,r){return t===void 0&&(t=null),Xf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?vd(e):e,{state:t,key:e&&e.key||r||H3()})}function mw(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function V3(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ho.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Xf({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Ho.Pop;let A=h(),x=A==null?null:A-c;c=A,l&&l({action:a,location:g.location,delta:x})}function f(A,x){a=Ho.Push;let S=X1(g.location,A,x);t&&t(S,A),c=h()+1;let b=Ek(S,c),p=g.createHref(S);try{o.pushState(b,"",p)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(p)}s&&l&&l({action:a,location:g.location,delta:1})}function m(A,x){a=Ho.Replace;let S=X1(g.location,A,x);t&&t(S,A),c=h();let b=Ek(S,c),p=g.createHref(S);o.replaceState(b,"",p),s&&l&&l({action:a,location:g.location,delta:0})}function y(A){let x=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof A=="string"?A:mw(A);return S=S.replace(/ $/,"%20"),nt(x,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,x)}let g={get action(){return a},get location(){return n(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ak,d),l=A,()=>{i.removeEventListener(Ak,d),l=null}},createHref(A){return e(i,A)},createURL:y,encodeLocation(A){let x=y(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(A){return o.go(A)}};return g}var Ck;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ck||(Ck={}));function $3(n,e,t){return t===void 0&&(t="/"),z3(n,e,t,!1)}function z3(n,e,t,r){let i=typeof e=="string"?vd(e):e,s=id(i.pathname||"/",t);if(s==null)return null;let o=pL(n);W3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=t$(s);a=Z3(o[l],c,r)}return a}function pL(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qo([r,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pL(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Q3(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of mL(s.path))i(s,o,l)}),e}function mL(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function W3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:J3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const U3=/^:[\w-]+$/,G3=3,K3=2,Y3=1,q3=10,X3=-2,Tk=n=>n==="*";function Q3(n,e){let t=n.split("/"),r=t.length;return t.some(Tk)&&(r+=X3),e&&(r+=K3),t.filter(i=>!Tk(i)).reduce((i,s)=>i+(U3.test(s)?G3:s===""?Y3:q3),r)}function J3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Z3(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=gw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=gw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:qo([s,d.pathname]),pathnameBase:s$(qo([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=qo([s,d.pathnameBase]))}return o}function gw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=e$(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function e$(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),fL(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function t$(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fL(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function id(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function n$(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?vd(n):n;return{pathname:t?t.startsWith("/")?t:r$(t,e):e,search:o$(r),hash:a$(i)}}function r$(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dS(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i$(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gL(n,e){let t=i$(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function yL(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=vd(n):(i=Xf({},n),nt(!i.pathname||!i.pathname.includes("?"),dS("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),dS("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),dS("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=n$(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const qo=n=>n.join("/").replace(/\/\/+/g,"/"),s$=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),o$=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,a$=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function l$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const vL=["post","put","patch","delete"];new Set(vL);const c$=["get",...vL];new Set(c$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qf.apply(this,arguments)}const Qb=E.createContext(null),wL=E.createContext(null),ca=E.createContext(null),Jb=E.createContext(null),ua=E.createContext({outlet:null,matches:[],isDataRoute:!1}),bL=E.createContext(null);function u$(n,e){let{relative:t}=e===void 0?{}:e;Hg()||nt(!1);let{basename:r,navigator:i}=E.useContext(ca),{hash:s,pathname:o,search:a}=Zb(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:qo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Hg(){return E.useContext(Jb)!=null}function Ds(){return Hg()||nt(!1),E.useContext(Jb).location}function xL(n){E.useContext(ca).static||E.useLayoutEffect(n)}function SL(){let{isDataRoute:n}=E.useContext(ua);return n?E$():h$()}function h$(){Hg()||nt(!1);let n=E.useContext(Qb),{basename:e,future:t,navigator:r}=E.useContext(ca),{matches:i}=E.useContext(ua),{pathname:s}=Ds(),o=JSON.stringify(gL(i,t.v7_relativeSplatPath)),a=E.useRef(!1);return xL(()=>{a.current=!0}),E.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=yL(c,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:qo([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,n])}function d$(){let{matches:n}=E.useContext(ua),e=n[n.length-1];return e?e.params:{}}function Zb(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=E.useContext(ca),{matches:i}=E.useContext(ua),{pathname:s}=Ds(),o=JSON.stringify(gL(i,r.v7_relativeSplatPath));return E.useMemo(()=>yL(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function f$(n,e){return p$(n,e)}function p$(n,e,t,r){Hg()||nt(!1);let{navigator:i}=E.useContext(ca),{matches:s}=E.useContext(ua),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ds(),h;if(e){var d;let A=typeof e=="string"?vd(e):e;l==="/"||(d=A.pathname)!=null&&d.startsWith(l)||nt(!1),h=A}else h=c;let f=h.pathname||"/",m=f;if(l!=="/"){let A=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(A.length).join("/")}let y=$3(n,{pathname:m}),g=w$(y&&y.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:qo([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:qo([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,t,r);return e&&g?E.createElement(Jb.Provider,{value:{location:Qf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ho.Pop}},g):g}function m$(){let n=A$(),e=l$(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,s)}const g$=E.createElement(m$,null);class y$ extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(ua.Provider,{value:this.props.routeContext},E.createElement(bL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v$(n){let{routeContext:e,match:t,children:r}=n,i=E.useContext(Qb);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(ua.Provider,{value:e},r)}function w$(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||nt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:m}=t,y=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,y=!1,g=null,A=null;t&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||g$,l&&(c<0&&f===0?(C$("route-fallback",!1),y=!0,A=null):c===f&&(y=!0,A=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),S=()=>{let b;return m?b=g:y?b=A:d.route.Component?b=E.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=h,E.createElement(v$,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?E.createElement(y$,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}var AL=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(AL||{}),yw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(yw||{});function b$(n){let e=E.useContext(Qb);return e||nt(!1),e}function x$(n){let e=E.useContext(wL);return e||nt(!1),e}function S$(n){let e=E.useContext(ua);return e||nt(!1),e}function EL(n){let e=S$(),t=e.matches[e.matches.length-1];return t.route.id||nt(!1),t.route.id}function A$(){var n;let e=E.useContext(bL),t=x$(yw.UseRouteError),r=EL(yw.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function E$(){let{router:n}=b$(AL.UseNavigateStable),e=EL(yw.UseNavigateStable),t=E.useRef(!1);return xL(()=>{t.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Qf({fromRouteId:e},s)))},[n,e])}const Pk={};function C$(n,e,t){!e&&!Pk[n]&&(Pk[n]=!0)}function T$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ni(n){nt(!1)}function P$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ho.Pop,navigator:s,static:o=!1,future:a}=n;Hg()&&nt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Qf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=vd(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:y="default"}=r,g=E.useMemo(()=>{let A=id(h,l);return A==null?null:{location:{pathname:A,search:d,hash:f,state:m,key:y},navigationType:i}},[l,h,d,f,m,y,i]);return g==null?null:E.createElement(ca.Provider,{value:c},E.createElement(Jb.Provider,{children:t,value:g}))}function k$(n){let{children:e,location:t}=n;return f$(Q1(e),t)}new Promise(()=>{});function Q1(n,e){e===void 0&&(e=[]);let t=[];return E.Children.forEach(n,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){t.push.apply(t,Q1(r.props.children,s));return}r.type!==Ni&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Q1(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vw(){return vw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vw.apply(this,arguments)}function CL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function I$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _$(n,e){return n.button===0&&(!e||e==="_self")&&!I$(n)}const R$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],L$="6";try{window.__reactRouterVersion=L$}catch{}const N$=E.createContext({isTransitioning:!1}),D$="startTransition",kk=iC[D$];function O$(n){let{basename:e,children:t,future:r,window:i}=n,s=E.useRef();s.current==null&&(s.current=B3({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=E.useCallback(d=>{c&&kk?kk(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>o.listen(h),[o,h]),E.useEffect(()=>T$(r),[r]),E.createElement(P$,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const j$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B$=E.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,f=CL(e,R$),{basename:m}=E.useContext(ca),y,g=!1;if(typeof c=="string"&&F$.test(c)&&(y=c,j$))try{let b=new URL(window.location.href),p=c.startsWith("//")?new URL(b.protocol+c):new URL(c),w=id(p.pathname,m);p.origin===b.origin&&w!=null?c=w+p.search+p.hash:g=!0}catch{}let A=u$(c,{relative:i}),x=V$(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function S(b){r&&r(b),b.defaultPrevented||x(b)}return E.createElement("a",vw({},f,{href:y||A,onClick:g||s?r:S,ref:t,target:l}))}),en=E.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:h}=e,d=CL(e,M$),f=Zb(l,{relative:d.relative}),m=Ds(),y=E.useContext(wL),{navigator:g,basename:A}=E.useContext(ca),x=y!=null&&$$(f)&&c===!0,S=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=m.pathname,p=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(b=b.toLowerCase(),p=p?p.toLowerCase():null,S=S.toLowerCase()),p&&A&&(p=id(p,A)||p);const w=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=b===S||!o&&b.startsWith(S)&&b.charAt(w)==="/",k=p!=null&&(p===S||!o&&p.startsWith(S)&&p.charAt(S.length)==="/"),_={isActive:T,isPending:k,isTransitioning:x},R=T?r:void 0,M;typeof s=="function"?M=s(_):M=[s,T?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(_):a;return E.createElement(B$,vw({},d,{"aria-current":R,className:M,ref:t,style:L,to:l,viewTransition:c}),typeof h=="function"?h(_):h)});var J1;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(J1||(J1={}));var Ik;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ik||(Ik={}));function H$(n){let e=E.useContext(Qb);return e||nt(!1),e}function V$(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=SL(),c=Ds(),h=Zb(n,{relative:o});return E.useCallback(d=>{if(_$(d,t)){d.preventDefault();let f=r!==void 0?r:mw(c)===mw(h);l(n,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,t,n,s,o,a])}function $$(n,e){e===void 0&&(e={});let t=E.useContext(N$);t==null&&nt(!1);let{basename:r}=H$(J1.useViewTransitionState),i=Zb(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=id(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=id(t.nextLocation.pathname,r)||t.nextLocation.pathname;return gw(i.pathname,o)!=null||gw(i.pathname,s)!=null}const ex=E.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),tx=E.createContext({}),nx=E.createContext(null),rx=typeof document<"u",Vg=rx?E.useLayoutEffect:E.useEffect,TL=E.createContext({strict:!1}),qC=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),z$="framerAppearId",PL="data-"+qC(z$);function W$(n,e,t,r){const{visualElement:i}=E.useContext(tx),s=E.useContext(TL),o=E.useContext(nx),a=E.useContext(ex).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;E.useInsertionEffect(()=>{c&&c.update(t,o)});const h=E.useRef(!!(t[PL]&&!window.HandoffComplete));return Vg(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Qc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function U$(n,e,t){return E.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Qc(t)&&(t.current=r))},[e])}function Jf(n){return typeof n=="string"||Array.isArray(n)}function ix(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const XC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QC=["initial",...XC];function sx(n){return ix(n.animate)||QC.some(e=>Jf(n[e]))}function kL(n){return!!(sx(n)||n.variants)}function G$(n,e){if(sx(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Jf(t)?t:void 0,animate:Jf(r)?r:void 0}}return n.inherit!==!1?e:{}}function K$(n){const{initial:e,animate:t}=G$(n,E.useContext(tx));return E.useMemo(()=>({initial:e,animate:t}),[_k(e),_k(t)])}function _k(n){return Array.isArray(n)?n.join(" "):n}const Rk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zf={};for(const n in Rk)Zf[n]={isEnabled:e=>Rk[n].some(t=>!!e[t])};function Y$(n){for(const e in n)Zf[e]={...Zf[e],...n[e]}}const JC=E.createContext({}),IL=E.createContext({}),q$=Symbol.for("motionComponentSymbol");function X$({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&Y$(n);function s(a,l){let c;const h={...E.useContext(ex),...a,layoutId:Q$(a)},{isStatic:d}=h,f=K$(a),m=r(a,d);if(!d&&rx){f.visualElement=W$(i,m,h,e);const y=E.useContext(IL),g=E.useContext(TL).strict;f.visualElement&&(c=f.visualElement.loadFeatures(h,g,n,y))}return E.createElement(tx.Provider,{value:f},c&&f.visualElement?E.createElement(c,{visualElement:f.visualElement,...h}):null,t(i,a,U$(m,f.visualElement,l),m,d,f.visualElement))}const o=E.forwardRef(s);return o[q$]=i,o}function Q$({layoutId:n}){const e=E.useContext(JC).id;return e&&n!==void 0?e+"-"+n:n}function J$(n){function e(r,i={}){return X$(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const Z$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZC(n){return typeof n!="string"||n.includes("-")?!1:!!(Z$.indexOf(n)>-1||/[A-Z]/.test(n))}const ww={};function ez(n){Object.assign(ww,n)}const $g=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wc=new Set($g);function _L(n,{layout:e,layoutId:t}){return wc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ww[n]||n==="opacity")}const nn=n=>!!(n&&n.getVelocity),tz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nz=$g.length;function rz(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<nz;o++){const a=$g[o];if(n[a]!==void 0){const l=tz[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const RL=n=>e=>typeof e=="string"&&e.startsWith(n),ML=RL("--"),Z1=RL("var(--"),iz=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,sz=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ea=(n,e,t)=>Math.min(Math.max(t,n),e),bc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tf={...bc,transform:n=>ea(0,1,n)},Cy={...bc,default:1},Pf=n=>Math.round(n*1e5)/1e5,ox=/(-)?([\d]*\.?[\d])+/g,LL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zg(n){return typeof n=="string"}const Wg=n=>({test:e=>zg(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vs=Wg("deg"),ki=Wg("%"),re=Wg("px"),az=Wg("vh"),lz=Wg("vw"),Mk={...ki,parse:n=>ki.parse(n)/100,transform:n=>ki.transform(n*100)},Lk={...bc,transform:Math.round},NL={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:Cy,scaleX:Cy,scaleY:Cy,scaleZ:Cy,skew:Vs,skewX:Vs,skewY:Vs,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Tf,originX:Mk,originY:Mk,originZ:re,zIndex:Lk,fillOpacity:Tf,strokeOpacity:Tf,numOctaves:Lk};function eT(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,h=!0;for(const d in e){const f=e[d];if(ML(d)){s[d]=f;continue}const m=NL[d],y=sz(f,m);if(wc.has(d)){if(l=!0,o[d]=y,!h)continue;f!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=y):i[d]=y}if(e.transform||(l||r?i.transform=rz(n.transform,t,h,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${f} ${m}`}}const tT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DL(n,e,t){for(const r in e)!nn(e[r])&&!_L(r,t)&&(n[r]=e[r])}function cz({transformTemplate:n},e,t){return E.useMemo(()=>{const r=tT();return eT(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function uz(n,e,t){const r=n.style||{},i={};return DL(i,r,n),Object.assign(i,cz(n,e,t)),n.transformValues?n.transformValues(i):i}function hz(n,e,t){const r={},i=uz(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const dz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||dz.has(n)}let OL=n=>!bw(n);function fz(n){n&&(OL=e=>e.startsWith("on")?!bw(e):n(e))}try{fz(require("@emotion/is-prop-valid").default)}catch{}function pz(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(OL(i)||t===!0&&bw(i)||!e&&!bw(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function Nk(n,e,t){return typeof n=="string"?n:re.transform(e+t*n)}function mz(n,e,t){const r=Nk(e,n.x,n.width),i=Nk(t,n.y,n.height);return`${r} ${i}`}const gz={offset:"stroke-dashoffset",array:"stroke-dasharray"},yz={offset:"strokeDashoffset",array:"strokeDasharray"};function vz(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?gz:yz;n[s.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(t);n[s.array]=`${o} ${a}`}function nT(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,f){if(eT(n,c,h,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:g}=n;m.transform&&(g&&(y.transform=m.transform),delete m.transform),g&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=mz(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&vz(m,o,a,l,!1)}const jL=()=>({...tT(),attrs:{}}),rT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function wz(n,e,t,r){const i=E.useMemo(()=>{const s=jL();return nT(s,e,{enableHardwareAcceleration:!1},rT(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};DL(s,n.style,n),i.style={...s,...i.style}}return i}function bz(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(ZC(t)?wz:hz)(r,s,o,t),h={...pz(r,typeof t=="string",n),...l,ref:i},{children:d}=r,f=E.useMemo(()=>nn(d)?d.get():d,[d]);return E.createElement(t,{...h,children:f})}}function FL(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const BL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HL(n,e,t,r){FL(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(BL.has(i)?i:qC(i),e.attrs[i])}function iT(n,e){const{style:t}=n,r={};for(const i in t)(nn(t[i])||e.style&&nn(e.style[i])||_L(i,n))&&(r[i]=t[i]);return r}function VL(n,e){const t=iT(n,e);for(const r in n)if(nn(n[r])||nn(e[r])){const i=$g.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function sT(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function ax(n){const e=E.useRef(null);return e.current===null&&(e.current=n()),e.current}const xw=n=>Array.isArray(n),xz=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Sz=n=>xw(n)?n[n.length-1]||0:n;function sv(n){const e=nn(n)?n.get():n;return xz(e)?e.toValue():e}function Az({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Ez(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const $L=n=>(e,t)=>{const r=E.useContext(tx),i=E.useContext(nx),s=()=>Az(n,e,r,i);return t?s():ax(s)};function Ez(n,e,t,r){const i={},s=r(n,{});for(const f in s)i[f]=sv(s[f]);let{initial:o,animate:a}=n;const l=sx(n),c=kL(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!ix(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const y=sT(n,m);if(!y)return;const{transitionEnd:g,transition:A,...x}=y;for(const S in x){let b=x[S];if(Array.isArray(b)){const p=h?b.length-1:0;b=b[p]}b!==null&&(i[S]=b)}for(const S in g)i[S]=g[S]}),i}const tt=n=>n;class Dk{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Cz(n){let e=new Dk,t=new Dk,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&i,f=d?e:t;return c&&o.add(l),f.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const Ty=["prepare","read","update","preRender","render","postRender"],Tz=40;function Pz(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Ty.reduce((d,f)=>(d[f]=Cz(()=>t=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,Tz),1),i.timestamp=d,i.isProcessing=!0,Ty.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:Ty.reduce((d,f)=>{const m=s[f];return d[f]=(y,g=!1,A=!1)=>(t||l(),m.schedule(y,g,A)),d},{}),cancel:d=>Ty.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:Ne,cancel:Ri,state:kt,steps:fS}=Pz(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0),kz={useVisualState:$L({scrapeMotionValuesFromProps:VL,createRenderState:jL,onMount:(n,e,{renderState:t,latestValues:r})=>{Ne.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{nT(t,r,{enableHardwareAcceleration:!1},rT(e.tagName),n.transformTemplate),HL(e,t)})}})},Iz={useVisualState:$L({scrapeMotionValuesFromProps:iT,createRenderState:tT})};function _z(n,{forwardMotionProps:e=!1},t,r){return{...ZC(n)?kz:Iz,preloadedFeatures:t,useRender:bz(e),createVisualElement:r,Component:n}}function As(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const zL=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function lx(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Rz=n=>e=>zL(e)&&n(e,lx(e));function Cs(n,e,t,r){return As(n,e,Rz(t),r)}const Mz=(n,e)=>t=>e(n(t)),Xo=(...n)=>n.reduce(Mz);function WL(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const Ok=WL("dragHorizontal"),jk=WL("dragVertical");function UL(n){let e=!1;if(n==="y")e=jk();else if(n==="x")e=Ok();else{const t=Ok(),r=jk();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function GL(){const n=UL(!0);return n?(n(),!1):!0}class ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Fk(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||GL())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&Ne.update(()=>a[r](s,o))};return Cs(n.current,t,i,{passive:!n.getProps()[r]})}class Lz extends ha{mount(){this.unmount=Xo(Fk(this.node,!0),Fk(this.node,!1))}unmount(){}}class Nz extends ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xo(As(this.node.current,"focus",()=>this.onFocus()),As(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const KL=(n,e)=>e?n===e?!0:KL(n,e.parentElement):!1;function pS(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,lx(t))}class Dz extends ha{constructor(){super(...arguments),this.removeStartListeners=tt,this.removeEndListeners=tt,this.removeAccessibleListeners=tt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Cs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps();Ne.update(()=>{!d&&!KL(this.node.current,a.target)?h&&h(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Cs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Xo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||pS("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Ne.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=As(this.node.current,"keyup",o),pS("down",(a,l)=>{this.startPress(a,l)})},t=As(this.node.current,"keydown",e),r=()=>{this.isPressing&&pS("cancel",(s,o)=>this.cancelPress(s,o))},i=As(this.node.current,"blur",r);this.removeAccessibleListeners=Xo(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ne.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!GL()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ne.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Cs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=As(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xo(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const eA=new WeakMap,mS=new WeakMap,Oz=n=>{const e=eA.get(n.target);e&&e(n)},jz=n=>{n.forEach(Oz)};function Fz({root:n,...e}){const t=n||document;mS.has(t)||mS.set(t,{});const r=mS.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(jz,{root:n,...e})),r[i]}function Bz(n,e,t){const r=Fz(e);return eA.set(n,t),r.observe(n),()=>{eA.delete(n),r.unobserve(n)}}const Hz={some:0,all:1};class Vz extends ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Hz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return Bz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some($z(e,t))&&this.startObserver()}unmount(){}}function $z({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const zz={inView:{Feature:Vz},tap:{Feature:Dz},focus:{Feature:Nz},hover:{Feature:Lz}};function YL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Wz(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Uz(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function cx(n,e,t){const r=n.getProps();return sT(r,e,t!==void 0?t:r.custom,Wz(n),Uz(n))}let Gz=tt,oT=tt;const Qo=n=>n*1e3,Ii=n=>n/1e3,Kz={current:!1},qL=n=>Array.isArray(n)&&typeof n[0]=="number";function XL(n){return!!(!n||typeof n=="string"&&QL[n]||qL(n)||Array.isArray(n)&&n.every(XL))}const Yd=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,QL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yd([0,.65,.55,1]),circOut:Yd([.55,0,1,.45]),backIn:Yd([.31,.01,.66,-.59]),backOut:Yd([.33,1.53,.69,.99])};function JL(n){if(n)return qL(n)?Yd(n):Array.isArray(n)?n.map(JL):QL[n]}function Yz(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const h=JL(a);return Array.isArray(h)&&(c.easing=h),n.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function qz(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const ZL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Xz=1e-7,Qz=12;function Jz(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=ZL(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Xz&&++a<Qz);return o}function Ug(n,e,t,r){if(n===e&&t===r)return tt;const i=s=>Jz(s,0,1,n,t);return s=>s===0||s===1?s:ZL(i(s),e,r)}const Zz=Ug(.42,0,1,1),eW=Ug(0,0,.58,1),eN=Ug(.42,0,.58,1),tW=n=>Array.isArray(n)&&typeof n[0]!="number",tN=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,nN=n=>e=>1-n(1-e),aT=n=>1-Math.sin(Math.acos(n)),rN=nN(aT),nW=tN(aT),iN=Ug(.33,1.53,.69,.99),lT=nN(iN),rW=tN(lT),iW=n=>(n*=2)<1?.5*lT(n):.5*(2-Math.pow(2,-10*(n-1))),sW={linear:tt,easeIn:Zz,easeInOut:eN,easeOut:eW,circIn:aT,circInOut:nW,circOut:rN,backIn:lT,backInOut:rW,backOut:iN,anticipate:iW},Bk=n=>{if(Array.isArray(n)){oT(n.length===4);const[e,t,r,i]=n;return Ug(e,t,r,i)}else if(typeof n=="string")return sW[n];return n},cT=(n,e)=>t=>!!(zg(t)&&oz.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),sN=(n,e,t)=>r=>{if(!zg(r))return r;const[i,s,o,a]=r.match(ox);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oW=n=>ea(0,255,n),gS={...bc,transform:n=>Math.round(oW(n))},Ma={test:cT("rgb","red"),parse:sN("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+gS.transform(n)+", "+gS.transform(e)+", "+gS.transform(t)+", "+Pf(Tf.transform(r))+")"};function aW(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const tA={test:cT("#"),parse:aW,transform:Ma.transform},Jc={test:cT("hsl","hue"),parse:sN("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ki.transform(Pf(e))+", "+ki.transform(Pf(t))+", "+Pf(Tf.transform(r))+")"},un={test:n=>Ma.test(n)||tA.test(n)||Jc.test(n),parse:n=>Ma.test(n)?Ma.parse(n):Jc.test(n)?Jc.parse(n):tA.parse(n),transform:n=>zg(n)?n:n.hasOwnProperty("red")?Ma.transform(n):Jc.transform(n)},Xe=(n,e,t)=>-t*n+t*e+n;function yS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function lW({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=yS(l,a,n+1/3),s=yS(l,a,n),o=yS(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const vS=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},cW=[tA,Ma,Jc],uW=n=>cW.find(e=>e.test(n));function Hk(n){const e=uW(n);let t=e.parse(n);return e===Jc&&(t=lW(t)),t}const oN=(n,e)=>{const t=Hk(n),r=Hk(e),i={...t};return s=>(i.red=vS(t.red,r.red,s),i.green=vS(t.green,r.green,s),i.blue=vS(t.blue,r.blue,s),i.alpha=Xe(t.alpha,r.alpha,s),Ma.transform(i))};function hW(n){var e,t;return isNaN(n)&&zg(n)&&(((e=n.match(ox))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(LL))===null||t===void 0?void 0:t.length)||0)>0}const aN={regex:iz,countKey:"Vars",token:"${v}",parse:tt},lN={regex:LL,countKey:"Colors",token:"${c}",parse:un.parse},cN={regex:ox,countKey:"Numbers",token:"${n}",parse:bc.parse};function wS(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function Sw(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&wS(t,aN),wS(t,lN),wS(t,cN),t}function uN(n){return Sw(n).values}function hN(n){const{values:e,numColors:t,numVars:r,tokenised:i}=Sw(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(aN.token,o[l]):l<r+t?a=a.replace(lN.token,un.transform(o[l])):a=a.replace(cN.token,Pf(o[l]));return a}}const dW=n=>typeof n=="number"?0:n;function fW(n){const e=uN(n);return hN(n)(e.map(dW))}const ta={test:hW,parse:uN,createTransformer:hN,getAnimatableNone:fW},dN=(n,e)=>t=>`${t>0?e:n}`;function fN(n,e){return typeof n=="number"?t=>Xe(n,e,t):un.test(n)?oN(n,e):n.startsWith("var(")?dN(n,e):mN(n,e)}const pN=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>fN(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},pW=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=fN(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},mN=(n,e)=>{const t=ta.createTransformer(e),r=Sw(n),i=Sw(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Xo(pN(r.values,i.values),t):dN(n,e)},ep=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Vk=(n,e)=>t=>Xe(n,e,t);function mW(n){return typeof n=="number"?Vk:typeof n=="string"?un.test(n)?oN:mN:Array.isArray(n)?pN:typeof n=="object"?pW:Vk}function gW(n,e,t){const r=[],i=t||mW(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||tt:e;a=Xo(l,a)}r.push(a)}return r}function uT(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(oT(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=gW(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<n.length-2&&!(c<n[h+1]);h++);const d=ep(n[h],n[h+1],c);return o[h](d)};return t?c=>l(ea(n[0],n[s-1],c)):l}function yW(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=ep(0,e,r);n.push(Xe(t,1,i))}}function vW(n){const e=[0];return yW(e,n.length-1),e}function wW(n,e){return n.map(t=>t*e)}function bW(n,e){return n.map(()=>e||eN).splice(0,n.length-1)}function Aw({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=tW(r)?r.map(Bk):Bk(r),s={done:!1,value:e[0]},o=wW(t&&t.length===e.length?t:vW(e),n),a=uT(o,e,{ease:Array.isArray(i)?i:bW(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function gN(n,e){return e?n*(1e3/e):0}const xW=5;function yN(n,e,t){const r=Math.max(e-xW,0);return gN(t-n(r),e-r)}const bS=.001,SW=.01,$k=10,AW=.05,EW=1;function CW({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Gz(n<=Qo($k));let o=1-e;o=ea(AW,EW,o),n=ea(SW,$k,Ii(n)),o<1?(i=c=>{const h=c*o,d=h*n,f=h-t,m=nA(c,o),y=Math.exp(-d);return bS-f/m*y},s=c=>{const d=c*o*n,f=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-d),g=nA(Math.pow(c,2),o);return(-i(c)+bS>0?-1:1)*((f-m)*y)/g}):(i=c=>{const h=Math.exp(-c*n),d=(c-t)*n+1;return-bS+h*d},s=c=>{const h=Math.exp(-c*n),d=(t-c)*(n*n);return h*d});const a=5/n,l=PW(i,s,a);if(n=Qo(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const TW=12;function PW(n,e,t){let r=t;for(let i=1;i<TW;i++)r=r-n(r)/e(r);return r}function nA(n,e){return n*Math.sqrt(1-e*e)}const kW=["duration","bounce"],IW=["stiffness","damping","mass"];function zk(n,e){return e.some(t=>n[t]!==void 0)}function _W(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!zk(n,IW)&&zk(n,kW)){const t=CW(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function vN({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=_W({...r,velocity:-Ii(r.velocity||0)}),m=d||0,y=l/(2*Math.sqrt(a*c)),g=s-i,A=Ii(Math.sqrt(a/c)),x=Math.abs(g)<5;t||(t=x?.01:2),e||(e=x?.005:.5);let S;if(y<1){const b=nA(A,y);S=p=>{const w=Math.exp(-y*A*p);return s-w*((m+y*A*g)/b*Math.sin(b*p)+g*Math.cos(b*p))}}else if(y===1)S=b=>s-Math.exp(-A*b)*(g+(m+A*g)*b);else{const b=A*Math.sqrt(y*y-1);S=p=>{const w=Math.exp(-y*A*p),T=Math.min(b*p,300);return s-w*((m+y*A*g)*Math.sinh(T)+b*g*Math.cosh(T))/b}}return{calculatedDuration:f&&h||null,next:b=>{const p=S(b);if(f)o.done=b>=h;else{let w=m;b!==0&&(y<1?w=yN(S,b,p):w=0);const T=Math.abs(w)<=t,k=Math.abs(s-p)<=e;o.done=T&&k}return o.value=o.done?s:p,o}}}function Wk({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],f={done:!1,value:d},m=_=>a!==void 0&&_<a||l!==void 0&&_>l,y=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let g=t*e;const A=d+g,x=o===void 0?A:o(A);x!==A&&(g=x-d);const S=_=>-g*Math.exp(-_/r),b=_=>x+S(_),p=_=>{const R=S(_),M=b(_);f.done=Math.abs(R)<=c,f.value=f.done?x:M};let w,T;const k=_=>{m(f.value)&&(w=_,T=vN({keyframes:[f.value,y(f.value)],velocity:yN(b,_,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return k(0),{calculatedDuration:null,next:_=>{let R=!1;return!T&&w===void 0&&(R=!0,p(_),k(_)),w!==void 0&&_>w?T.next(_-w):(!R&&p(_),f)}}}const RW=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ne.update(e,!0),stop:()=>Ri(e),now:()=>kt.isProcessing?kt.timestamp:performance.now()}},Uk=2e4;function Gk(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Uk;)e+=t,r=n.next(e);return e>=Uk?1/0:e}const MW={decay:Wk,inertia:Wk,tween:Aw,keyframes:Aw,spring:vN};function tp({autoplay:n=!0,delay:e=0,driver:t=RW,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...f}){let m=1,y=!1,g,A;const x=()=>{A=new Promise(U=>{g=U})};x();let S;const b=MW[i]||Aw;let p;b!==Aw&&typeof r[0]!="number"&&(p=uT([0,100],r,{clamp:!1}),r=[0,100]);const w=b({...f,keyframes:r});let T;a==="mirror"&&(T=b({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let k="idle",_=null,R=null,M=null;w.calculatedDuration===null&&s&&(w.calculatedDuration=Gk(w));const{calculatedDuration:L}=w;let j=1/0,H=1/0;L!==null&&(j=L+o,H=j*(s+1)-o);let N=0;const $=U=>{if(R===null)return;m>0&&(R=Math.min(R,U)),m<0&&(R=Math.min(U-H/m,R)),_!==null?N=_:N=Math.round(U-R)*m;const K=N-e*(m>=0?1:-1),J=m>=0?K<0:K>H;N=Math.max(K,0),k==="finished"&&_===null&&(N=H);let he=N,Pe=w;if(s){const ce=Math.min(N,H)/j;let te=Math.floor(ce),ie=ce%1;!ie&&ce>=1&&(ie=1),ie===1&&te--,te=Math.min(te,s+1),!!(te%2)&&(a==="reverse"?(ie=1-ie,o&&(ie-=o/j)):a==="mirror"&&(Pe=T)),he=ea(0,1,ie)*j}const le=J?{done:!1,value:r[0]}:Pe.next(he);p&&(le.value=p(le.value));let{done:G}=le;!J&&L!==null&&(G=m>=0?N>=H:N<=0);const de=_===null&&(k==="finished"||k==="running"&&G);return d&&d(le.value),de&&O(),le},D=()=>{S&&S.stop(),S=void 0},B=()=>{k="idle",D(),g(),x(),R=M=null},O=()=>{k="finished",h&&h(),D(),g()},F=()=>{if(y)return;S||(S=t($));const U=S.now();l&&l(),_!==null?R=U-_:(!R||k==="finished")&&(R=U),k==="finished"&&x(),M=R,_=null,k="running",S.start()};n&&F();const W={then(U,K){return A.then(U,K)},get time(){return Ii(N)},set time(U){U=Qo(U),N=U,_!==null||!S||m===0?_=U:R=S.now()-U/m},get duration(){const U=w.calculatedDuration===null?Gk(w):w.calculatedDuration;return Ii(U)},get speed(){return m},set speed(U){U===m||!S||(m=U,W.time=Ii(N))},get state(){return k},play:F,pause:()=>{k="paused",_=N},stop:()=>{y=!0,k!=="idle"&&(k="idle",c&&c(),B())},cancel:()=>{M!==null&&$(M),B()},complete:()=>{k="finished"},sample:U=>(R=0,$(U))};return W}function LW(n){let e;return()=>(e===void 0&&(e=n()),e)}const NW=LW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),DW=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Py=10,OW=2e4,jW=(n,e)=>e.type==="spring"||n==="backgroundColor"||!XL(e.ease);function FW(n,e,{onUpdate:t,onComplete:r,...i}){if(!(NW()&&DW.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const h=()=>{l=new Promise(b=>{a=b})};h();let{keyframes:d,duration:f=300,ease:m,times:y}=i;if(jW(e,i)){const b=tp({...i,repeat:0,delay:0});let p={done:!1,value:d[0]};const w=[];let T=0;for(;!p.done&&T<OW;)p=b.sample(T),w.push(p.value),T+=Py;y=void 0,d=w,f=T-Py,m="linear"}const g=Yz(n.owner.current,e,d,{...i,duration:f,ease:m,times:y}),A=()=>{c=!1,g.cancel()},x=()=>{c=!0,Ne.update(A),a(),h()};return g.onfinish=()=>{c||(n.set(qz(d,i)),r&&r(),x())},{then(b,p){return l.then(b,p)},attachTimeline(b){return g.timeline=b,g.onfinish=null,tt},get time(){return Ii(g.currentTime||0)},set time(b){g.currentTime=Qo(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return Ii(f)},play:()=>{o||(g.play(),Ri(A))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const p=tp({...i,autoplay:!1});n.setWithVelocity(p.sample(b-Py).value,p.sample(b).value,Py)}x()},complete:()=>{c||g.finish()},cancel:x}}function BW({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:tt,pause:tt,stop:tt,then:s=>(s(),Promise.resolve()),cancel:tt,complete:tt});return e?tp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const HW={type:"spring",stiffness:500,damping:25,restSpeed:10},VW=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),$W={type:"keyframes",duration:.8},zW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WW=(n,{keyframes:e})=>e.length>2?$W:wc.has(n)?n.startsWith("scale")?VW(e[1]):HW:zW,rA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ta.test(e)||e==="0")&&!e.startsWith("url(")),UW=new Set(["brightness","contrast","saturate","opacity"]);function GW(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ox)||[];if(!r)return n;const i=t.replace(r,"");let s=UW.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const KW=/([a-z-]*)\(.*?\)/g,iA={...ta,getAnimatableNone:n=>{const e=n.match(KW);return e?e.map(GW).join(" "):n}},YW={...NL,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:iA,WebkitFilter:iA},hT=n=>YW[n];function wN(n,e){let t=hT(n);return t!==iA&&(t=ta),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const bN=n=>/^0[^.\s]+$/.test(n);function qW(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||bN(n)}function XW(n,e,t,r){const i=rA(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),qW(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];s[h]=wN(e,a)}return s}function QW({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function dT(n,e){return n[e]||n.default||n}const JW={skipAnimations:!1},fT=(n,e,t,r={})=>i=>{const s=dT(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Qo(o);const l=XW(e,n,t,s),c=l[0],h=l[l.length-1],d=rA(n,c),f=rA(n,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(QW(s)||(m={...m,...WW(n,m)}),m.duration&&(m.duration=Qo(m.duration)),m.repeatDelay&&(m.repeatDelay=Qo(m.repeatDelay)),!d||!f||Kz.current||s.type===!1||JW.skipAnimations)return BW(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=FW(e,n,m);if(y)return y}return tp(m)};function Ew(n){return!!(nn(n)&&n.add)}const xN=n=>/^\-?\d*\.?\d+$/.test(n);function pT(n,e){n.indexOf(e)===-1&&n.push(e)}function mT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class gT{constructor(){this.subscriptions=[]}add(e){return pT(this.subscriptions,e),()=>mT(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ZW=n=>!isNaN(parseFloat(n)),kf={current:void 0};class eU{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=kt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=ZW(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new gT);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return kf.current&&kf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uc(n,e){return new eU(n,e)}const SN=n=>e=>e.test(n),tU={test:n=>n==="auto",parse:n=>n},AN=[bc,re,ki,Vs,lz,az,tU],Nd=n=>AN.find(SN(n)),nU=[...AN,un,ta],rU=n=>nU.find(SN(n));function iU(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,uc(t))}function sU(n,e){const t=cx(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Sz(s[o]);iU(n,o,a)}}function oU(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(xN(h)||bN(h))?h=parseFloat(h):!rU(h)&&ta.test(c)&&(h=wN(l,c)),n.addValue(l,uc(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function aU(n,e){return e?(e[n]||e.default||e).from:void 0}function lU(n,e,t){const r={};for(const i in n){const s=aU(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function cU({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function uU(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function EN(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const d in a){const f=n.getValue(d),m=a[d];if(!f||m===void 0||h&&cU(h,d))continue;const y={delay:t,elapsed:0,...dT(s||{},d)};if(window.HandoffAppearAnimations){const x=n.getProps()[PL];if(x){const S=window.HandoffAppearAnimations(x,d,f,Ne);S!==null&&(y.elapsed=S,y.isHandoff=!0)}}let g=!y.isHandoff&&!uU(f,m);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(fT(d,f,m,n.shouldReduceMotion&&wc.has(d)?{type:!1}:y));const A=f.animation;Ew(l)&&(l.add(d),A.then(()=>l.remove(d))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&sU(n,o)}),c}function sA(n,e,t={}){const r=cx(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(EN(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=i;return hU(n,e,c+l,h,d,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function hU(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(dU).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(sA(c,e,{...s,delay:t+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function dU(n,e){return n.sortNodePosition(e)}function fU(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>sA(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=sA(n,e,t);else{const i=typeof e=="function"?cx(n,e,t.custom):e;r=Promise.all(EN(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const pU=[...XC].reverse(),mU=XC.length;function gU(n){return e=>Promise.all(e.map(({animation:t,options:r})=>fU(n,t,r)))}function yU(n){let e=gU(n);const t=wU();let r=!0;const i=(l,c)=>{const h=cx(n,c);if(h){const{transition:d,transitionEnd:f,...m}=h;l={...l,...m,...f}}return l};function s(l){e=l(n)}function o(l,c){const h=n.getProps(),d=n.getVariantContext(!0)||{},f=[],m=new Set;let y={},g=1/0;for(let x=0;x<mU;x++){const S=pU[x],b=t[S],p=h[S]!==void 0?h[S]:d[S],w=Jf(p),T=S===c?b.isActive:null;T===!1&&(g=x);let k=p===d[S]&&p!==h[S]&&w;if(k&&r&&n.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...y},!b.isActive&&T===null||!p&&!b.prevProp||ix(p)||typeof p=="boolean")continue;let R=vU(b.prevProp,p)||S===c&&b.isActive&&!k&&w||x>g&&w,M=!1;const L=Array.isArray(p)?p:[p];let j=L.reduce(i,{});T===!1&&(j={});const{prevResolvedValues:H={}}=b,N={...H,...j},$=D=>{R=!0,m.has(D)&&(M=!0,m.delete(D)),b.needsAnimating[D]=!0};for(const D in N){const B=j[D],O=H[D];if(y.hasOwnProperty(D))continue;let F=!1;xw(B)&&xw(O)?F=!YL(B,O):F=B!==O,F?B!==void 0?$(D):m.add(D):B!==void 0&&m.has(D)?$(D):b.protectedKeys[D]=!0}b.prevProp=p,b.prevResolvedValues=j,b.isActive&&(y={...y,...j}),r&&n.blockInitialAnimation&&(R=!1),R&&(!k||M)&&f.push(...L.map(D=>({animation:D,options:{type:S,...l}})))}if(m.size){const x={};m.forEach(S=>{const b=n.getBaseTarget(S);b!==void 0&&(x[S]=b)}),f.push({animation:x})}let A=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(f):Promise.resolve()}function a(l,c,h){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const f=o(h,l);for(const m in t)t[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function vU(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!YL(e,n):!1}function ga(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wU(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class bU extends ha{constructor(e){super(e),e.animationState||(e.animationState=yU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ix(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let xU=0;class SU extends ha{constructor(){super(...arguments),this.id=xU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AU={animation:{Feature:bU},exit:{Feature:SU}},Kk=(n,e)=>Math.abs(n-e);function EU(n,e){const t=Kk(n.x,e.x),r=Kk(n.y,e.y);return Math.sqrt(t**2+r**2)}class CN{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=SS(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=EU(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=d,{timestamp:g}=kt;this.history.push({...y,timestamp:g});const{onStart:A,onMove:x}=this.handlers;f||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=xS(f,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=SS(d.type==="pointercancel"?this.lastMoveEventInfo:xS(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,A),y&&y(d,A)},!zL(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=lx(e),a=xS(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=kt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=t;h&&h(e,SS(a,this.history)),this.removeListeners=Xo(Cs(this.contextWindow,"pointermove",this.handlePointerMove),Cs(this.contextWindow,"pointerup",this.handlePointerUp),Cs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function xS(n,e){return e?{point:e(n.point)}:n}function Yk(n,e){return{x:n.x-e.x,y:n.y-e.y}}function SS({point:n},e){return{point:n,delta:Yk(n,TN(e)),offset:Yk(n,CU(e)),velocity:TU(e,.1)}}function CU(n){return n[0]}function TN(n){return n[n.length-1]}function TU(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=TN(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Qo(e)));)t--;if(!r)return{x:0,y:0};const s=Ii(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zn(n){return n.max-n.min}function oA(n,e=0,t=.01){return Math.abs(n-e)<=t}function qk(n,e,t,r=.5){n.origin=r,n.originPoint=Xe(e.min,e.max,n.origin),n.scale=Zn(t)/Zn(e),(oA(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Xe(t.min,t.max,n.origin)-n.originPoint,(oA(n.translate)||isNaN(n.translate))&&(n.translate=0)}function If(n,e,t,r){qk(n.x,e.x,t.x,r?r.originX:void 0),qk(n.y,e.y,t.y,r?r.originY:void 0)}function Xk(n,e,t){n.min=t.min+e.min,n.max=n.min+Zn(e)}function PU(n,e,t){Xk(n.x,e.x,t.x),Xk(n.y,e.y,t.y)}function Qk(n,e,t){n.min=e.min-t.min,n.max=n.min+Zn(e)}function _f(n,e,t){Qk(n.x,e.x,t.x),Qk(n.y,e.y,t.y)}function kU(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Xe(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Xe(t,n,r.max):Math.min(n,t)),n}function Jk(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function IU(n,{top:e,left:t,bottom:r,right:i}){return{x:Jk(n.x,t,i),y:Jk(n.y,e,r)}}function Zk(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function _U(n,e){return{x:Zk(n.x,e.x),y:Zk(n.y,e.y)}}function RU(n,e){let t=.5;const r=Zn(n),i=Zn(e);return i>r?t=ep(e.min,e.max-r,n.min):r>i&&(t=ep(n.min,n.max-i,e.min)),ea(0,1,t)}function MU(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const aA=.35;function LU(n=aA){return n===!1?n=0:n===!0&&(n=aA),{x:eI(n,"left","right"),y:eI(n,"top","bottom")}}function eI(n,e,t){return{min:tI(n,e),max:tI(n,t)}}function tI(n,e){return typeof n=="number"?n:n[e]||0}const nI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zc=()=>({x:nI(),y:nI()}),rI=()=>({min:0,max:0}),ut=()=>({x:rI(),y:rI()});function sr(n){return[n("x"),n("y")]}function PN({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function NU({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function DU(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function AS(n){return n===void 0||n===1}function lA({scale:n,scaleX:e,scaleY:t}){return!AS(n)||!AS(e)||!AS(t)}function ba(n){return lA(n)||kN(n)||n.z||n.rotate||n.rotateX||n.rotateY}function kN(n){return iI(n.x)||iI(n.y)}function iI(n){return n&&n!=="0%"}function Cw(n,e,t){const r=n-t,i=e*r;return t+i}function sI(n,e,t,r,i){return i!==void 0&&(n=Cw(n,i,r)),Cw(n,t,r)+e}function cA(n,e=0,t=1,r,i){n.min=sI(n.min,e,t,r,i),n.max=sI(n.max,e,t,r,i)}function IN(n,{x:e,y:t}){cA(n.x,e.translate,e.scale,e.originPoint),cA(n.y,t.translate,t.scale,t.originPoint)}function OU(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&eu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,IN(n,o)),r&&ba(s.latestValues)&&eu(n,s.latestValues))}e.x=oI(e.x),e.y=oI(e.y)}function oI(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Gs(n,e){n.min=n.min+e,n.max=n.max+e}function aI(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Xe(n.min,n.max,s);cA(n,e[t],e[r],o,e.scale)}const jU=["x","scaleX","originX"],FU=["y","scaleY","originY"];function eu(n,e){aI(n.x,e,jU),aI(n.y,e,FU)}function _N(n,e){return PN(DU(n.getBoundingClientRect(),e))}function BU(n,e,t){const r=_N(n,t),{scroll:i}=e;return i&&(Gs(r.x,i.offset.x),Gs(r.y,i.offset.y)),r}const RN=({current:n})=>n?n.ownerDocument.defaultView:null,HU=new WeakMap;class VU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(lx(h,"page").point)},s=(h,d)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=UL(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(A=>{let x=this.getAxisMotionValue(A).get()||0;if(ki.test(x)){const{projection:S}=this.visualElement;if(S&&S.layout){const b=S.layout.layoutBox[A];b&&(x=Zn(b)*(parseFloat(x)/100))}}this.originPoint[A]=x}),y&&Ne.update(()=>y(h,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:A}=d;if(m&&this.currentDirection===null){this.currentDirection=$U(A),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),g&&g(h,d)},a=(h,d)=>this.stop(h,d),l=()=>sr(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new CN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:RN(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ne.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!ky(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=kU(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Qc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=IU(i.layoutBox,t):this.constraints=!1,this.elastic=LU(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&sr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=MU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Qc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=BU(r,i.root,this.visualElement.getTransformPagePoint());let o=_U(i.layout.layoutBox,s);if(t){const a=t(NU(o));this.hasMutatedConstraints=!!a,a&&(o=PN(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=sr(h=>{if(!ky(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(fT(e,r,0,t))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(t=>{const{drag:r}=this.getProps();if(!ky(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Xe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Qc(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};sr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=RU({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(o=>{if(!ky(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Xe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;HU.set(this.visualElement,this);const e=this.visualElement.current,t=Cs(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=As(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(sr(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=aA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ky(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $U(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class zU extends ha{constructor(e){super(e),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new VU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const lI=n=>(e,t)=>{n&&Ne.update(()=>n(e,t))};class WU extends ha{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(e){this.session=new CN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:lI(e),onStart:lI(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ne.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Cs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UU(){const n=E.useContext(nx);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const ov={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cI(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Dd={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(re.test(n))n=parseFloat(n);else return n;const t=cI(n,e.target.x),r=cI(n,e.target.y);return`${t}% ${r}%`}},GU={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=ta.parse(n);if(i.length>5)return r;const s=ta.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Xe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class KU extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ez(YU),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ov.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ne.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MN(n){const[e,t]=UU(),r=E.useContext(JC);return ee.createElement(KU,{...n,layoutGroup:r,switchLayoutGroup:E.useContext(IL),isPresent:e,safeToRemove:t})}const YU={borderRadius:{...Dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dd,borderTopRightRadius:Dd,borderBottomLeftRadius:Dd,borderBottomRightRadius:Dd,boxShadow:GU},LN=["TopLeft","TopRight","BottomLeft","BottomRight"],qU=LN.length,uI=n=>typeof n=="string"?parseFloat(n):n,hI=n=>typeof n=="number"||re.test(n);function XU(n,e,t,r,i,s){i?(n.opacity=Xe(0,t.opacity!==void 0?t.opacity:1,QU(r)),n.opacityExit=Xe(e.opacity!==void 0?e.opacity:1,0,JU(r))):s&&(n.opacity=Xe(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<qU;o++){const a=`border${LN[o]}Radius`;let l=dI(e,a),c=dI(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||hI(l)===hI(c)?(n[a]=Math.max(Xe(uI(l),uI(c),r),0),(ki.test(c)||ki.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Xe(e.rotate||0,t.rotate||0,r))}function dI(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const QU=NN(0,.5,rN),JU=NN(.5,.95,tt);function NN(n,e,t){return r=>r<n?0:r>e?1:t(ep(n,e,r))}function fI(n,e){n.min=e.min,n.max=e.max}function rr(n,e){fI(n.x,e.x),fI(n.y,e.y)}function pI(n,e,t,r,i){return n-=e,n=Cw(n,1/t,r),i!==void 0&&(n=Cw(n,1/i,r)),n}function ZU(n,e=0,t=1,r=.5,i,s=n,o=n){if(ki.test(e)&&(e=parseFloat(e),e=Xe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Xe(s.min,s.max,r);n===s&&(a-=e),n.min=pI(n.min,e,t,a,i),n.max=pI(n.max,e,t,a,i)}function mI(n,e,[t,r,i],s,o){ZU(n,e[t],e[r],e[i],e.scale,s,o)}const e5=["x","scaleX","originX"],t5=["y","scaleY","originY"];function gI(n,e,t,r){mI(n.x,e,e5,t?t.x:void 0,r?r.x:void 0),mI(n.y,e,t5,t?t.y:void 0,r?r.y:void 0)}function yI(n){return n.translate===0&&n.scale===1}function DN(n){return yI(n.x)&&yI(n.y)}function n5(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function ON(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function vI(n){return Zn(n.x)/Zn(n.y)}class r5{constructor(){this.members=[]}add(e){pT(this.members,e),e.scheduleRender()}remove(e){if(mT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wI(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:h}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const i5=(n,e)=>n.depth-e.depth;class s5{constructor(){this.children=[],this.isDirty=!1}add(e){pT(this.children,e),this.isDirty=!0}remove(e){mT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(i5),this.isDirty=!1,this.children.forEach(e)}}function o5(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ri(r),n(s-e))};return Ne.read(r,!0),()=>Ri(r)}function a5(n){window.MotionDebug&&window.MotionDebug.record(n)}function l5(n){return n instanceof SVGElement&&n.tagName!=="svg"}function c5(n,e,t){const r=nn(n)?n:uc(n);return r.start(fT("",r,e,t)),r.animation}const bI=["","X","Y","Z"],u5={visibility:"hidden"},xI=1e3;let h5=0;const xa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jN({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=h5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xa.totalNodes=xa.resolvedTargetDeltas=xa.recalculatedProjection=0,this.nodes.forEach(p5),this.nodes.forEach(w5),this.nodes.forEach(b5),this.nodes.forEach(m5),a5(xa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new s5)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=l5(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const f=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=o5(f,250),ov.hasAnimatedSinceResize&&(ov.hasAnimatedSinceResize=!1,this.nodes.forEach(AI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||h.getDefaultTransition()||C5,{onLayoutAnimationStart:A,onLayoutAnimationComplete:x}=h.getProps(),S=!this.targetLayout||!ON(this.targetLayout,y)||m,b=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const p={...dT(g,"layout"),onPlay:A,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p)}else f||AI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SI);return}this.isUpdating||this.nodes.forEach(y5),this.isUpdating=!1,this.nodes.forEach(v5),this.nodes.forEach(d5),this.nodes.forEach(f5),this.clearAllSnapshots();const a=performance.now();kt.delta=ea(0,1e3/60,a-kt.timestamp),kt.timestamp=a,kt.isProcessing=!0,fS.update.process(kt),fS.preRender.process(kt),fS.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(g5),this.sharedNodes.forEach(S5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!DN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||ba(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),T5(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ut();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Gs(a.x,l.offset.x),Gs(a.y,l.offset.y)),a}removeElementScroll(o){const a=ut();rr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){rr(a,o);const{scroll:f}=this.root;f&&(Gs(a.x,-f.offset.x),Gs(a.y,-f.offset.y))}Gs(a.x,h.offset.x),Gs(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=ut();rr(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&eu(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ba(h.latestValues)&&eu(l,h.latestValues)}return ba(this.latestValues)&&eu(l,this.latestValues),l}removeTransform(o){const a=ut();rr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ba(c.latestValues))continue;lA(c.latestValues)&&c.updateSnapshot();const h=ut(),d=c.measurePageBox();rr(h,d),gI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ba(this.latestValues)&&gI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),_f(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rr(this.target,this.layout.layoutBox),IN(this.target,this.targetDelta)):rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),_f(this.relativeTargetOrigin,this.target,m.target),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lA(this.parent.latestValues)||kN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;rr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;OU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=Zc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zc(),this.projectionDeltaWithTransform=Zc());const g=this.projectionTransform;If(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=wI(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),xa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Zc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ut(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,A=this.getStack(),x=!A||A.members.length<=1,S=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(E5));this.animationProgress=0;let b;this.mixTargetDelta=p=>{const w=p/1e3;EI(d.x,o.x,w),EI(d.y,o.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_f(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A5(this.relativeTarget,this.relativeTargetOrigin,f,w),b&&n5(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ut()),rr(b,this.relativeTarget)),g&&(this.animationValues=h,XU(h,c,this.latestValues,w,S,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{ov.hasAnimatedSinceResize=!0,this.currentAnimation=c5(0,xI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&FN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ut();const d=Zn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Zn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}rr(a,l),eu(a,h),If(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new r5),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<bI.length;h++){const d="rotate"+bI[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return u5;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sv(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=sv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(g.transform=h?h({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=wI(this.projectionDeltaWithTransform,this.treeScale,f),h&&(c.transform=h(f,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in ww){if(f[g]===void 0)continue;const{correct:A,applyTo:x}=ww[g],S=c.transform==="none"?f[g]:A(f[g],d);if(x){const b=x.length;for(let p=0;p<b;p++)c[x[p]]=S}else c[g]=S}return this.options.layoutId&&(c.pointerEvents=d===this?sv(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(SI),this.root.sharedNodes.clear()}}}function d5(n){n.updateLayout()}function f5(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?sr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],m=Zn(f);f.min=r[d].min,f.max=f.min+m}):FN(s,t.layoutBox,r)&&sr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],m=Zn(r[d]);f.max=f.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=Zc();If(a,r,t.layoutBox);const l=Zc();o?If(l,n.applyTransform(i,!0),t.measuredBox):If(l,r,t.layoutBox);const c=!DN(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const y=ut();_f(y,t.layoutBox,f.layoutBox);const g=ut();_f(g,r,m.layoutBox),ON(y,g)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function p5(n){xa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function m5(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function g5(n){n.clearSnapshot()}function SI(n){n.clearMeasurements()}function y5(n){n.isLayoutDirty=!1}function v5(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function AI(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function w5(n){n.resolveTargetDelta()}function b5(n){n.calcProjection()}function x5(n){n.resetRotation()}function S5(n){n.removeLeadSnapshot()}function EI(n,e,t){n.translate=Xe(e.translate,0,t),n.scale=Xe(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function CI(n,e,t,r){n.min=Xe(e.min,t.min,r),n.max=Xe(e.max,t.max,r)}function A5(n,e,t,r){CI(n.x,e.x,t.x,r),CI(n.y,e.y,t.y,r)}function E5(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const C5={duration:.45,ease:[.4,0,.1,1]},TI=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),PI=TI("applewebkit/")&&!TI("chrome/")?Math.round:tt;function kI(n){n.min=PI(n.min),n.max=PI(n.max)}function T5(n){kI(n.x),kI(n.y)}function FN(n,e,t){return n==="position"||n==="preserve-aspect"&&!oA(vI(e),vI(t),.2)}const P5=jN({attachResizeListener:(n,e)=>As(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ES={current:void 0},BN=jN({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ES.current){const n=new P5({});n.mount(window),n.setOptions({layoutScroll:!0}),ES.current=n}return ES.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),k5={pan:{Feature:WU},drag:{Feature:zU,ProjectionNode:BN,MeasureLayout:MN}},I5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function _5(n){const e=I5.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function uA(n,e,t=1){const[r,i]=_5(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xN(o)?parseFloat(o):o}else return Z1(i)?uA(i,e,t+1):i}function R5(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!Z1(s))return;const o=uA(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Z1(s))continue;const o=uA(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const M5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),HN=n=>M5.has(n),L5=n=>Object.keys(n).some(HN),II=n=>n===bc||n===re,_I=(n,e)=>parseFloat(n.split(", ")[e]),RI=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return _I(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?_I(s[1],n):0}},N5=new Set(["x","y","z"]),D5=$g.filter(n=>!N5.has(n));function O5(n){const e=[];return D5.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const sd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:RI(4,13),y:RI(5,14)};sd.translateX=sd.x;sd.translateY=sd.y;const j5=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=sd[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),n[c]=sd[c](l,s)}),n},F5=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(HN);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],d=Nd(h);const f=e[l];let m;if(xw(f)){const y=f.length,g=f[0]===null?1:0;h=f[g],d=Nd(h);for(let A=g;A<y&&f[A]!==null;A++)m?oT(Nd(f[A])===m):m=Nd(f[A])}else m=Nd(f);if(d!==m)if(II(d)&&II(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===re&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||f===0)?h===0?c.set(m.transform(h)):e[l]=d.transform(f):(o||(s=O5(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=j5(e,n,a);return s.length&&s.forEach(([h,d])=>{n.getValue(h).set(d)}),n.render(),rx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function B5(n,e,t,r){return L5(e)?F5(n,e,t,r):{target:e,transitionEnd:r}}const H5=(n,e,t,r)=>{const i=R5(n,e,r);return e=i.target,r=i.transitionEnd,B5(n,e,t,r)},hA={current:null},VN={current:!1};function V5(){if(VN.current=!0,!!rx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>hA.current=n.matches;n.addListener(e),e()}else hA.current=!1}function $5(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(nn(s))n.addValue(i,s),Ew(r)&&r.add(i);else if(nn(o))n.addValue(i,uc(s,{owner:n})),Ew(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,uc(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const MI=new WeakMap,$N=Object.keys(Zf),z5=$N.length,LI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],W5=QC.length;class U5{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ne.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=sx(t),this.isVariantNode=kL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{});for(const d in h){const f=h[d];a[d]!==void 0&&nn(f)&&(f.set(a[d],!1),Ew(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,MI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),VN.current||V5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){MI.delete(this.current),this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=wc.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ne.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<z5;l++){const c=$N[l],{isEnabled:h,Feature:d,ProjectionNode:f,MeasureLayout:m}=Zf[c];f&&(o=f),h(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Qc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<LI.length;r++){const i=LI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=$5(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<W5;r++){const i=QC[r],s=this.props[i];(Jf(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=uc(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=sT(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!nn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new gT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class zN extends U5{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=lU(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){oU(this,r,o);const a=H5(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function G5(n){return window.getComputedStyle(n)}class K5 extends zN{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(wc.has(t)){const r=hT(t);return r&&r.default||0}else{const r=G5(e),i=(ML(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _N(e,t)}build(e,t,r,i){eT(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return iT(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){FL(e,t,r,i)}}class Y5 extends zN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wc.has(t)){const r=hT(t);return r&&r.default||0}return t=BL.has(t)?t:qC(t),e.getAttribute(t)}measureInstanceViewportBox(){return ut()}scrapeMotionValuesFromProps(e,t){return VL(e,t)}build(e,t,r,i){nT(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){HL(e,t,r,i)}mount(e){this.isSVGTag=rT(e.tagName),super.mount(e)}}const q5=(n,e)=>ZC(n)?new Y5(e,{enableHardwareAcceleration:!1}):new K5(e,{enableHardwareAcceleration:!0}),X5={layout:{ProjectionNode:BN,MeasureLayout:MN}},Q5={...AU,...zz,...k5,...X5},ue=J$((n,e)=>_z(n,e,Q5,q5));function WN(){const n=E.useRef(!1);return Vg(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function J5(){const n=WN(),[e,t]=E.useState(0),r=E.useCallback(()=>{n.current&&t(e+1)},[e]);return[E.useCallback(()=>Ne.postRender(r),[r]),e]}class Z5 extends E.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function e4({children:n,isPresent:e}){const t=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),E.createElement(Z5,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(n,{ref:r}))}const CS=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=ax(t4),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?void 0:[t]);return E.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[t]),E.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=E.createElement(e4,{isPresent:t},n)),E.createElement(nx.Provider,{value:c},n)};function t4(){return new Map}function n4(n){return E.useEffect(()=>()=>n(),[])}const Sa=n=>n.key||"";function r4(n,e){n.forEach(t=>{const r=Sa(t);e.set(r,t)})}function i4(n){const e=[];return E.Children.forEach(n,t=>{E.isValidElement(t)&&e.push(t)}),e}const od=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(JC).forceRender||J5()[0],l=WN(),c=i4(n);let h=c;const d=E.useRef(new Map).current,f=E.useRef(h),m=E.useRef(new Map).current,y=E.useRef(!0);if(Vg(()=>{y.current=!1,r4(c,m),f.current=h}),n4(()=>{y.current=!0,m.clear(),d.clear()}),y.current)return E.createElement(E.Fragment,null,h.map(S=>E.createElement(CS,{key:Sa(S),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},S)));h=[...h];const g=f.current.map(Sa),A=c.map(Sa),x=g.length;for(let S=0;S<x;S++){const b=g[S];A.indexOf(b)===-1&&!d.has(b)&&d.set(b,void 0)}return o==="wait"&&d.size&&(h=[]),d.forEach((S,b)=>{if(A.indexOf(b)!==-1)return;const p=m.get(b);if(!p)return;const w=g.indexOf(b);let T=S;if(!T){const k=()=>{d.delete(b);const _=Array.from(m.keys()).filter(R=>!A.includes(R));if(_.forEach(R=>m.delete(R)),f.current=c.filter(R=>{const M=Sa(R);return M===b||_.includes(M)}),!d.size){if(l.current===!1)return;a(),r&&r()}};T=E.createElement(CS,{key:Sa(p),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:o},p),d.set(b,T)}h.splice(w,0,T)}),h=h.map(S=>{const b=S.key;return d.has(b)?S:E.createElement(CS,{key:Sa(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),E.createElement(E.Fragment,null,d.size?h:h.map(S=>E.cloneElement(S)))};function Tw(n){const e=ax(()=>uc(n)),{isStatic:t}=E.useContext(ex);if(t){const[,r]=E.useState(n);E.useEffect(()=>e.on("change",r),[])}return e}const s4=n=>n&&typeof n=="object"&&n.mix,o4=n=>s4(n)?n.mix:void 0;function a4(...n){const e=!Array.isArray(n[0]),t=e?0:-1,r=n[0+t],i=n[1+t],s=n[2+t],o=n[3+t],a=uT(i,s,{mixer:o4(s[0]),...o});return e?a(r):a}function UN(n,e){const t=Tw(e()),r=()=>t.set(e());return r(),Vg(()=>{const i=()=>Ne.update(r,!1,!0),s=n.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ri(r)}}),t}function l4(n){kf.current=[],n();const e=UN(kf.current,n);return kf.current=void 0,e}function Iy(n,e,t,r){if(typeof n=="function")return l4(n);const i=typeof e=="function"?e:a4(e,t,r);return Array.isArray(n)?NI(n,i):NI([n],([s])=>i(s))}function NI(n,e){const t=ax(()=>[]);return UN(n,()=>{t.length=0;const r=n.length;for(let i=0;i<r;i++)t[i]=n[i].get();return e(t)})}function DI(n,e={}){const{isStatic:t}=E.useContext(ex),r=E.useRef(null),i=Tw(nn(n)?n.get():n),s=()=>{r.current&&r.current.stop()};return E.useInsertionEffect(()=>i.attach((o,a)=>{if(t)return a(o);if(s(),r.current=tp({keyframes:[i.get(),o],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a}),!kt.isProcessing){const l=performance.now()-kt.timestamp;l<30&&(r.current.time=Ii(l))}return i.get()},s),[JSON.stringify(e)]),Vg(()=>{if(nn(n))return n.on("change",o=>i.set(parseFloat(o)))},[i]),i}function GN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=GN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function wd(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=GN(n))&&(r&&(r+=" "),r+=e);return r}function c4(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=KN(e))&&(r&&(r+=" "),r+=t);return r}function KN(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=KN(n[r]))&&(t&&(t+=" "),t+=e);return t}var yT="-";function u4(n){var e=d4(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(yT);return l[0]===""&&l.length!==1&&l.shift(),YN(l,e)||h4(a)}function o(a,l){var c=t[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function YN(n,e){var o;if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),i=r?YN(n.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=n.join(yT);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var OI=/^\[(.+)\]$/;function h4(n){if(OI.test(n)){var e=OI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function d4(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},i=p4(Object.entries(n.classGroups),t);return i.forEach(function(s){var o=s[0],a=s[1];dA(a,r,o,e)}),r}function dA(n,e,t,r){n.forEach(function(i){if(typeof i=="string"){var s=i===""?e:jI(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(f4(i)){dA(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];dA(l,jI(e,a),t,r)})})}function jI(n,e){var t=n;return e.split(yT).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function f4(n){return n.isThemeGetter}function p4(n,e){return e?n.map(function(t){var r=t[0],i=t[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):n}function m4(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function i(s,o){t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(o){var a=t.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){t.has(o)?t.set(o,a):i(o,a)}}}var qN="!";function g4(n){var e=n.separator||":",t=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,h,d=0;d<o.length;d++){var f=o[d];if(l===0){if(f===r&&(t||o.slice(d,d+i)===e)){a.push(o.slice(c,d)),c=d+i;continue}if(f==="/"){h=d;continue}}f==="["?l++:f==="]"&&l--}var m=a.length===0?o:o.substring(c),y=m.startsWith(qN),g=y?m.substring(1):m,A=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:A}}}function y4(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function v4(n){return{cache:m4(n.cacheSize),splitModifiers:g4(n),...u4(n)}}var w4=/\s+/;function b4(n,e){var t=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return n.trim().split(w4).map(function(o){var a=t(o),l=a.modifiers,c=a.hasImportantModifier,h=a.baseClassName,d=a.maybePostfixModifierPosition,f=r(d?h.substring(0,d):h),m=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:o};if(f=r(h),!f)return{isTailwindClass:!1,originalClassName:o};m=!1}var y=y4(l).join(":"),g=c?y+qN:y;return{isTailwindClass:!0,modifierId:g,classGroupId:f,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,h=a+l;return s.has(h)?!1:(s.add(h),i(l,c).forEach(function(d){return s.add(a+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function x4(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,i,s,o=a;function a(c){var h=e[0],d=e.slice(1),f=d.reduce(function(m,y){return y(m)},h());return r=v4(f),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var h=i(c);if(h)return h;var d=b4(c,r);return s(c,d),d}return function(){return o(c4.apply(null,arguments))}}function Fe(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var XN=/^\[(?:([a-z-]+):)?(.+)\]$/i,S4=/^\d+\/\d+$/,A4=new Set(["px","full","screen"]),E4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T4=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Cr(n){return La(n)||A4.has(n)||S4.test(n)||fA(n)}function fA(n){return xc(n,"length",M4)}function P4(n){return xc(n,"size",QN)}function k4(n){return xc(n,"position",QN)}function I4(n){return xc(n,"url",L4)}function _y(n){return xc(n,"number",La)}function La(n){return!Number.isNaN(Number(n))}function _4(n){return n.endsWith("%")&&La(n.slice(0,-1))}function Od(n){return FI(n)||xc(n,"number",FI)}function be(n){return XN.test(n)}function jd(){return!0}function Hs(n){return E4.test(n)}function R4(n){return xc(n,"",N4)}function xc(n,e,t){var r=XN.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function M4(n){return C4.test(n)}function QN(){return!1}function L4(n){return n.startsWith("url(")}function FI(n){return Number.isInteger(Number(n))}function N4(n){return T4.test(n)}function D4(){var n=Fe("colors"),e=Fe("spacing"),t=Fe("blur"),r=Fe("brightness"),i=Fe("borderColor"),s=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),h=Fe("hueRotate"),d=Fe("invert"),f=Fe("gap"),m=Fe("gradientColorStops"),y=Fe("gradientColorStopPositions"),g=Fe("inset"),A=Fe("margin"),x=Fe("opacity"),S=Fe("padding"),b=Fe("saturate"),p=Fe("scale"),w=Fe("sepia"),T=Fe("skew"),k=Fe("space"),_=Fe("translate"),R=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},L=function(){return["auto",be,e]},j=function(){return[be,e]},H=function(){return["",Cr]},N=function(){return["auto",La,be]},$=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},D=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},O=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",be]},W=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},U=function(){return[La,_y]},K=function(){return[La,be]};return{cacheSize:500,theme:{colors:[jd],spacing:[Cr],blur:["none","",Hs,be],brightness:U(),borderColor:[n],borderRadius:["none","","full",Hs,be],borderSpacing:j(),borderWidth:H(),contrast:U(),grayscale:F(),hueRotate:K(),invert:F(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[_4,fA],inset:L(),margin:L(),opacity:U(),padding:j(),saturate:U(),scale:U(),sepia:F(),skew:K(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Hs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($(),[be])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Od]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Od]}],"grid-cols":[{"grid-cols":[jd]}],"col-start-end":[{col:["auto",{span:["full",Od]},be]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[jd]}],"row-start-end":[{row:["auto",{span:[Od]},be]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(O())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(O(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(O(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",be,e]}],"min-w":[{"min-w":["min","max","fit",be,Cr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Hs]},Hs,be]}],h:[{h:[be,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",be,Cr]}],"max-h":[{"max-h":[be,e,"min","max","fit"]}],"font-size":[{text:["base",Hs,fA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_y]}],"font-family":[{font:[jd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",La,_y]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",be,Cr]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(D(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr]}],"underline-offset":[{"underline-offset":["auto",be,Cr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($(),[k4])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},I4]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(D(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(D())}],"outline-offset":[{"outline-offset":[be,Cr]}],"outline-w":[{outline:[Cr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Cr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Hs,R4]}],"shadow-color":[{shadow:[jd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hs,be]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[p]}],"scale-x":[{"scale-x":[p]}],"scale-y":[{"scale-y":[p]}],rotate:[{rotate:[Od,be]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Cr,_y]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var O4=x4(D4);function Ae(...n){return O4(wd(n))}function BI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ux(...n){return e=>{let t=!1;const r=n.map(i=>{const s=BI(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():BI(n[i],null)}}}}function Te(...n){return E.useCallback(ux(...n),n)}function ad(n){const e=F4(n),t=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find(H4);if(l){const c=l.props.children,h=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return v.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,h):null})}return v.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var j4=ad("Slot");function F4(n){const e=E.forwardRef((t,r)=>{const{children:i,...s}=t;if(E.isValidElement(i)){const o=$4(i),a=V4(s,i.props);return i.type!==E.Fragment&&(a.ref=r?ux(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var B4=Symbol("radix.slottable");function H4(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===B4}function V4(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function $4(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const HI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,VI=wd,vT=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return VI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const h=t==null?void 0:t[c],d=s==null?void 0:s[c];if(h===null)return null;const f=HI(h)||HI(d);return i[c][f]}),a=t&&Object.entries(t).reduce((c,h)=>{let[d,f]=h;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:f,...m}=h;return Object.entries(m).every(y=>{let[g,A]=y;return Array.isArray(A)?A.includes({...s,...a}[g]):{...s,...a}[g]===A})?[...c,d,f]:c},[]);return VI(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)},z4=vT("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),vt=ee.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?j4:"button";return v.jsx(o,{className:Ae(z4({variant:e,size:t,className:n})),ref:s,...i})});vt.displayName="Button";var W4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),we=(n,e)=>{const t=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>E.createElement("svg",{ref:c,...W4,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${U4(n)}`,...l},[...e.map(([h,d])=>E.createElement(h,d)),...(Array.isArray(a)?a:[a])||[]]));return t.displayName=`${n}`,t},wT=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),$I=we("BookHeart",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M16 8.2C16 7 15 6 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9C9 6 8 7 8 8.2c0 .6.3 1.2.7 1.6h0C10 11.1 12 13 12 13s2-1.9 3.3-3.1h0c.4-.4.7-1 .7-1.7z",key:"1dlbw1"}]]),Rf=we("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]),bT=we("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),G4=we("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),JN=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ZN=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),K4=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),eD=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Y4=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),q4=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),X4=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Q4=we("Cross",[["path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z",key:"1t5g7j"}]]),J4=we("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Z4=we("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]),tD=we("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),eG=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),tG=we("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),nG=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),nD=we("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),rG=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),iG=we("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),rD=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),sG=we("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),iD=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),sD=we("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),oG=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),aG=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),lG=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),cG=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),oD=we("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),aD=we("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),uG=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),hG=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),dG=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),lD=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),xT=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cD=E.createContext({theme:"system",setTheme:()=>null});function fG({children:n,defaultTheme:e="system",storageKey:t="vite-ui-theme",...r}){const[i,s]=E.useState(()=>localStorage.getItem(t)||e);E.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(t,a),s(a)}};return v.jsx(cD.Provider,{...r,value:o,children:n})}const pG=()=>{const n=E.useContext(cD);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};function q(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function da(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];const c=d=>{var x;const{scope:f,children:m,...y}=d,g=((x=f==null?void 0:f[n])==null?void 0:x[l])||a,A=E.useMemo(()=>y,Object.values(y));return v.jsx(g.Provider,{value:A,children:m})};c.displayName=s+"Provider";function h(d,f){var g;const m=((g=f==null?void 0:f[n])==null?void 0:g[l])||a,y=E.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,mG(i,...e)]}function mG(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var zt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},gG=iC[" useInsertionEffect ".trim().toString()]||zt;function ld({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=yG({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const h=E.useRef(n!==void 0);E.useEffect(()=>{const d=h.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=E.useCallback(h=>{var d;if(a){const f=vG(h)?h(n):h;f!==n&&((d=o.current)==null||d.call(o,f))}else s(h)},[a,n,s,o]);return[l,c]}function yG({defaultProp:n,onChange:e}){const[t,r]=E.useState(n),i=E.useRef(t),s=E.useRef(e);return gG(()=>{s.current=e},[e]),E.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function vG(n){return typeof n=="function"}var wG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=wG.reduce((n,e)=>{const t=ad(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function ST(n,e){n&&vc.flushSync(()=>n.dispatchEvent(e))}function Gg(n){const e=n+"CollectionProvider",[t,r]=da(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:A,children:x}=g,S=ee.useRef(null),b=ee.useRef(new Map).current;return v.jsx(i,{scope:A,itemMap:b,collectionRef:S,children:x})};o.displayName=e;const a=n+"CollectionSlot",l=ad(a),c=ee.forwardRef((g,A)=>{const{scope:x,children:S}=g,b=s(a,x),p=Te(A,b.collectionRef);return v.jsx(l,{ref:p,children:S})});c.displayName=a;const h=n+"CollectionItemSlot",d="data-radix-collection-item",f=ad(h),m=ee.forwardRef((g,A)=>{const{scope:x,children:S,...b}=g,p=ee.useRef(null),w=Te(A,p),T=s(h,x);return ee.useEffect(()=>(T.itemMap.set(p,{ref:p,...b}),()=>void T.itemMap.delete(p))),v.jsx(f,{[d]:"",ref:w,children:S})});m.displayName=h;function y(g){const A=s(n+"CollectionConsumer",g);return ee.useCallback(()=>{const S=A.collectionRef.current;if(!S)return[];const b=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(A.itemMap.values()).sort((T,k)=>b.indexOf(T.ref.current)-b.indexOf(k.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},y,r]}var bG=E.createContext(void 0);function hx(n){const e=E.useContext(bG);return n||e||"ltr"}function In(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function xG(n,e=globalThis==null?void 0:globalThis.document){const t=In(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var SG="DismissableLayer",pA="dismissableLayer.update",AG="dismissableLayer.pointerDownOutside",EG="dismissableLayer.focusOutside",zI,uD=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dx=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=E.useContext(uD),[h,d]=E.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),y=Te(e,k=>d(k)),g=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(A),S=h?g.indexOf(h):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,p=S>=x,w=TG(k=>{const _=k.target,R=[...c.branches].some(M=>M.contains(_));!p||R||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},f),T=PG(k=>{const _=k.target;[...c.branches].some(M=>M.contains(_))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},f);return xG(k=>{S===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),E.useEffect(()=>{if(h)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(zI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),WI(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=zI)}},[h,f,t,c]),E.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),WI())},[h,c]),E.useEffect(()=>{const k=()=>m({});return document.addEventListener(pA,k),()=>document.removeEventListener(pA,k)},[]),v.jsx(fe.div,{...l,ref:y,style:{pointerEvents:b?p?"auto":"none":void 0,...n.style},onFocusCapture:q(n.onFocusCapture,T.onFocusCapture),onBlurCapture:q(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:q(n.onPointerDownCapture,w.onPointerDownCapture)})});dx.displayName=SG;var CG="DismissableLayerBranch",hD=E.forwardRef((n,e)=>{const t=E.useContext(uD),r=E.useRef(null),i=Te(e,r);return E.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),v.jsx(fe.div,{...n,ref:i})});hD.displayName=CG;function TG(n,e=globalThis==null?void 0:globalThis.document){const t=In(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){dD(AG,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function PG(n,e=globalThis==null?void 0:globalThis.document){const t=In(n),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&dD(EG,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WI(){const n=new CustomEvent(pA);document.dispatchEvent(n)}function dD(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ST(i,s):i.dispatchEvent(s)}var kG=dx,IG=hD,TS=0;function fD(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??UI()),document.body.insertAdjacentElement("beforeend",n[1]??UI()),TS++,()=>{TS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),TS--}},[])}function UI(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var PS="focusScope.autoFocusOnMount",kS="focusScope.autoFocusOnUnmount",GI={bubbles:!1,cancelable:!0},_G="FocusScope",AT=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=E.useState(null),c=In(i),h=In(s),d=E.useRef(null),f=Te(e,g=>l(g)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let g=function(b){if(m.paused||!a)return;const p=b.target;a.contains(p)?d.current=p:$s(d.current,{select:!0})},A=function(b){if(m.paused||!a)return;const p=b.relatedTarget;p!==null&&(a.contains(p)||$s(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&$s(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",A);const S=new MutationObserver(x);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",A),S.disconnect()}}},[r,a,m.paused]),E.useEffect(()=>{if(a){YI.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(PS,GI);a.addEventListener(PS,c),a.dispatchEvent(x),x.defaultPrevented||(RG(OG(pD(a)),{select:!0}),document.activeElement===g&&$s(a))}return()=>{a.removeEventListener(PS,c),setTimeout(()=>{const x=new CustomEvent(kS,GI);a.addEventListener(kS,h),a.dispatchEvent(x),x.defaultPrevented||$s(g??document.body,{select:!0}),a.removeEventListener(kS,h),YI.remove(m)},0)}}},[a,c,h,m]);const y=E.useCallback(g=>{if(!t&&!r||m.paused)return;const A=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(A&&x){const S=g.currentTarget,[b,p]=MG(S);b&&p?!g.shiftKey&&x===p?(g.preventDefault(),t&&$s(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),t&&$s(p,{select:!0})):x===S&&g.preventDefault()}},[t,r,m.paused]);return v.jsx(fe.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});AT.displayName=_G;function RG(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if($s(r,{select:e}),document.activeElement!==t)return}function MG(n){const e=pD(n),t=KI(e,n),r=KI(e.reverse(),n);return[t,r]}function pD(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function KI(n,e){for(const t of n)if(!LG(t,{upTo:e}))return t}function LG(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function NG(n){return n instanceof HTMLInputElement&&"select"in n}function $s(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&NG(n)&&e&&n.select()}}var YI=DG();function DG(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=qI(n,e),n.unshift(e)},remove(e){var t;n=qI(n,e),(t=n[0])==null||t.resume()}}}function qI(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function OG(n){return n.filter(e=>e.tagName!=="A")}var jG=iC[" useId ".trim().toString()]||(()=>{}),FG=0;function cd(n){const[e,t]=E.useState(jG());return zt(()=>{n||t(r=>r??String(FG++))},[n]),n||(e?`radix-${e}`:"")}const BG=["top","right","bottom","left"],na=Math.min,Yn=Math.max,Pw=Math.round,Ry=Math.floor,_i=n=>({x:n,y:n}),HG={left:"right",right:"left",bottom:"top",top:"bottom"},VG={start:"end",end:"start"};function mA(n,e,t){return Yn(n,na(e,t))}function _s(n,e){return typeof n=="function"?n(e):n}function Rs(n){return n.split("-")[0]}function bd(n){return n.split("-")[1]}function ET(n){return n==="x"?"y":"x"}function CT(n){return n==="y"?"height":"width"}const $G=new Set(["top","bottom"]);function Ci(n){return $G.has(Rs(n))?"y":"x"}function TT(n){return ET(Ci(n))}function zG(n,e,t){t===void 0&&(t=!1);const r=bd(n),i=TT(n),s=CT(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=kw(o)),[o,kw(o)]}function WG(n){const e=kw(n);return[gA(n),e,gA(e)]}function gA(n){return n.replace(/start|end/g,e=>VG[e])}const XI=["left","right"],QI=["right","left"],UG=["top","bottom"],GG=["bottom","top"];function KG(n,e,t){switch(n){case"top":case"bottom":return t?e?QI:XI:e?XI:QI;case"left":case"right":return e?UG:GG;default:return[]}}function YG(n,e,t,r){const i=bd(n);let s=KG(Rs(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(gA)))),s}function kw(n){return n.replace(/left|right|bottom|top/g,e=>HG[e])}function qG(n){return{top:0,right:0,bottom:0,left:0,...n}}function mD(n){return typeof n!="number"?qG(n):{top:n,right:n,bottom:n,left:n}}function Iw(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function JI(n,e,t){let{reference:r,floating:i}=n;const s=Ci(e),o=TT(e),a=CT(o),l=Rs(e),c=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(bd(e)){case"start":m[o]-=f*(t&&c?-1:1);break;case"end":m[o]+=f*(t&&c?-1:1);break}return m}const XG=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:d}=JI(c,r,l),f=r,m={},y=0;for(let g=0;g<a.length;g++){const{name:A,fn:x}=a[g],{x:S,y:b,data:p,reset:w}=await x({x:h,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});h=S??h,d=b??d,m={...m,[A]:{...m[A],...p}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):w.rects),{x:h,y:d}=JI(c,f,l)),g=-1)}return{x:h,y:d,placement:f,strategy:i,middlewareData:m}};async function np(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=_s(e,n),y=mD(m),A=a[f?d==="floating"?"reference":"floating":d],x=Iw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(A)))==null||t?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),S=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),p=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Iw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:b,strategy:l}):S);return{top:(x.top-w.top+y.top)/p.y,bottom:(w.bottom-x.bottom+y.bottom)/p.y,left:(x.left-w.left+y.left)/p.x,right:(w.right-x.right+y.right)/p.x}}const QG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=_s(n,e)||{};if(c==null)return{};const d=mD(h),f={x:t,y:r},m=TT(i),y=CT(m),g=await o.getDimensions(c),A=m==="y",x=A?"top":"left",S=A?"bottom":"right",b=A?"clientHeight":"clientWidth",p=s.reference[y]+s.reference[m]-f[m]-s.floating[y],w=f[m]-s.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=T?T[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(T)))&&(k=a.floating[b]||s.floating[y]);const _=p/2-w/2,R=k/2-g[y]/2-1,M=na(d[x],R),L=na(d[S],R),j=M,H=k-g[y]-L,N=k/2-g[y]/2+_,$=mA(j,N,H),D=!l.arrow&&bd(i)!=null&&N!==$&&s.reference[y]/2-(N<j?M:L)-g[y]/2<0,B=D?N<j?N-j:N-H:0;return{[m]:f[m]+B,data:{[m]:$,centerOffset:N-$-B,...D&&{alignmentOffset:B}},reset:D}}}),JG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...A}=_s(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=Rs(i),S=Ci(a),b=Rs(a)===a,p=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(b||!g?[kw(a)]:WG(a)),T=y!=="none";!f&&T&&w.push(...YG(a,g,y,p));const k=[a,...w],_=await np(e,A),R=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&R.push(_[x]),d){const N=zG(i,o,p);R.push(_[N[0]],_[N[1]])}if(M=[...M,{placement:i,overflows:R}],!R.every(N=>N<=0)){var L,j;const N=(((L=s.flip)==null?void 0:L.index)||0)+1,$=k[N];if($&&(!(d==="alignment"?S!==Ci($):!1)||M.every(O=>Ci(O.placement)===S?O.overflows[0]>0:!0)))return{data:{index:N,overflows:M},reset:{placement:$}};let D=(j=M.filter(B=>B.overflows[0]<=0).sort((B,O)=>B.overflows[1]-O.overflows[1])[0])==null?void 0:j.placement;if(!D)switch(m){case"bestFit":{var H;const B=(H=M.filter(O=>{if(T){const F=Ci(O.placement);return F===S||F==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((O,F)=>O[1]-F[1])[0])==null?void 0:H[0];B&&(D=B);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function ZI(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function e_(n){return BG.some(e=>n[e]>=0)}const ZG=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=_s(n,e);switch(r){case"referenceHidden":{const s=await np(e,{...i,elementContext:"reference"}),o=ZI(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:e_(o)}}}case"escaped":{const s=await np(e,{...i,altBoundary:!0}),o=ZI(s,t.floating);return{data:{escapedOffsets:o,escaped:e_(o)}}}default:return{}}}}},gD=new Set(["left","top"]);async function e6(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Rs(t),a=bd(t),l=Ci(t)==="y",c=gD.has(o)?-1:1,h=s&&l?-1:1,d=_s(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*h,y:f*c}:{x:f*c,y:m*h}}const t6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await e6(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},n6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:A=>{let{x,y:S}=A;return{x,y:S}}},...l}=_s(n,e),c={x:t,y:r},h=await np(e,l),d=Ci(Rs(i)),f=ET(d);let m=c[f],y=c[d];if(s){const A=f==="y"?"top":"left",x=f==="y"?"bottom":"right",S=m+h[A],b=m-h[x];m=mA(S,m,b)}if(o){const A=d==="y"?"top":"left",x=d==="y"?"bottom":"right",S=y+h[A],b=y-h[x];y=mA(S,y,b)}const g=a.fn({...e,[f]:m,[d]:y});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[f]:s,[d]:o}}}}}},r6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_s(n,e),h={x:t,y:r},d=Ci(i),f=ET(d);let m=h[f],y=h[d];const g=_s(a,e),A=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=f==="y"?"height":"width",p=s.reference[f]-s.floating[b]+A.mainAxis,w=s.reference[f]+s.reference[b]-A.mainAxis;m<p?m=p:m>w&&(m=w)}if(c){var x,S;const b=f==="y"?"width":"height",p=gD.has(Rs(i)),w=s.reference[d]-s.floating[b]+(p&&((x=o.offset)==null?void 0:x[d])||0)+(p?0:A.crossAxis),T=s.reference[d]+s.reference[b]+(p?0:((S=o.offset)==null?void 0:S[d])||0)-(p?A.crossAxis:0);y<w?y=w:y>T&&(y=T)}return{[f]:m,[d]:y}}}},i6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=_s(n,e),h=await np(e,c),d=Rs(i),f=bd(i),m=Ci(i)==="y",{width:y,height:g}=s.floating;let A,x;d==="top"||d==="bottom"?(A=d,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=d,A=f==="end"?"top":"bottom");const S=g-h.top-h.bottom,b=y-h.left-h.right,p=na(g-h[A],S),w=na(y-h[x],b),T=!e.middlewareData.shift;let k=p,_=w;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(_=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=S),T&&!f){const M=Yn(h.left,0),L=Yn(h.right,0),j=Yn(h.top,0),H=Yn(h.bottom,0);m?_=y-2*(M!==0||L!==0?M+L:Yn(h.left,h.right)):k=g-2*(j!==0||H!==0?j+H:Yn(h.top,h.bottom))}await l({...e,availableWidth:_,availableHeight:k});const R=await o.getDimensions(a.floating);return y!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function fx(){return typeof window<"u"}function xd(n){return yD(n)?(n.nodeName||"").toLowerCase():"#document"}function Qn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Li(n){var e;return(e=(yD(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function yD(n){return fx()?n instanceof Node||n instanceof Qn(n).Node:!1}function Xr(n){return fx()?n instanceof Element||n instanceof Qn(n).Element:!1}function Mi(n){return fx()?n instanceof HTMLElement||n instanceof Qn(n).HTMLElement:!1}function t_(n){return!fx()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qn(n).ShadowRoot}const s6=new Set(["inline","contents"]);function Kg(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Qr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!s6.has(i)}const o6=new Set(["table","td","th"]);function a6(n){return o6.has(xd(n))}const l6=[":popover-open",":modal"];function px(n){return l6.some(e=>{try{return n.matches(e)}catch{return!1}})}const c6=["transform","translate","scale","rotate","perspective"],u6=["transform","translate","scale","rotate","perspective","filter"],h6=["paint","layout","strict","content"];function PT(n){const e=kT(),t=Xr(n)?Qr(n):n;return c6.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||u6.some(r=>(t.willChange||"").includes(r))||h6.some(r=>(t.contain||"").includes(r))}function d6(n){let e=ra(n);for(;Mi(e)&&!ud(e);){if(PT(e))return e;if(px(e))return null;e=ra(e)}return null}function kT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const f6=new Set(["html","body","#document"]);function ud(n){return f6.has(xd(n))}function Qr(n){return Qn(n).getComputedStyle(n)}function mx(n){return Xr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ra(n){if(xd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||t_(n)&&n.host||Li(n);return t_(e)?e.host:e}function vD(n){const e=ra(n);return ud(e)?n.ownerDocument?n.ownerDocument.body:n.body:Mi(e)&&Kg(e)?e:vD(e)}function rp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=vD(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Qn(i);if(s){const a=yA(o);return e.concat(o,o.visualViewport||[],Kg(i)?i:[],a&&t?rp(a):[])}return e.concat(i,rp(i,[],t))}function yA(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function wD(n){const e=Qr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Mi(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Pw(t)!==s||Pw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function IT(n){return Xr(n)?n:n.contextElement}function uu(n){const e=IT(n);if(!Mi(e))return _i(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=wD(e);let o=(s?Pw(t.width):t.width)/r,a=(s?Pw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const p6=_i(0);function bD(n){const e=Qn(n);return!kT()||!e.visualViewport?p6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qn(n)?!1:e}function hc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=IT(n);let o=_i(1);e&&(r?Xr(r)&&(o=uu(r)):o=uu(n));const a=m6(s,t,r)?bD(s):_i(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,h=i.width/o.x,d=i.height/o.y;if(s){const f=Qn(s),m=r&&Xr(r)?Qn(r):r;let y=f,g=yA(y);for(;g&&r&&m!==y;){const A=uu(g),x=g.getBoundingClientRect(),S=Qr(g),b=x.left+(g.clientLeft+parseFloat(S.paddingLeft))*A.x,p=x.top+(g.clientTop+parseFloat(S.paddingTop))*A.y;l*=A.x,c*=A.y,h*=A.x,d*=A.y,l+=b,c+=p,y=Qn(g),g=yA(y)}}return Iw({width:h,height:d,x:l,y:c})}function gx(n,e){const t=mx(n).scrollLeft;return e?e.left+t:hc(Li(n)).left+t}function xD(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-gx(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function g6(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Li(r),a=e?px(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=_i(1);const h=_i(0),d=Mi(r);if((d||!d&&!s)&&((xd(r)!=="body"||Kg(o))&&(l=mx(r)),Mi(r))){const m=hc(r);c=uu(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const f=o&&!d&&!s?xD(o,l):_i(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+h.x+f.x,y:t.y*c.y-l.scrollTop*c.y+h.y+f.y}}function y6(n){return Array.from(n.getClientRects())}function v6(n){const e=Li(n),t=mx(n),r=n.ownerDocument.body,i=Yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+gx(n);const a=-t.scrollTop;return Qr(r).direction==="rtl"&&(o+=Yn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const n_=25;function w6(n,e){const t=Qn(n),r=Li(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const h=kT();(!h||h&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=gx(r);if(c<=0){const h=r.ownerDocument,d=h.body,f=getComputedStyle(d),m=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,y=Math.abs(r.clientWidth-d.clientWidth-m);y<=n_&&(s-=y)}else c<=n_&&(s+=c);return{width:s,height:o,x:a,y:l}}const b6=new Set(["absolute","fixed"]);function x6(n,e){const t=hc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Mi(n)?uu(n):_i(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function r_(n,e,t){let r;if(e==="viewport")r=w6(n,t);else if(e==="document")r=v6(Li(n));else if(Xr(e))r=x6(e,t);else{const i=bD(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Iw(r)}function SD(n,e){const t=ra(n);return t===e||!Xr(t)||ud(t)?!1:Qr(t).position==="fixed"||SD(t,e)}function S6(n,e){const t=e.get(n);if(t)return t;let r=rp(n,[],!1).filter(a=>Xr(a)&&xd(a)!=="body"),i=null;const s=Qr(n).position==="fixed";let o=s?ra(n):n;for(;Xr(o)&&!ud(o);){const a=Qr(o),l=PT(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&b6.has(i.position)||Kg(o)&&!l&&SD(n,o))?r=r.filter(h=>h!==o):i=a,o=ra(o)}return e.set(n,r),r}function A6(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?px(e)?[]:S6(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,h)=>{const d=r_(e,h,i);return c.top=Yn(d.top,c.top),c.right=na(d.right,c.right),c.bottom=na(d.bottom,c.bottom),c.left=Yn(d.left,c.left),c},r_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function E6(n){const{width:e,height:t}=wD(n);return{width:e,height:t}}function C6(n,e,t){const r=Mi(e),i=Li(e),s=t==="fixed",o=hc(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=_i(0);function c(){l.x=gx(i)}if(r||!r&&!s)if((xd(e)!=="body"||Kg(i))&&(a=mx(e)),r){const m=hc(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!r&&i&&c();const h=i&&!r&&!s?xD(i,a):_i(0),d=o.left+a.scrollLeft-l.x-h.x,f=o.top+a.scrollTop-l.y-h.y;return{x:d,y:f,width:o.width,height:o.height}}function IS(n){return Qr(n).position==="static"}function i_(n,e){if(!Mi(n)||Qr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Li(n)===t&&(t=t.ownerDocument.body),t}function AD(n,e){const t=Qn(n);if(px(n))return t;if(!Mi(n)){let i=ra(n);for(;i&&!ud(i);){if(Xr(i)&&!IS(i))return i;i=ra(i)}return t}let r=i_(n,e);for(;r&&a6(r)&&IS(r);)r=i_(r,e);return r&&ud(r)&&IS(r)&&!PT(r)?t:r||d6(n)||t}const T6=async function(n){const e=this.getOffsetParent||AD,t=this.getDimensions,r=await t(n.floating);return{reference:C6(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function P6(n){return Qr(n).direction==="rtl"}const k6={convertOffsetParentRelativeRectToViewportRelativeRect:g6,getDocumentElement:Li,getClippingRect:A6,getOffsetParent:AD,getElementRects:T6,getClientRects:y6,getDimensions:E6,getScale:uu,isElement:Xr,isRTL:P6};function ED(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function I6(n,e){let t=null,r;const i=Li(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:h,top:d,width:f,height:m}=c;if(a||e(),!f||!m)return;const y=Ry(d),g=Ry(i.clientWidth-(h+f)),A=Ry(i.clientHeight-(d+m)),x=Ry(h),b={rootMargin:-y+"px "+-g+"px "+-A+"px "+-x+"px",threshold:Yn(0,na(1,l))||1};let p=!0;function w(T){const k=T[0].intersectionRatio;if(k!==l){if(!p)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!ED(c,n.getBoundingClientRect())&&o(),p=!1}try{t=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{t=new IntersectionObserver(w,b)}t.observe(n)}return o(!0),s}function _6(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=IT(n),h=i||s?[...c?rp(c):[],...rp(e)]:[];h.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const d=c&&a?I6(c,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[S]=x;S&&S.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let y,g=l?hc(n):null;l&&A();function A(){const x=hc(n);g&&!ED(g,x)&&t(),g=x,y=requestAnimationFrame(A)}return t(),()=>{var x;h.forEach(S=>{i&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),d==null||d(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const R6=t6,M6=n6,L6=JG,N6=i6,D6=ZG,s_=QG,O6=r6,j6=(n,e,t)=>{const r=new Map,i={platform:k6,...t},s={...i.platform,_c:r};return XG(n,e,{...i,platform:s})};var F6=typeof document<"u",B6=function(){},av=F6?E.useLayoutEffect:B6;function _w(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!_w(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!_w(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function CD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function o_(n,e){const t=CD(n);return Math.round(e*t)/t}function _S(n){const e=E.useRef(n);return av(()=>{e.current=n}),e}function H6(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[h,d]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=E.useState(r);_w(f,r)||m(r);const[y,g]=E.useState(null),[A,x]=E.useState(null),S=E.useCallback(O=>{O!==T.current&&(T.current=O,g(O))},[]),b=E.useCallback(O=>{O!==k.current&&(k.current=O,x(O))},[]),p=s||y,w=o||A,T=E.useRef(null),k=E.useRef(null),_=E.useRef(h),R=l!=null,M=_S(l),L=_S(i),j=_S(c),H=E.useCallback(()=>{if(!T.current||!k.current)return;const O={placement:e,strategy:t,middleware:f};L.current&&(O.platform=L.current),j6(T.current,k.current,O).then(F=>{const W={...F,isPositioned:j.current!==!1};N.current&&!_w(_.current,W)&&(_.current=W,vc.flushSync(()=>{d(W)}))})},[f,e,t,L,j]);av(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[c]);const N=E.useRef(!1);av(()=>(N.current=!0,()=>{N.current=!1}),[]),av(()=>{if(p&&(T.current=p),w&&(k.current=w),p&&w){if(M.current)return M.current(p,w,H);H()}},[p,w,H,M,R]);const $=E.useMemo(()=>({reference:T,floating:k,setReference:S,setFloating:b}),[S,b]),D=E.useMemo(()=>({reference:p,floating:w}),[p,w]),B=E.useMemo(()=>{const O={position:t,left:0,top:0};if(!D.floating)return O;const F=o_(D.floating,h.x),W=o_(D.floating,h.y);return a?{...O,transform:"translate("+F+"px, "+W+"px)",...CD(D.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:W}},[t,a,D.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:H,refs:$,elements:D,floatingStyles:B}),[h,H,$,D,B])}const V6=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?s_({element:r.current,padding:i}).fn(t):{}:r?s_({element:r,padding:i}).fn(t):{}}}},$6=(n,e)=>({...R6(n),options:[n,e]}),z6=(n,e)=>({...M6(n),options:[n,e]}),W6=(n,e)=>({...O6(n),options:[n,e]}),U6=(n,e)=>({...L6(n),options:[n,e]}),G6=(n,e)=>({...N6(n),options:[n,e]}),K6=(n,e)=>({...D6(n),options:[n,e]}),Y6=(n,e)=>({...V6(n),options:[n,e]});var q6="Arrow",TD=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return v.jsx(fe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});TD.displayName=q6;var X6=TD;function PD(n){const[e,t]=E.useState(void 0);return zt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var _T="Popper",[kD,yx]=da(_T),[Q6,ID]=kD(_T),_D=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return v.jsx(Q6,{scope:e,anchor:r,onAnchorChange:i,children:t})};_D.displayName=_T;var RD="PopperAnchor",MD=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=ID(RD,t),o=E.useRef(null),a=Te(e,o),l=E.useRef(null);return E.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:v.jsx(fe.div,{...i,ref:a})});MD.displayName=RD;var RT="PopperContent",[J6,Z6]=kD(RT),LD=E.forwardRef((n,e)=>{var G,de,ce,te,ie,me;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=n,A=ID(RT,t),[x,S]=E.useState(null),b=Te(e,se=>S(se)),[p,w]=E.useState(null),T=PD(p),k=(T==null?void 0:T.width)??0,_=(T==null?void 0:T.height)??0,R=r+(s!=="center"?"-"+s:""),M=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},L=Array.isArray(c)?c:[c],j=L.length>0,H={padding:M,boundary:L.filter(t8),altBoundary:j},{refs:N,floatingStyles:$,placement:D,isPositioned:B,middlewareData:O}=H6({strategy:"fixed",placement:R,whileElementsMounted:(...se)=>_6(...se,{animationFrame:m==="always"}),elements:{reference:A.anchor},middleware:[$6({mainAxis:i+_,alignmentAxis:o}),l&&z6({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?W6():void 0,...H}),l&&U6({...H}),G6({...H,apply:({elements:se,rects:Se,availableWidth:je,availableHeight:Ve})=>{const{width:nr,height:ma}=Se.reference,Os=se.floating.style;Os.setProperty("--radix-popper-available-width",`${je}px`),Os.setProperty("--radix-popper-available-height",`${Ve}px`),Os.setProperty("--radix-popper-anchor-width",`${nr}px`),Os.setProperty("--radix-popper-anchor-height",`${ma}px`)}}),p&&Y6({element:p,padding:a}),n8({arrowWidth:k,arrowHeight:_}),f&&K6({strategy:"referenceHidden",...H})]}),[F,W]=OD(D),U=In(y);zt(()=>{B&&(U==null||U())},[B,U]);const K=(G=O.arrow)==null?void 0:G.x,J=(de=O.arrow)==null?void 0:de.y,he=((ce=O.arrow)==null?void 0:ce.centerOffset)!==0,[Pe,le]=E.useState();return zt(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),v.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:B?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(te=O.transformOrigin)==null?void 0:te.x,(ie=O.transformOrigin)==null?void 0:ie.y].join(" "),...((me=O.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(J6,{scope:t,placedSide:F,onArrowChange:w,arrowX:K,arrowY:J,shouldHideArrow:he,children:v.jsx(fe.div,{"data-side":F,"data-align":W,...g,ref:b,style:{...g.style,animation:B?void 0:"none"}})})})});LD.displayName=RT;var ND="PopperArrow",e8={top:"bottom",right:"left",bottom:"top",left:"right"},DD=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Z6(ND,r),o=e8[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(X6,{...i,ref:t,style:{...i.style,display:"block"}})})});DD.displayName=ND;function t8(n){return n!==null}var n8=n=>({name:"transformOrigin",options:n,fn(e){var A,x,S;const{placement:t,rects:r,middlewareData:i}=e,o=((A=i.arrow)==null?void 0:A.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,h]=OD(t),d={start:"0%",center:"50%",end:"100%"}[h],f=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=o?d:`${f}px`,g=`${-l}px`):c==="top"?(y=o?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=o?d:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,g=o?d:`${m}px`),{data:{x:y,y:g}}}});function OD(n){const[e,t="center"]=n.split("-");return[e,t]}var jD=_D,FD=MD,BD=LD,HD=DD,r8="Portal",vx=E.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=E.useState(!1);zt(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?F3.createPortal(v.jsx(fe.div,{...r,ref:e}),o):null});vx.displayName=r8;function i8(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Sd=n=>{const{present:e,children:t}=n,r=s8(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),s=Te(r.ref,o8(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Sd.displayName="Presence";function s8(n){const[e,t]=E.useState(),r=E.useRef(null),i=E.useRef(n),s=E.useRef("none"),o=n?"mounted":"unmounted",[a,l]=i8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=My(r.current);s.current=a==="mounted"?c:"none"},[a]),zt(()=>{const c=r.current,h=i.current;if(h!==n){const f=s.current,m=My(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),zt(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,d=m=>{const g=My(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},f=m=>{m.target===e&&(s.current=My(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function My(n){return(n==null?void 0:n.animationName)||"none"}function o8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var RS="rovingFocusGroup.onEntryFocus",a8={bubbles:!1,cancelable:!0},Yg="RovingFocusGroup",[vA,VD,l8]=Gg(Yg),[c8,$D]=da(Yg,[l8]),[u8,h8]=c8(Yg),zD=E.forwardRef((n,e)=>v.jsx(vA.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(vA.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(d8,{...n,ref:e})})}));zD.displayName=Yg;var d8=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...d}=n,f=E.useRef(null),m=Te(e,f),y=hx(s),[g,A]=ld({prop:o,defaultProp:a??null,onChange:l,caller:Yg}),[x,S]=E.useState(!1),b=In(c),p=VD(t),w=E.useRef(!1),[T,k]=E.useState(0);return E.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(RS,b),()=>_.removeEventListener(RS,b)},[b]),v.jsx(u8,{scope:t,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:E.useCallback(_=>A(_),[A]),onItemShiftTab:E.useCallback(()=>S(!0),[]),onFocusableItemAdd:E.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:E.useCallback(()=>k(_=>_-1),[]),children:v.jsx(fe.div,{tabIndex:x||T===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...n.style},onMouseDown:q(n.onMouseDown,()=>{w.current=!0}),onFocus:q(n.onFocus,_=>{const R=!w.current;if(_.target===_.currentTarget&&R&&!x){const M=new CustomEvent(RS,a8);if(_.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=p().filter(D=>D.focusable),j=L.find(D=>D.active),H=L.find(D=>D.id===g),$=[j,H,...L].filter(Boolean).map(D=>D.ref.current);GD($,h)}}w.current=!1}),onBlur:q(n.onBlur,()=>S(!1))})})}),WD="RovingFocusGroupItem",UD=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=cd(),c=s||l,h=h8(WD,t),d=h.currentTabStopId===c,f=VD(t),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=h;return E.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),v.jsx(vA.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:v.jsx(fe.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:q(n.onMouseDown,A=>{r?h.onItemFocus(c):A.preventDefault()}),onFocus:q(n.onFocus,()=>h.onItemFocus(c)),onKeyDown:q(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){h.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const x=m8(A,h.orientation,h.dir);if(x!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let b=f().filter(p=>p.focusable).map(p=>p.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const p=b.indexOf(A.currentTarget);b=h.loop?g8(b,p+1):b.slice(p+1)}setTimeout(()=>GD(b))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});UD.displayName=WD;var f8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function m8(n,e,t){const r=p8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return f8[r]}function GD(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function g8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var y8=zD,v8=UD,w8=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},kc=new WeakMap,Ly=new WeakMap,Ny={},MS=0,KD=function(n){return n&&(n.host||KD(n.parentNode))},b8=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=KD(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},x8=function(n,e,t,r){var i=b8(e,Array.isArray(n)?n:[n]);Ny[t]||(Ny[t]=new WeakMap);var s=Ny[t],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))h(f);else try{var m=f.getAttribute(r),y=m!==null&&m!=="false",g=(kc.get(f)||0)+1,A=(s.get(f)||0)+1;kc.set(f,g),s.set(f,A),o.push(f),g===1&&y&&Ly.set(f,!0),A===1&&f.setAttribute(t,"true"),y||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return h(e),a.clear(),MS++,function(){o.forEach(function(d){var f=kc.get(d)-1,m=s.get(d)-1;kc.set(d,f),s.set(d,m),f||(Ly.has(d)||d.removeAttribute(r),Ly.delete(d)),m||d.removeAttribute(t)}),MS--,MS||(kc=new WeakMap,kc=new WeakMap,Ly=new WeakMap,Ny={})}},YD=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=e||w8(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),x8(r,i,t,"aria-hidden")):function(){return null}},Ai=function(){return Ai=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ai.apply(this,arguments)};function qD(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function S8(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var lv="right-scroll-bar-position",cv="width-before-scroll-bar",A8="with-scroll-bars-hidden",E8="--removed-body-scroll-bar-size";function LS(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function C8(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var T8=typeof window<"u"?E.useLayoutEffect:E.useEffect,a_=new WeakMap;function P8(n,e){var t=C8(e||null,function(r){return n.forEach(function(i){return LS(i,r)})});return T8(function(){var r=a_.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||LS(a,null)}),s.forEach(function(a){i.has(a)||LS(a,o)})}a_.set(t,n)},[n]),t}function k8(n){return n}function I8(n,e){e===void 0&&(e=k8);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var h=o;o=[],h.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),t}}}};return i}function _8(n){n===void 0&&(n={});var e=I8(null);return e.options=Ai({async:!0,ssr:!1},n),e}var XD=function(n){var e=n.sideCar,t=qD(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Ai({},t))};XD.isSideCarExport=!0;function R8(n,e){return n.useMedium(e),XD}var QD=_8(),NS=function(){},wx=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:NS,onWheelCapture:NS,onTouchMoveCapture:NS}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,h=n.enabled,d=n.shards,f=n.sideCar,m=n.noRelative,y=n.noIsolation,g=n.inert,A=n.allowPinchZoom,x=n.as,S=x===void 0?"div":x,b=n.gapMode,p=qD(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,T=P8([t,e]),k=Ai(Ai({},p),i);return E.createElement(E.Fragment,null,h&&E.createElement(w,{sideCar:QD,removeScrollBar:c,shards:d,noRelative:m,noIsolation:y,inert:g,setCallbacks:s,allowPinchZoom:!!A,lockRef:t,gapMode:b}),o?E.cloneElement(E.Children.only(a),Ai(Ai({},k),{ref:T})):E.createElement(S,Ai({},k,{className:l,ref:T}),a))});wx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wx.classNames={fullWidth:cv,zeroRight:lv};var l_,M8=function(){if(l_)return l_;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L8(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=M8();return e&&n.setAttribute("nonce",e),n}function N8(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function D8(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var O8=function(){var n=0,e=null;return{add:function(t){n==0&&(e=L8())&&(N8(e,t),D8(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},j8=function(){var n=O8();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},JD=function(){var n=j8(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},F8={left:0,top:0,right:0,gap:0},DS=function(n){return parseInt(n||"",10)||0},B8=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[DS(t),DS(r),DS(i)]},H8=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return F8;var e=B8(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},V8=JD(),hu="data-scroll-locked",$8=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(A8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(hu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lv," .").concat(lv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cv," .").concat(cv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hu,`] {
    `).concat(E8,": ").concat(a,`px;
  }
`)},c_=function(){var n=parseInt(document.body.getAttribute(hu)||"0",10);return isFinite(n)?n:0},z8=function(){E.useEffect(function(){return document.body.setAttribute(hu,(c_()+1).toString()),function(){var n=c_()-1;n<=0?document.body.removeAttribute(hu):document.body.setAttribute(hu,n.toString())}},[])},W8=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;z8();var s=E.useMemo(function(){return H8(i)},[i]);return E.createElement(V8,{styles:$8(s,!e,i,t?"":"!important")})},wA=!1;if(typeof window<"u")try{var Dy=Object.defineProperty({},"passive",{get:function(){return wA=!0,!0}});window.addEventListener("test",Dy,Dy),window.removeEventListener("test",Dy,Dy)}catch{wA=!1}var Ic=wA?{passive:!1}:!1,U8=function(n){return n.tagName==="TEXTAREA"},ZD=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!U8(n)&&t[e]==="visible")},G8=function(n){return ZD(n,"overflowY")},K8=function(n){return ZD(n,"overflowX")},u_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=e2(n,r);if(i){var s=t2(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Y8=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},q8=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},e2=function(n,e){return n==="v"?G8(e):K8(e)},t2=function(n,e){return n==="v"?Y8(e):q8(e)},X8=function(n,e){return n==="h"&&e==="rtl"?-1:1},Q8=function(n,e,t,r,i){var s=X8(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,h=o>0,d=0,f=0;do{if(!a)break;var m=t2(n,a),y=m[0],g=m[1],A=m[2],x=g-A-s*y;(y||x)&&e2(n,a)&&(d+=x,f+=y);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(i&&Math.abs(d)<1||!i&&o>d)||!h&&(i&&Math.abs(f)<1||!i&&-o>f))&&(c=!0),c},Oy=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},h_=function(n){return[n.deltaX,n.deltaY]},d_=function(n){return n&&"current"in n?n.current:n},J8=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Z8=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},eK=0,_c=[];function tK(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(eK++)[0],s=E.useState(JD)[0],o=E.useRef(n);E.useEffect(function(){o.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var g=S8([n.lockRef.current],(n.shards||[]).map(d_),!0).filter(Boolean);return g.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=E.useCallback(function(g,A){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Oy(g),S=t.current,b="deltaX"in g?g.deltaX:S[0]-x[0],p="deltaY"in g?g.deltaY:S[1]-x[1],w,T=g.target,k=Math.abs(b)>Math.abs(p)?"h":"v";if("touches"in g&&k==="h"&&T.type==="range")return!1;var _=u_(k,T);if(!_)return!0;if(_?w=k:(w=k==="v"?"h":"v",_=u_(k,T)),!_)return!1;if(!r.current&&"changedTouches"in g&&(b||p)&&(r.current=w),!w)return!0;var R=r.current||w;return Q8(R,A,g,R==="h"?b:p,!0)},[]),l=E.useCallback(function(g){var A=g;if(!(!_c.length||_c[_c.length-1]!==s)){var x="deltaY"in A?h_(A):Oy(A),S=e.current.filter(function(w){return w.name===A.type&&(w.target===A.target||A.target===w.shadowParent)&&J8(w.delta,x)})[0];if(S&&S.should){A.cancelable&&A.preventDefault();return}if(!S){var b=(o.current.shards||[]).map(d_).filter(Boolean).filter(function(w){return w.contains(A.target)}),p=b.length>0?a(A,b[0]):!o.current.noIsolation;p&&A.cancelable&&A.preventDefault()}}},[]),c=E.useCallback(function(g,A,x,S){var b={name:g,delta:A,target:x,should:S,shadowParent:nK(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(p){return p!==b})},1)},[]),h=E.useCallback(function(g){t.current=Oy(g),r.current=void 0},[]),d=E.useCallback(function(g){c(g.type,h_(g),g.target,a(g,n.lockRef.current))},[]),f=E.useCallback(function(g){c(g.type,Oy(g),g.target,a(g,n.lockRef.current))},[]);E.useEffect(function(){return _c.push(s),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ic),document.addEventListener("touchmove",l,Ic),document.addEventListener("touchstart",h,Ic),function(){_c=_c.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Ic),document.removeEventListener("touchmove",l,Ic),document.removeEventListener("touchstart",h,Ic)}},[]);var m=n.removeScrollBar,y=n.inert;return E.createElement(E.Fragment,null,y?E.createElement(s,{styles:Z8(i)}):null,m?E.createElement(W8,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function nK(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const rK=R8(QD,tK);var n2=E.forwardRef(function(n,e){return E.createElement(wx,Ai({},n,{ref:e,sideCar:rK}))});n2.classNames=wx.classNames;const r2=n2;var bA=["Enter"," "],iK=["ArrowDown","PageUp","Home"],i2=["ArrowUp","PageDown","End"],sK=[...iK,...i2],oK={ltr:[...bA,"ArrowRight"],rtl:[...bA,"ArrowLeft"]},aK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qg="Menu",[ip,lK,cK]=Gg(qg),[Sc,s2]=da(qg,[cK,yx,$D]),bx=yx(),o2=$D(),[uK,Ac]=Sc(qg),[hK,Xg]=Sc(qg),a2=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=bx(e),[l,c]=E.useState(null),h=E.useRef(!1),d=In(s),f=hx(i);return E.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),v.jsx(jD,{...a,children:v.jsx(uK,{scope:e,open:t,onOpenChange:d,content:l,onContentChange:c,children:v.jsx(hK,{scope:e,onClose:E.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};a2.displayName=qg;var dK="MenuAnchor",MT=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=bx(t);return v.jsx(FD,{...i,...r,ref:e})});MT.displayName=dK;var LT="MenuPortal",[fK,l2]=Sc(LT,{forceMount:void 0}),c2=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=Ac(LT,e);return v.jsx(fK,{scope:e,forceMount:t,children:v.jsx(Sd,{present:t||s.open,children:v.jsx(vx,{asChild:!0,container:i,children:r})})})};c2.displayName=LT;var br="MenuContent",[pK,NT]=Sc(br),u2=E.forwardRef((n,e)=>{const t=l2(br,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ac(br,n.__scopeMenu),o=Xg(br,n.__scopeMenu);return v.jsx(ip.Provider,{scope:n.__scopeMenu,children:v.jsx(Sd,{present:r||s.open,children:v.jsx(ip.Slot,{scope:n.__scopeMenu,children:o.modal?v.jsx(mK,{...i,ref:e}):v.jsx(gK,{...i,ref:e})})})})}),mK=E.forwardRef((n,e)=>{const t=Ac(br,n.__scopeMenu),r=E.useRef(null),i=Te(e,r);return E.useEffect(()=>{const s=r.current;if(s)return YD(s)},[]),v.jsx(DT,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:q(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),gK=E.forwardRef((n,e)=>{const t=Ac(br,n.__scopeMenu);return v.jsx(DT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),yK=ad("MenuContent.ScrollLock"),DT=E.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:f,onDismiss:m,disableOutsideScroll:y,...g}=n,A=Ac(br,t),x=Xg(br,t),S=bx(t),b=o2(t),p=lK(t),[w,T]=E.useState(null),k=E.useRef(null),_=Te(e,k,A.onContentChange),R=E.useRef(0),M=E.useRef(""),L=E.useRef(0),j=E.useRef(null),H=E.useRef("right"),N=E.useRef(0),$=y?r2:E.Fragment,D=y?{as:yK,allowPinchZoom:!0}:void 0,B=F=>{var G,de;const W=M.current+F,U=p().filter(ce=>!ce.disabled),K=document.activeElement,J=(G=U.find(ce=>ce.ref.current===K))==null?void 0:G.textValue,he=U.map(ce=>ce.textValue),Pe=IK(he,W,J),le=(de=U.find(ce=>ce.textValue===Pe))==null?void 0:de.ref.current;(function ce(te){M.current=te,window.clearTimeout(R.current),te!==""&&(R.current=window.setTimeout(()=>ce(""),1e3))})(W),le&&setTimeout(()=>le.focus())};E.useEffect(()=>()=>window.clearTimeout(R.current),[]),fD();const O=E.useCallback(F=>{var U,K;return H.current===((U=j.current)==null?void 0:U.side)&&RK(F,(K=j.current)==null?void 0:K.area)},[]);return v.jsx(pK,{scope:t,searchRef:M,onItemEnter:E.useCallback(F=>{O(F)&&F.preventDefault()},[O]),onItemLeave:E.useCallback(F=>{var W;O(F)||((W=k.current)==null||W.focus(),T(null))},[O]),onTriggerLeave:E.useCallback(F=>{O(F)&&F.preventDefault()},[O]),pointerGraceTimerRef:L,onPointerGraceIntentChange:E.useCallback(F=>{j.current=F},[]),children:v.jsx($,{...D,children:v.jsx(AT,{asChild:!0,trapped:i,onMountAutoFocus:q(s,F=>{var W;F.preventDefault(),(W=k.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:v.jsx(dx,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:f,onDismiss:m,children:v.jsx(y8,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:T,onEntryFocus:q(l,F=>{x.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(BD,{role:"menu","aria-orientation":"vertical","data-state":T2(A.open),"data-radix-menu-content":"",dir:x.dir,...S,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:q(g.onKeyDown,F=>{const U=F.target.closest("[data-radix-menu-content]")===F.currentTarget,K=F.ctrlKey||F.altKey||F.metaKey,J=F.key.length===1;U&&(F.key==="Tab"&&F.preventDefault(),!K&&J&&B(F.key));const he=k.current;if(F.target!==he||!sK.includes(F.key))return;F.preventDefault();const le=p().filter(G=>!G.disabled).map(G=>G.ref.current);i2.includes(F.key)&&le.reverse(),PK(le)}),onBlur:q(n.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(R.current),M.current="")}),onPointerMove:q(n.onPointerMove,sp(F=>{const W=F.target,U=N.current!==F.clientX;if(F.currentTarget.contains(W)&&U){const K=F.clientX>N.current?"right":"left";H.current=K,N.current=F.clientX}}))})})})})})})});u2.displayName=br;var vK="MenuGroup",OT=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(fe.div,{role:"group",...r,ref:e})});OT.displayName=vK;var wK="MenuLabel",h2=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(fe.div,{...r,ref:e})});h2.displayName=wK;var Rw="MenuItem",f_="menu.itemSelect",xx=E.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=E.useRef(null),o=Xg(Rw,n.__scopeMenu),a=NT(Rw,n.__scopeMenu),l=Te(e,s),c=E.useRef(!1),h=()=>{const d=s.current;if(!t&&d){const f=new CustomEvent(f_,{bubbles:!0,cancelable:!0});d.addEventListener(f_,m=>r==null?void 0:r(m),{once:!0}),ST(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return v.jsx(d2,{...i,ref:l,disabled:t,onClick:q(n.onClick,h),onPointerDown:d=>{var f;(f=n.onPointerDown)==null||f.call(n,d),c.current=!0},onPointerUp:q(n.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:q(n.onKeyDown,d=>{const f=a.searchRef.current!=="";t||f&&d.key===" "||bA.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});xx.displayName=Rw;var d2=E.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=NT(Rw,t),a=o2(t),l=E.useRef(null),c=Te(e,l),[h,d]=E.useState(!1),[f,m]=E.useState("");return E.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[s.children]),v.jsx(ip.ItemSlot,{scope:t,disabled:r,textValue:i??f,children:v.jsx(v8,{asChild:!0,...a,focusable:!r,children:v.jsx(fe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:q(n.onPointerMove,sp(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:q(n.onPointerLeave,sp(y=>o.onItemLeave(y))),onFocus:q(n.onFocus,()=>d(!0)),onBlur:q(n.onBlur,()=>d(!1))})})})}),bK="MenuCheckboxItem",f2=E.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return v.jsx(v2,{scope:n.__scopeMenu,checked:t,children:v.jsx(xx,{role:"menuitemcheckbox","aria-checked":Mw(t)?"mixed":t,...i,ref:e,"data-state":FT(t),onSelect:q(i.onSelect,()=>r==null?void 0:r(Mw(t)?!0:!t),{checkForDefaultPrevented:!1})})})});f2.displayName=bK;var p2="MenuRadioGroup",[xK,SK]=Sc(p2,{value:void 0,onValueChange:()=>{}}),m2=E.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=In(r);return v.jsx(xK,{scope:n.__scopeMenu,value:t,onValueChange:s,children:v.jsx(OT,{...i,ref:e})})});m2.displayName=p2;var g2="MenuRadioItem",y2=E.forwardRef((n,e)=>{const{value:t,...r}=n,i=SK(g2,n.__scopeMenu),s=t===i.value;return v.jsx(v2,{scope:n.__scopeMenu,checked:s,children:v.jsx(xx,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":FT(s),onSelect:q(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});y2.displayName=g2;var jT="MenuItemIndicator",[v2,AK]=Sc(jT,{checked:!1}),w2=E.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=AK(jT,t);return v.jsx(Sd,{present:r||Mw(s.checked)||s.checked===!0,children:v.jsx(fe.span,{...i,ref:e,"data-state":FT(s.checked)})})});w2.displayName=jT;var EK="MenuSeparator",b2=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});b2.displayName=EK;var CK="MenuArrow",x2=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=bx(t);return v.jsx(HD,{...i,...r,ref:e})});x2.displayName=CK;var TK="MenuSub",[tJ,S2]=Sc(TK),qd="MenuSubTrigger",A2=E.forwardRef((n,e)=>{const t=Ac(qd,n.__scopeMenu),r=Xg(qd,n.__scopeMenu),i=S2(qd,n.__scopeMenu),s=NT(qd,n.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},h=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),v.jsx(MT,{asChild:!0,...c,children:v.jsx(d2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":T2(t.open),...n,ref:ux(e,i.onTriggerChange),onClick:d=>{var f;(f=n.onClick)==null||f.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:q(n.onPointerMove,sp(d=>{s.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:q(n.onPointerLeave,sp(d=>{var m,y;h();const f=(m=t.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(y=t.content)==null?void 0:y.dataset.side,A=g==="right",x=A?-5:5,S=f[A?"left":"right"],b=f[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:S,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:S,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:q(n.onKeyDown,d=>{var m;const f=s.searchRef.current!=="";n.disabled||f&&d.key===" "||oK[r.dir].includes(d.key)&&(t.onOpenChange(!0),(m=t.content)==null||m.focus(),d.preventDefault())})})})});A2.displayName=qd;var E2="MenuSubContent",C2=E.forwardRef((n,e)=>{const t=l2(br,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ac(br,n.__scopeMenu),o=Xg(br,n.__scopeMenu),a=S2(E2,n.__scopeMenu),l=E.useRef(null),c=Te(e,l);return v.jsx(ip.Provider,{scope:n.__scopeMenu,children:v.jsx(Sd,{present:r||s.open,children:v.jsx(ip.Slot,{scope:n.__scopeMenu,children:v.jsx(DT,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:q(n.onFocusOutside,h=>{h.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:q(n.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:q(n.onKeyDown,h=>{var m;const d=h.currentTarget.contains(h.target),f=aK[o.dir].includes(h.key);d&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),h.preventDefault())})})})})})});C2.displayName=E2;function T2(n){return n?"open":"closed"}function Mw(n){return n==="indeterminate"}function FT(n){return Mw(n)?"indeterminate":n?"checked":"unchecked"}function PK(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function kK(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function IK(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=kK(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function _K(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,h=a.y,d=l.x,f=l.y;h>r!=f>r&&t<(d-c)*(r-h)/(f-h)+c&&(i=!i)}return i}function RK(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return _K(t,e)}function sp(n){return e=>e.pointerType==="mouse"?n(e):void 0}var MK=a2,LK=MT,NK=c2,DK=u2,OK=OT,jK=h2,FK=xx,BK=f2,HK=m2,VK=y2,$K=w2,zK=b2,WK=x2,UK=A2,GK=C2,Sx="DropdownMenu",[KK,nJ]=da(Sx,[s2]),yn=s2(),[YK,P2]=KK(Sx),k2=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=yn(e),c=E.useRef(null),[h,d]=ld({prop:i,defaultProp:s??!1,onChange:o,caller:Sx});return v.jsx(YK,{scope:e,triggerId:cd(),triggerRef:c,contentId:cd(),open:h,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(f=>!f),[d]),modal:a,children:v.jsx(MK,{...l,open:h,onOpenChange:d,dir:r,modal:a,children:t})})};k2.displayName=Sx;var I2="DropdownMenuTrigger",_2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=P2(I2,t),o=yn(t);return v.jsx(LK,{asChild:!0,...o,children:v.jsx(fe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:ux(e,s.triggerRef),onPointerDown:q(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:q(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});_2.displayName=I2;var qK="DropdownMenuPortal",R2=n=>{const{__scopeDropdownMenu:e,...t}=n,r=yn(e);return v.jsx(NK,{...r,...t})};R2.displayName=qK;var M2="DropdownMenuContent",L2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=P2(M2,t),s=yn(t),o=E.useRef(!1);return v.jsx(DK,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:q(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:q(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!i.modal||h)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L2.displayName=M2;var XK="DropdownMenuGroup",QK=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(OK,{...i,...r,ref:e})});QK.displayName=XK;var JK="DropdownMenuLabel",N2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(jK,{...i,...r,ref:e})});N2.displayName=JK;var ZK="DropdownMenuItem",D2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(FK,{...i,...r,ref:e})});D2.displayName=ZK;var eY="DropdownMenuCheckboxItem",O2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(BK,{...i,...r,ref:e})});O2.displayName=eY;var tY="DropdownMenuRadioGroup",nY=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(HK,{...i,...r,ref:e})});nY.displayName=tY;var rY="DropdownMenuRadioItem",j2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(VK,{...i,...r,ref:e})});j2.displayName=rY;var iY="DropdownMenuItemIndicator",F2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx($K,{...i,...r,ref:e})});F2.displayName=iY;var sY="DropdownMenuSeparator",B2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(zK,{...i,...r,ref:e})});B2.displayName=sY;var oY="DropdownMenuArrow",aY=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(WK,{...i,...r,ref:e})});aY.displayName=oY;var lY="DropdownMenuSubTrigger",H2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(UK,{...i,...r,ref:e})});H2.displayName=lY;var cY="DropdownMenuSubContent",V2=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=yn(t);return v.jsx(GK,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V2.displayName=cY;var uY=k2,hY=_2,dY=R2,$2=L2,z2=N2,W2=D2,U2=O2,G2=j2,K2=F2,Y2=B2,q2=H2,X2=V2;const fY=uY,pY=hY,mY=ee.forwardRef(({className:n,inset:e,children:t,...r},i)=>v.jsxs(q2,{ref:i,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,v.jsx(eD,{className:"ml-auto h-4 w-4"})]}));mY.displayName=q2.displayName;const gY=ee.forwardRef(({className:n,...e},t)=>v.jsx(X2,{ref:t,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));gY.displayName=X2.displayName;const Q2=ee.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(dY,{children:v.jsx($2,{ref:r,sideOffset:e,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Q2.displayName=$2.displayName;const uv=ee.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(W2,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));uv.displayName=W2.displayName;const yY=ee.forwardRef(({className:n,children:e,checked:t,...r},i)=>v.jsxs(U2,{ref:i,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(K2,{children:v.jsx(JN,{className:"h-4 w-4"})})}),e]}));yY.displayName=U2.displayName;const vY=ee.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(G2,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(K2,{children:v.jsx(q4,{className:"h-2 w-2 fill-current"})})}),e]}));vY.displayName=G2.displayName;const wY=ee.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(z2,{ref:r,className:Ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));wY.displayName=z2.displayName;const bY=ee.forwardRef(({className:n,...e},t)=>v.jsx(Y2,{ref:t,className:Ae("-mx-1 my-1 h-px bg-muted",n),...e}));bY.displayName=Y2.displayName;function Lw(){const{setTheme:n}=pG();return v.jsxs(fY,{children:[v.jsx(pY,{asChild:!0,children:v.jsxs(vt,{variant:"outline",size:"icon",children:[v.jsx(uG,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),v.jsx(aG,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),v.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),v.jsxs(Q2,{align:"end",children:[v.jsx(uv,{onClick:()=>n("light"),children:"Light"}),v.jsx(uv,{onClick:()=>n("dark"),children:"Dark"}),v.jsx(uv,{onClick:()=>n("system"),children:"System"})]})]})}const xA=({direction:n="down",className:e,...t})=>v.jsx("div",{className:Ae("w-full h-20 md:h-32 lg:h-40 leading-[0] fill-current",n==="up"?"-mt-1":"-mb-1",e),...t,children:v.jsx("svg",{className:"relative block w-full h-full",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",style:{transform:n==="up"?"rotate(180deg)":""},children:v.jsx("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31.74,904.67,72.43,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"})})}),p_=[{name:"Home",path:"/",icon:nD},{name:"Library",path:"/library",icon:iG},{name:"About Us",path:"/about",icon:rG},{name:"Salvation",path:"/salvation",icon:Q4},{name:"Contact Us",path:"/contact",icon:rD}],xY=({children:n})=>{const[e,t]=E.useState(!1),r=Ds(),i=()=>t(!e);return v.jsxs("div",{className:"min-h-screen flex flex-col bg-background transition-colors duration-500 overflow-x-hidden",children:[v.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 shadow-lg bg-background",children:[v.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-20",children:[v.jsxs(en,{to:"/",className:"flex items-center space-x-2",children:[v.jsx(ue.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.2},children:v.jsx(Rf,{className:"h-10 w-10 text-primary"})}),v.jsx("span",{className:"text-2xl font-bold gradient-text",style:{fontFamily:"'Lexend', sans-serif"},children:"Kingdom Pages"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[p_.map((s,o)=>v.jsx(ue.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*o+.5},children:v.jsx(en,{to:s.path,onClick:()=>e&&i(),className:({isActive:a})=>`relative px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ease-in-out hover:text-primary transform hover:scale-105 ${a?"text-primary font-semibold":"text-muted-foreground"}`,children:({isActive:a})=>v.jsxs(v.Fragment,{children:[s.name,a&&v.jsx(ue.div,{layoutId:"active-nav-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",initial:!1,transition:{type:"spring",stiffness:350,damping:30}})]})})},s.name)),v.jsx(ue.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},className:"ml-4",children:v.jsx(Lw,{})})]}),v.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[v.jsx(Lw,{}),v.jsx(vt,{variant:"ghost",size:"icon",onClick:i,"aria-label":"Open menu",children:e?v.jsx(xT,{className:"h-6 w-6"}):v.jsx(iD,{className:"h-6 w-6"})})]})]})}),v.jsx(od,{children:e&&v.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card shadow-xl origin-top",children:v.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 max-h-[calc(100vh-5rem)] overflow-y-auto",children:p_.map(s=>v.jsx(en,{to:s.path,onClick:i,className:({isActive:o})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${o?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted/50"}`,children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(s.icon,{className:"h-5 w-5"}),v.jsx("span",{children:s.name})]})},s.name))})})})]}),v.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pt-8 pb-12 relative",children:v.jsx(od,{mode:"wait",children:v.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n},r.pathname)})}),v.jsxs("footer",{className:"relative mt-0 pt-1 pb-1 text-center text-muted-foreground",children:[v.jsx(xA,{direction:"up",className:"text-background"}),v.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"relative",children:[v.jsx("div",{className:"flex justify-center items-center space-x-2 mb-4",children:v.jsxs("span",{className:"text-sm",children:["Kingdom Pages © ",new Date().getFullYear()]})}),v.jsx("p",{className:"text-xs",children:"Inspiring faith through digital stories."}),v.jsx("div",{className:"mt-4 space-x-4",children:v.jsx(en,{to:"/terms-of-service",className:"hover:text-primary transition-colors",children:"Terms of Service"})})]})]})]})},SY=()=>{const{pathname:n}=Ds();return E.useEffect(()=>{window.scrollTo(0,0)},[n]),null},AY=`**Vee**\r
\r
“…so everyone, listen up,” my manager announces. “This is unexpected and the time frame is short, but we all have to make our contributions. Assistant Managers and below, \\$200; Managers upward, \\$700.”\r
\r
“See ehn…” my colleague whispers to me.\r
\r
I can hear him speaking, but honestly, I’m not really listening. This announcement is quite unexpected, and knowing the amount in my bank account, it’s looking pretty impossible at the moment.\r
\r
“…Vee, are you even listening to me?” he whispers.\r
\r
Moments later, after the meeting.\r
\r
My mobile phone rings, and I immediately pick it up without looking at the caller ID.\r
\r
“Hello.”\r
\r
“Good afternoon, Ma. I trust you are having a great day. I’m calling to remind you of the commitment you made to The Messenger Angel Book. We need to produce several copies to send to the different communities. We are therefore counting on you to do something before the week runs out. God bless you, Ma.”\r
\r
“Thank you for the reminder,” I reply, trying to insert some cheer into my voice.\r
\r
**3 Hours Later**\r
\r
I’m driving into my estate, super glad to finally be heading home after a long day. I can’t wait to put my feet up and watch something nice. Just take a break from everything.\r
\r
Just as I pull up to the gate, a super happy greeting draws me out of my reverie. It’s Charles, our trusty security man. He’s always cheerful and super helpful. I can’t even count the number of times he has gone out of his way to make my life easier. Most times, he does it without me asking.\r
\r
“Aunty, welcome Ma. How was your day, Ma?” he greets, speaking in Nigerian pidgin English.\r
\r
“It was fine, Charles, thank you.”\r
\r
I’m honestly not in the mood for small talk, but I don’t want to be rude to Charles.\r
\r
Oblivious to my state of mind, Charles forges ahead.\r
\r
“Aunty, e be like say you get early appointment this morning, because as I say make I bring soap come wash your car, you don already dey commot. But tomorrow I go wake up early, come wash your car sharp sharp.” He smiles.\r
\r
“Oh, that’s kind of you. Yes, I was in a hurry; someone was waiting for me. But thank you all the same.”\r
\r
I’m really trying to keep a kind look on my face, although all I want is to be in the sanctuary of my house.\r
\r
I walk along the side of my car to the back seat, grabbing my bags in hopes of a quick escape.\r
\r
I head towards my apartment, only to realise that Charles is already lingering at my entrance with a hopeful expression.\r
\r
“Okay, Ma…ermmm Auntie…e get something wey I wan ask you.”\r
\r
“What is it, Charles? I hope all is well.”\r
\r
“Auntie, all is well o…na my pikin call me say she need money to buy JAMB form, and the registration dey end tomorrow. You know say I spend all the money wey I get when I go bury my brother last month. Abeg, if you fit just help me.”\r
\r
He kneels down, really pleading with me. How can I refuse to help him? I mean, it’s Charles. I know he’s not trying to take advantage of me. He’s not that type of person.\r
\r
“You know say na only you I fit beg for inside this estate,” he pleads sincerely.\r
\r
“It’s okay, Charles. Please get up, you don’t have to do all this. Just send me the account details, okay?”\r
\r
Immediately, he leaps up. “Haaaaa, Aunty, God go bless you, God go prosper you…” He proceeds to utter several blessings.\r
\r
“Amen, Charles. Thank God. Have a good evening.”\r
\r
With those parting words, I quickly unlock the door and shut myself in.\r
\r
Finally, some peace and quiet. I drop all my bags on the entry table and take off my heels. I feel like this respite couldn’t have come even one second later.\r
\r
Rubbing my slightly aching soles, I turn on the TV to one of the only stations worth watching, in my opinion, LoveWorld XP.\r
\r
Next stop on the road to getting comfy: I have to get out of these work clothes. Sweatpants and a comfy T-shirt sound more like it. So, I head to my room to change into that.\r
\r
A loud grumble from my tummy reminds me that I haven’t had anything to eat since lunchtime, 8 hours ago.\r
\r
At this point, I can’t help but celebrate the genius of whoever came up with the idea of instant noodles. Imagine having to cook in a moment like this, when hunger is already making your stomach grumble every 15 seconds. To the kitchen I go, quickly preparing two packets of my favourite noodles.\r
\r
Minutes later, I am comfortably situated on my couch, tucked under my favourite duvet. I dig into my perfect bowl of noodles while watching LoveWorld Expressions to catch the latest music video. A notification pops up on my phone.\r
\r
“Big Sis ♥️♥️♥️,” the text from my little sister reads. I was wondering when this young lady would call me; I haven’t heard from her in days.\r
\r
I fire off a quick response so I can get back to my food.\r
\r
“Baby girl, how are you? Called you yesterday but your line was off.”\r
\r
In true Gen Z fashion, my sister’s response is swift.\r
\r
“Heeeeey! Only God knows how many other people have tried to reach me and couldn’t. Sis, it’s my phone o. It started misbehaving some days ago. It just goes off when the battery is like 60%. I took it to the phone repair shop and the guys there said the battery is bad.”\r
\r
“Are you for real? Sorry o, but that your phone has tried shaa, lol.”\r
\r
“I really don’t know what to do right now because Dad just bought me a new laptop 2 weeks ago, and I can’t start telling him that my phone is bad.”\r
\r
“You’re right. He will tell you to go and read your books 🤣.”\r
\r
“Sis, that’s why I have you now, the best big sis in the whole world. Pretty please, Sis…I need a new phone.”\r
\r
I honestly cannot believe this day. I drop the forkful of noodles I was about to eat. My appetite is completely gone at this point.\r
\r
Minutes pass, and I’m fully aware that I haven’t responded. But right now, it all feels too much. First it was the \\$700 demand at work, then the reminder about my Messenger Angel Book pledge, then the unexpected plea for help from Charles, now my sister. What’s next?\r
\r
Another text comes in with a loud ping. I know my sister is probably wondering why my response is taking so long. She has no idea what this adulting business entails.\r
\r
Reluctantly, I open the text. Whatever she has to say will probably leave me with no choice but to fulfill my role as the deputy parent.\r
\r
“Okay, Sis, please just give me money to repair the phone…I’m really desperate. You know I’m in my final year, and I really need a phone to communicate with all these lecturers. You’re my only hope right now 🙏🏾.”\r
\r
A deep sigh involuntarily escapes me. How can I not help? My sister needs me. I will have to find a way to make it work.\r
\r
“No problem, girl, what are elder sisters for? Send me the cost of buying a new phone vs repairing the phone. I will weigh the pros and cons and send you the money for whichever option I decide on.”\r
\r
My sister’s reply is immediate, lest I even think about changing my mind.\r
\r
“I love you with all my heart, Big Sis ❤️😘\r
You are simply the best.”\r
\r
Yeah, yeah. I wonder if she would still say that if I had said I couldn’t help. Anyways, it is well.\r
\r
I look at the TV, seeing the end credits of the show rolling out but not registering anything I’m seeing. My mind is full. I head to the kitchen and trash the leftover cold noodles. So much for a relaxing night with a little entertainment for distraction.\r
\r
Suddenly it hits me—what am I actually going to do? What’s in my account is not so much. I wish there was someone I could call right now to help me with some funds.\r
\r
Almost immediately, a direct response to my worrisome train of thought wells up in my heart: “…that you may always and under all circumstances and whatever the need be self-sufficient (possessing enough to require no aid or support and furnished in abundance for every good work and charitable donation).”\r
\r
Wow, where did this thought come from? Yeah, that’s true though.\r
\r
Again, the same sweet and soft but clear voice whispers to me: “…If I will not open to you the windows of heaven and pour you out a blessing, that there shall not be room enough to receive it.”\r
\r
That’s right! I paid the tenth last week, so this is my lot!\r
\r
Energy surges in immediately.\r
\r
Unknown tongues are uttered.\r
\r
Hagar is going on.\r
\r
More words like the precious ones from before are pouring out.\r
\r
Soon, there is a roaring.\r
\r
Soon, there’s a note of victory. There’s a knowing that I just lambanoed.\r
\r
What a way to end the day! Now I can enjoy my sleep, knowing fully well that I have nothing to worry about. I’m just going to prepare my work clothes for tomorrow so it won’t take up my time in the morning.\r
\r
I run my mind through my closet and decide to wear my beige dress with the fringe bottom. But that means I would have to change the blue bag I was carrying today to a beige one, to avoid being a walking fashion disaster.\r
\r
I head to my bag closet and pull out the beige bag I had in mind. I start transferring things from my blue bag into it.\r
\r
As I am placing my cards in the side pocket of my beige bag, my hand brushes against some paper-like items—a bundle of notes, it seems.\r
\r
Wondering what long-forgotten notes it could be, I pull out the items from the bag. It’s then I realise it’s not a bundle of old notes—it’s money. An actual bundle of money. How did this get here? I don’t recall putting it here. I sit on my bed, absolutely stunned. I am trying to remember possibly keeping such an amount away, but nothing is coming to mind.\r
\r
Could it really be? Who put the money in my bag? Honestly, I need to stop asking unnecessary questions and count the money. It’s exactly the amount I had been wishing I could ask someone for moments ago.\r
\r
“It works!” I dance and jump all around my room. When I finally calm down, I place the money in my wallet and finish the rest of my preparations for work.\r
\r
I make sure my dress is ironed and hung, my shoes are polished, and my lunch for tomorrow is prepped. Now, it’s time to call it a day.\r
\r
I reach for my phone to set an alarm, and a notification pops up from my bank.\r
\r
These banks, don’t they sleep? Which charge have they collected again?\r
\r
Wait a minute…is this real?\r
\r
I sit up…\r
\r
It’s a credit alert with several zeros!\r
\r
Another message pops up just as I’m coming to terms with the credit alert I’ve just seen!\r
\r
“Hey Vee, how are you? I’ve been meaning to do this, and tonight I just felt I shouldn’t let it pass today. Just a little something to say thank you for housing me for a month last year when I had house issues. You are special.”\r
\r
Okay!!!!! This is what I’m talking about! Wowwwwww, I’m loving this life mehn!!!!\r
\r
The life of a Sealed One!`,EY=`I’m working on my desktop when suddenly I feel a slight pain in my eyes.\r
I think I need to call it a day. I've been working on this document for hours, and this slight pain is a clear indication that I need to pack up and go home. Moreover, it’s past 6 p.m.\r
\r
*1 Week Later*\r
\r
I’m driving to the gym, humming along to one of the latest Afrobeat gospel songs. I downloaded it last night, and I’ve had it on repeat since I woke up.\r
The guys are going to give me a hard time for being late, but I had some work to finish before I could close for the day.\r
\r
A flash of light suddenly appears and then disappears in front of my eyes. It’s so weird I don’t even know how to explain it.\r
It’s strange because I don’t feel any pain in my eyes, and it’s not like I was working on my computer.\r
\r
Just then, the gym building comes into view. I park the car and head in, ready to face the music for my tardiness. My buddies are all in a corner, probably halfway into their workouts.\r
\r
“Hey mate! What took you so long?” Jason asks while doing chest presses.\r
“He needs to do 20 press-ups for being the last one to arrive…” Matthew adds.\r
\r
“Guys, I’m not even up to 5 minutes late…” I try to defend myself.\r
\r
We keep the banter going, and soon enough, I’ve forgotten all about the strange incident in the car.\r
\r
*2 Months Later*\r
\r
My phone rings.\r
“Hello, Sir.”\r
“Paul, could you please come to my office?” my boss asks.\r
“Okay, Sir, I’ll be there in a minute.”\r
\r
I make my way to his office and let myself in after he calls for me to come in.\r
It’s a little darker than normal, and he’s sitting with his chair facing away from his desk toward the back wall, head raised to the ceiling.\r
\r
“Good afternoon, Sir,” I greet, though I can’t hide the slight amusement in my voice. From where I’m standing, it looks like he has cucumbers on his eyes.\r
\r
My boss turns his chair to face me, removing the cucumbers from his eyes.\r
“You can let the laughter out, Paul. I know you’re wondering what I’m up to…”\r
“Uhmmm well… since you mentioned it, Sir…” I manage to say, barely stifling a chuckle.\r
\r
“My optician is working on medicated contact lenses for me because my vision gets blurry sometimes. In the meantime, he advised me to put sliced cucumbers on my eyes regularly, eat carrots, and generally drink lots of water. My eyes were really hurting right now, so I got someone to get me some cucumber slices.”\r
“Oh, I’m really sorry about that, Sir. I didn’t know you had such experiences.”\r
\r
I suddenly feel a little guilty for laughing. I honestly didn’t know he was doing it out of necessity. I figured he just wanted a little rest and relaxation in the middle of the workday. But this sounds a little serious.\r
\r
“There’s no need for sympathy, Paul,” he says matter-of-factly.\r
“You know the work we do involves looking at the screen for hours. Trust me, very soon you will be able to relate to what I’m saying.”\r
\r
“Ooookay, Sir.”\r
\r
“Back to business. The Creative Director of Art Match is coming in at 2 p.m. Please go through the web design for their app and see if it needs any more improvements.”\r
\r
“Okay, Sir. Will do, Sir.”\r
\r
*Independence Day*\r
\r
It’s Independence Day, and the parents are hosting a barbecue for the whole family. It’s been a tradition for 5 years now, and it’s one of those days I really look forward to.\r
\r
“Hey Dad, do you want more roast potatoes to eat with your steak?” I ask, seeing my dad has already finished all the sides on his plate.\r
“Yes, Paul, that would be great.”\r
\r
One by one, the kids also put in their requests: “Uncle Paul, please, I want some too!” “Me three, Uncle Paul!”\r
\r
They’re so adorable. My nieces and nephews love listening to war stories from my dad, their grandpa. They literally flock around him at every family gathering. The unintended consequence is that whatever Dad eats, they want to have a taste too.\r
\r
I head to the buffet table where everything’s been set up and pile two plates with different side dishes, just in case. I return to our little spot, greeting familiar faces along the way.\r
\r
“Thank you, Son.” “Thank you, Uncle.” “Thanks, Uncle.”\r
“You’re welcome. I think I'm going to sit here and relax for a while.”\r
\r
Little Johnny comes to sit on my lap. Warm arms go around my neck, and a kiss follows on my cheek. How sweet.\r
\r
“Mum, come have a seat. I hope you’ve rested well. Dad says you slept quite late supervising the cleaning of the house for us.”\r
“Yes, my love, I’m fine. I hope you’ve had enough to eat.”\r
“Sure, Mum. My tummy is so full, I feel like I have to hit the gym tonight just to burn some calories.”\r
\r
_(Everyone laughs)_\r
\r
“Grandma, please can you read this book to me?” four-year-old Samantha asks. Moving to where Mum is, she stretches her arms to be carried.\r
“Okay, my love, I will. Paul, please hand me my glasses from that table.”\r
“Yes, Mum.” I hand her the glasses.\r
\r
I look at the scene in front of me with a smile: Mum, with her glasses perched on her nose, little Samantha sitting in her lap while they open a colourful kiddies’ book. Honestly, I wish I could draw or paint so I could capture the moment.\r
\r
Anyway, that’s what cameras are for, right? I reach for my phone to take pictures of my family.\r
\r
Suddenly, I feel a sharp pain in my eyes that causes me to drop my phone. I put pressure on my eyes with the heels of my palms, hoping to relieve some of the pain.\r
\r
“Son, is everything okay?” my mum asks, immediately coming to where I’m seated.\r
“Yes, Mum, I’m fine. It’s just a sharp pain I felt in my eyes, but the pain will soon subside.”\r
“How do you know?”\r
“…because it’s not the first time it’s happened. It comes and goes, but it’s been more frequent in the past month. If you have cucumbers in the house, I can just cut some slices and put them on my eyes. I’ll be okay.”\r
\r
“Hey, what’s happening? Is everything alright?” Dad asks.\r
“It’s Paul. He’s having pains in his eyes.”\r
“Son, you may have to look into visiting an optician and getting a pair of glasses.”\r
“I don’t think it’s that serious. It may just be the kind of work I do. You know I’m a programmer; I have to spend hours looking at the screen. Moreover, I just got into my thirties—I’m too young for that.”\r
\r
My parents chuckle.\r
“Son, I started wearing medicated glasses in my twenties, and your dad started wearing his while in high school. Come to think of it, it may be hereditary. Most of your uncles and aunties on both your dad’s and my side of the family wear glasses. It’s probably glaucoma—that’s what we were mostly diagnosed with.”\r
“Mum, just give me the cucumber slices. I’ll be fine, trust me.”\r
“If you say so, son. But think about what we said. The earlier you get the glasses, the better.”\r
\r
*2 Weeks Later*\r
\r
It’s Saturday, and I’m getting ready to leave the house for my 10 o’clock appointment when my phone rings. Caller ID shows it’s Jason.\r
\r
“Hey bro, how are you doing?”\r
“I’m great, really glad the weekend is here. I had such a busy week.”\r
“Same here, man. What are you up to? I was wondering if we could hang out later this evening. I have some business proposals I want you to analyze.”\r
“No problem. I’m getting ready to see an optician now, but after the appointment I’m free for the day.”\r
“An optician? … Is there an issue?”\r
“Yeah, I've been feeling this sharp pain in my eyes and getting these flashes of light. It’s been more frequent lately, and I'm thinking maybe it’s glaucoma. Both my parents were diagnosed with it when they were younger. Worse still, my line of work doesn’t help matters.”\r
\r
Jason is silent for a while.\r
“Hello… Jason, are you still there?”\r
“Bro, have you forgotten who you are?”\r
“I don’t understand.”\r
“You’re sealed, man—and the sealed have a culture!”\r
“Yeah, man, I know I’m sealed…”\r
“You sure aren’t acting like it, ‘cause we don’t utter the kind of things you just did some minutes ago. Do you remember ‘I have a goodly heritage’? And this heritage doesn’t come with any disease. I think you need a word bath ‘cause you’ve been listening to the wrong voices.”\r
\r
Suddenly, it’s like a lightbulb comes on in my mind.\r
“You’re right, bro. Optician appointment cancelled. Word appointment activated. Talk to you later—I need to do what I should have done since.”\r
“Sure thing. I’ll be expecting your call later.”\r
\r
I go back to my room, pull out my iPad, and open the PCDL app. After going through the library for some minutes, I finally find what I’m looking for and click play—word bath mode activated.\r
\r
It’s been thirty minutes. I am sweating even though the cooling unit is on. I am pacing the floor and uttering words, some in English and some in a strange language.\r
\r
“…my body is the member of Christ (inserts unknown tongues)… that same Spirit quickens my eyes… my body is His temple, He sees through my eyes (inserts unknown tongues).”\r
\r
*3 Months Later*\r
\r
I bump into Jason at the shop close to my house.\r
“Paul, my guy, how are you? Fancy seeing you here. By the way, thanks for the other day—I made some changes to the business proposal, and it was approved.”\r
“Oh, that’s great. Congrats!”\r
“Meanwhile, how are things with your eyes?”\r
“J, I’m so happy you called me that day. I dealt with it right after we spoke, and that was the end of the pain and the flashes. In fact, my vision is clearer than it’s ever been.”\r
“That’s the sealed life, bro!”`,CY=`It’s great to be starting school again. I had missed my friends, especially Eden.\r
\r
“Hey Gianna, I kept a seat for you!” Eden shouts, waving at me.\r
\r
“Thanks, Eden.” I launch myself at her for a bear hug.\r
\r
“I missed you.”\r
\r
“I missed you too, but I miss the holidays already,” she chuckles.\r
\r
“Hey kids, it’s time to get off the bus.”\r
\r
We get off and walk into the school compound, side by side.\r
\r
“Hey G, there’s like a glow on your face. You can’t be that happy to be back in school. Honestly, no one ever looks this excited on the first day of school except the weirdos, and the last time I checked, you weren’t one.”\r
\r
“Wellllllll, let’s just say something special happened to me during the summer. I became a member of a special group of people.”\r
\r
“Oh really, that’s cool. Personally, I’m in enough groups and I have so much going on in my life right now. I can’t add being a part of a new group.”\r
\r
“Trust me, Eden, you would definitely want to join this group when I tell you more about it.”\r
\r
“I’m serious, Gianna. Maybe next year, but not this year. Anyways, let’s hurry to class.”\r
\r
*Weeks later*\r
\r
Our teacher is going around the class handing back our marked GST 601 test scripts. I am a little nervous because I remember the test was quite difficult for me.\r
\r
“Ermm… Eden, what was your score? ‘Cause mine is not good,” I lean over to ask. Her desk has always been the one right in front of mine. It makes it easier for us to talk and pass notes during class, although we don’t do it all the time.\r
\r
“G, mine is not good, and from the murmurings I’m hearing, no one’s score was above average.”\r
\r
“This is not good at all.”\r
\r
“I don’t think you should stress yourself over it though,” Eden tries to comfort me. “This is the 3rd test we’re writing in this course, and the results have not been any different. Remember we’ve always heard stories from seniors about how tough this course is. Right now, we should just aim at maintaining the average and not going below it.”\r
\r
I know Eden is trying to say this is not a big deal, but I don’t understand why this is happening. This is not what I was expecting.\r
\r
“Hey G, are you okay? You’ve been looking disturbed since you got this test result, and now you’re mumbling to yourself.”\r
\r
Oops, I must have been speaking out loud.\r
\r
“It’s just… it’s not supposed to be like this… this was not the picture I had… this was not the impression I was given… I’m supposed to be always on top.”\r
\r
“Gianna, what are you talking about? What picture? What impression?… Who and what are you referring to?”\r
\r
“It’s the special group I told you about.”\r
\r
“Girl, you are making a big deal out of nothing. I don’t know what group you joined or what information they are giving you there. It’s just one course, and you’re acing the others. Moreover, it’s a general thing.”\r
\r
“But I’m different!” I practically shout, feeling exasperated.\r
I know she doesn’t understand, but I know what I was told. I know what I believe.\r
\r
*2 Days later*\r
\r
It’s the weekend and I’m very eager to attend our special group meeting. We meet physically every weekend, and I always enjoy it. I gain so much knowledge about my new identity from every meeting.\r
\r
Today, there are some things on my chest that I need to express—things that have been bothering me since I got that test result earlier in the week.\r
\r
*Hours later*\r
\r
“…and this is the end of our discussion. Before we go, is there anybody that has a question?… Yes, Gianna, I can see your hand. Please share your question with us.”\r
\r
“Thank you. During the summer, not too long after I joined the group, I remember when one of you said that as members of this group, we will always remain tops in everything we do, including our academics. But there’s a course in school I’m having issues with, and even though everyone in school has resigned themselves to the fact that they won’t go above average, I don’t want that for myself. So, what am I not doing right?”\r
\r
“The Sealed Ones have a manual, Gianna. Are you reading the manual? The manual is the best guide to show you who we are, how we operate, and how to live this life. You have to diligently study the manual for your questions to be answered. And mind you, it’s not a one-time thing—you have to study it daily to rightly live this life…”\r
\r
“Ohhhh, I must confess, I was given the manual as soon as I became a member of the group, but I haven’t really been reading it ‘cause I thought attending these weekend meetings and listening to you all talk was enough. But now I’m going back to study it.”\r
\r
*Days later*\r
\r
Ever since I got back from the meeting last week, I’ve been studying the manual every day. There’s so much to see.\r
\r
I’m studying the manual once again, and I see some striking sentences there:\r
\r
“…but ye have an unction from the Holy One, and ye know all things.”\r
\r
“…hath not given us the spirit of fear; but of power, and of love, and of a sound mind.”\r
\r
I brood on these words for minutes and, after a while, I personalize them and repeat the words to myself, stopping only to utter strange tongues, until my whole mind is consumed with the words and new pictures are formed in me.\r
\r
*1 Week later*\r
\r
School is on, and our GST 601 teacher just walked into class. A collective groan resounds from the class.\r
\r
Meanwhile, I start muttering to myself softly those precious words I had seen in the manual.\r
\r
Minutes into the class, Eden nudges me softly. “Hey G, you seem to be following what is being taught…”\r
\r
“Yeah, I actually am.”\r
\r
“Really… how did that happen? Did you have extra lessons with the teacher?”\r
\r
“No, you see…”\r
\r
There’s an interruption from the teacher, and our conversation is cut short before I can explain.\r
\r
“Okay class, we are going to have a quick test.”\r
\r
The end of the Term\r
\r
Awards are being handed to the best students in various courses.\r
\r
“…and the Best Student in GST 601 is Miss Gianna Lee…”\r
\r
“Wowwwwww, G! I know you’re smart, but for years there hasn’t been a best student in GST 601 because it’s so technical and tough to understand. I mean, when the school session started, the whole class, including you, complained about how we have to try so hard just to maintain average. But then, suddenly you started picking up and now you even got a distinction!!! What happened? ‘Cause I know you weren’t having extra classes with the teacher…”\r
\r
“Well, Eden, remember I told you how I joined a special group of people? You see, there are certain things that are not consistent with these people, and one of these things is that they don’t fail at anything nor do they settle for average. When the test scores came out, I knew something was missing, so I had to study the manual of the group to know what to do.”\r
\r
“Ohhh, you definitely need to tell me more about these people. I know I said I wasn’t interested in joining a new group, but now I’ve had a change of heart. What is the name of this group? What do I need to do to join them? Do they have room for more people? I need to know everything.”\r
\r
“Woah woah, relax, I’ll tell you,” I say laughing. “We are called the Sealed Ones. And don’t worry, Sis, it’s so easy to be a member—you don’t need to do anything hectic. Also, there’s room for billions of people to join. Come, let me take you somewhere less noisy and tell you all about us.”`,TY=`“…Thank you, dear people of Smyrna,” I say, closing off yet another very well-attended election rally.\r
\r
\r
Loud applause and cheers follow as I wave goodbye to the people. I am continually overwhelmed with gratitude by the great show of support for my campaign to be the next Governor of Smyrna.\r
\r
\r
“Congratulations, Sir. The votes of the people belong to you,” my trusted Executive Assistant, Linda, comments as I step into our makeshift office.\r
\r
\r
“Great job, Mr. Andrew—or should I say Governor Andrew…” Bob, who’s been my campaign manager from the beginning, grips my hand in a firm shake. Everyone in the room is in high spirits.\r
\r
\r
Aside from the large crowds that have attended all our rallies in the last couple of months, the stats and all the analysis point to the fact that our work here will not be in vain. I am far ahead of all my opponents in the voter polls. In fact, I recently heard I’ve been nicknamed *The Golden Man* by the media.\r
\r
\r
My eyes scan the room, meeting the eyes of every single member of the team. I know how hard they’ve worked to get us to this point. I hope they can feel how much I appreciate their efforts. I am trusting that in a couple of months, we will get to celebrate the fruits of our labor. We just need to shore up our position and keep pressing our advantage for the next eight weeks. It’s time to seal the deal.\r
\r
\r
\r
**One week later**\r
\r
\r
It’s 6 a.m. My wife and I wake up to all our phones ringing incessantly. The noise cuts through the fog of sleep, and almost immediately, we are both wide awake. Our eyes connect, communicating silently, minds racing to our teenage daughter who is at school in a different city.\r
\r
\r
In a split second, we each reach for the nearest phone. The call is not what I expected—thankfully—but the news I’m getting is not any less catastrophic. I hurriedly grab the TV remote, switching it on, and right there on the screen is breaking news that could potentially cost me all my life’s work.\r
\r
\r
“What in the world are you talking about…?” I hear my wife exclaim in the background.\r
\r
\r
The entire room fades away as I stare at the TV screen, watching the whole debacle unfold. It feels like watching an atomic bomb detonate on all our hopes for the future. I can’t watch any longer or I may not be able to prevent the mental breakdown trying to engulf my mind. I head to the study, where I’ve spent many sleepless nights and early mornings toiling away at making our dreams a reality—dreams that now seem virtually impossible.\r
\r
\r
I lock the door behind me, but I can’t stop seeing the images from the news headline. *“THE GOLDEN MAN EMBROILED IN SCANDAL!”* keeps flashing in my mind. Everything we worked for, all the investment, down the drain because of an incident that took place twenty-five years ago.\r
\r
\r
My mind travels back to that fateful day—the day my friend and I were caught in the act of stealing a prized painting.\r
\r
\r
I was born without a silver spoon, raised in a tardy neighborhood. We barely had a proper meal to eat in a day. With two younger siblings and a sick single mother who tried to get cleaning jobs to make money, I got sucked in by the bad crowd. They taught me to pick pockets to make ends meet.\r
\r
\r
I knew it was wrong, but with my dad gone, I felt responsible as the eldest son. I couldn’t bear to see my siblings hungry or my mum cry every night because she was too weak to get a proper job.\r
\r
\r
This is the exact kind of situation I was hoping to prevent as the new Governor of Smyrna. How ironic that the same incident that made me vow to be an agent of change in my community would cost me the opportunity to do so.\r
\r
\r
I remember the day the new kid, Jimmy, showed up on our block. He bragged about how experienced he was—not just at picking pockets, but stealing larger and more expensive items. It wasn’t long before he goaded us into going for bigger steals. He convinced us that we could cart away one of the principal’s prized paintings worth thousands of dollars. We were frightened and reluctant, but the desire to impress Jimmy was compelling.\r
\r
\r
On the day of the stint, I tried so hard to come up with a thousand and one excuses not to join the squad, but none of my attempts were successful. Eventually, I gave up and joined them.\r
\r
\r
It didn’t take much. With Jimmy’s superior skills, we successfully broke into the principal’s house and picked up the painting. On our way out, something else caught Jimmy’s attention. As he went in for a closer look, an alarm was triggered. We scurried out of the house trying to escape, but unfortunately one of my friends sprained his leg while jumping from the window. I ran back to help him while the others fled, and that’s how we got caught by the principal’s housekeeper, who called the police.\r
\r
\r
Interestingly, it was discovered that “Jimmy”—whose name was not even Jimmy—was a notorious thief in the city he previously resided in and was actually on the run from the cops. Thankfully, I was young enough not to get sent to prison. The judge was compassionate, and I got away with community service and mandatory counseling.\r
\r
\r
I thought I had paid dearly for that act through the punishment that was given. In addition, I had a permanent mark on my record that stopped me from getting my top picks for university. Yet here I am, years later, paying the ultimate price for my sins.\r
\r
\r
\r
**Hours later**\r
\r
\r
Loud banging on the door brings me out of the loop my brain has been stuck in. I can’t tell how many hours it’s been, only that the sun is no longer high in the sky, and it was just rising when I set foot in here and locked the door behind me. I can only imagine what Gracie has had to deal with all day. I have been recounting every single detail, rehashing every decision and circumstance that led to this moment. I don’t really know what to say or how to face everyone.\r
\r
\r
“Honey, are you alright? It’s been hours,” Gracie calls at the door. “I’ve tried to give you space, but if you don’t say anything, I’m going to have to call someone to break the door down. I need to know if you are okay.” I can hear the deep concern in her voice.\r
\r
\r
I have to get it together. I need to face Gracie, and I need to speak to the team.\r
\r
\r
“I’m coming, honey,” I respond as I go to unlock the door. The moment the door opens, Gracie wraps her arms around me, and the emotions I’ve been holding back come rushing out.\r
\r
\r
\r
**Two weeks later**\r
\r
\r
It’s getting closer to the elections, and the media is in a frenzy. With all the negative press around the scandal, the other aspirants have suddenly come up in the polls. The people of Smyrna are divided into so many camps. It’s almost hard to imagine that a few weeks ago, I was *The Golden Man*.\r
\r
\r
I’m in a meeting with my campaign team, and it’s been going on for hours—just like the one we had yesterday, the day before, and every day since the scandal erupted. I honestly don’t know what other strategies we can implement.\r
\r
\r
We tried a public apology, to show the people how remorseful I am for my actions all those years ago. We tried a press conference where I answered all the media questions to help people understand the difficulty of my circumstances back then. I’ve even resorted to carrying out humanitarian activities, intentionally reported to the media. Nothing has made a difference. I’m not even among the top three aspirants. Every time an update comes in, my heart races hoping for some good news, but it’s been back-to-back bad news.\r
\r
\r
I made up my mind this morning that if we couldn’t come up with a viable solution today, then I would have to consider calling it quits. We’ve been at it for hours, and all evidence points to the same conclusion: there is absolutely no way my campaign will be able to recover from the scandal. I guess it’s time to make one of the toughest announcements I’ve ever had to make.\r
\r
\r
“Ladies and gentlemen, can I have everyone’s attention…” I call out, drawing the room silent. I take a bracing breath, gathering my strength as the atmosphere becomes completely solemn.\r
\r
\r
“First off, I want to say, you are the most amazing team. You have put your all into this campaign, and I am eternally grateful for every single one of you.\r
\r
\r
“Once again, I am so sorry that you had to go through the fiasco of these past two weeks. It was my actions that brought scandal to this campaign, and for that I am deeply sorry. I can’t tell you in words how much I wish I could go back in time and reverse what happened. Regardless, no amount of wishing can make that happen, and that leads me to my final announcement.\r
\r
\r
“You all stood by me in the last two weeks. We tried every strategy in the book, and I am so grateful. But at some point, I have to evaluate if all the sacrifice is worth it. I strongly believe that the best course of action now would be to drop out of the race and cut our losses. I will give my final decision tomorrow. Thank you all.”\r
\r
\r
Without lingering to see their responses, I pick up my briefcase and head out to the parking lot. I can’t bear to see the disappointment on their faces.\r
\r
\r
\r
**Later that day**\r
\r
\r
“Honey, you need to eat your food. You’ve barely eaten well in weeks.” Gracie looks at me with the concern I’ve seen on her face more times than I can count in the past two weeks.\r
\r
\r
She hasn’t said much, but I know this whole thing must be taking a toll on her. We’ve worked towards this vision meticulously since we got engaged all those years ago. I’ve been postponing the conversation about my decision to drop out of the race, but now I have to tell her. I reach out to hold her two hands in mine.\r
\r
\r
“Babe, I need to tell you something… Thank you so much for standing by me all these years. I may not say it enough, but you have been the most amazing wife—helping me and supporting this vision all these years. I know how much you’ve put in, and it means so much to me. Even these past two weeks, you’ve been such an encouragement to me, so thank you from the bottom of my heart.”\r
\r
\r
At this point, I can barely restrain my emotions, but I have to soldier on. “I think that, with everything that’s happened, the right thing for me to do is to step down.”\r
\r
\r
The shock on her face is undeniable.\r
\r
\r
“Okay, honey, hear me out…” I try to reassure her.\r
\r
\r
I can see she’s got that determined glint in her eyes—the one that means she is not going to go down without a fight. So I nod for her to voice her thoughts.\r
\r
\r
“I felt you needed your space,” she says, “…and I’ve let you be for a while. But I think it’s high time I speak frankly, because there’s something you’ve not taken into consideration.”\r
\r
\r
“Okay… what’s that?” I reply, feeling a little baffled that she thinks I haven’t explored every possible option. I would never give up on our dream without considering every avenue out of this mess.\r
\r
\r
“You are among the Sealed Ones, Andrew.”\r
\r
\r
“Yeah… I know I’m a Sealed One, but what’s that got to do with this?” I’m honestly perplexed.\r
\r
\r
“You committed this crime before you became a Sealed One. And our manual says that when you become a Sealed One, you are a new creature—old things are passed away, and all things have become new. He loved us and washed us from our sins in His own blood.”\r
\r
\r
“Yeah, I know God has forgiven me, but this is about the people.”\r
\r
\r
“You need to talk to the Master and take advantage of His grace,” she continues. “If you read the Manual, you will see several people in our lineage who did terrible things—some worse than what you did, if we want to compare. Like Jacob, David, and even Paul. By God’s grace, they ended up as great men, fulfilling their God-given purpose. So there’s absolutely no situation beyond God’s grace and restoration. Your case will not be different.”\r
\r
\r
Suddenly, a light bulb turns on in my mind, and I realize she’s right. I have been going about this all wrong. I have been allowing the old guilt and shame from the past to condemn me, when in reality, my status as a Sealed One rids me of every mistake of the past.\r
\r
\r
“Thank you so much, babe. I never saw it in this light. I will go right away to study the Manual and then have a talk with the Master.”\r
\r
\r
Hours later, I am on the floor of the study in a kneeling position, head bowed down. I speak in unknown tongues and then utter some words in English as I am inspired: “All things work together for my good… Better is the end of a thing than the beginning thereof…” The more I speak, the greater my conviction that things are turning around and my victory is sure.\r
\r
\r
**The next day**\r
\r
\r
The team is seated in the boardroom, and they all rise to greet me as soon as I walk in. The atmosphere is tense, following yesterday’s announcement.\r
\r
\r
“Good morning, everyone,” I greet with my brightest smile.\r
\r
\r
Some of the faces in the room are obviously surprised by my jovial mood. I can imagine they must be shocked by the complete 180. After my prayer session yesterday, I was flooded with the kind of peace that only the Master gives.\r
\r
\r
Not wanting to waste any more time, I begin the meeting. “Ladies and gentlemen, today is a new day for us. I’m not stepping down, and there’s going to be a turnaround of events.”\r
\r
\r
One of the maintenance staff knocks on the door and enters without waiting for my response.\r
\r
\r
“Sorry to interrupt, Sir, but a call was made that we should watch the TV right now. Apparently, there’s a large group of people rallying on the streets. They are stating that you were underaged when you committed the crime. Moreover, you served the punishment. They said you’ve helped several young people from the city since then. And guess who is leading the group—the principal himself!”\r
\r
\r
Another staff member walks in. “Sir, there’s a young man on another station being interviewed. He says he was a street kid that was into crime, but through your influence he became clean, and now he’s a doctor…”\r
\r
\r
**One month later**\r
\r
\r
“…With great pleasure, would you rise as we welcome the Executive Governor of Smyrna—our *Golden Man*—His Excellency Governor Andrew and his lovely wife to the podium…”\r
\r
`,PY=`Hannah was perturbed in her spirit. She had been at work when she heard the news about the new
policy that her government had signed. Being a lawyer, she had immediately delved into what the new
policy was about. She spent the remaining hours of her work time carrying out her research. She knew
not to be focused on the surface news that popped up on the search engine as they never revealed their
real intentions there. She had her reliable sources and reached out to some of them.

After several hours of making calls and reading hidden write-ups sent to her by her sources, what she
found was disturbing! She discovered that the policy was designed to keep her country in bondage and
abject poverty. She knew that there was foul play involved; it was either the government had been
threatened and forced to sign the policy or the government had sold the country for power and money.
Either way, she had to do something about it.

When she got home from work, she turned on the television and the news of the policy popped up.
What surprised her was that people were rejoicing about it in the background while the government
were spitting out lies. The people were being deceived and no one was batting an eye. She dropped to
her knees in prayer with tears in her eyes. She prayed that the Lord will deliver her nation from the
hands of evil men who sought to bring it down for their own selfishness and greed.

The next day, she went to church for the weekly evangelism and cell meeting which held every Saturday.
Being a cell leader, she conducted the cell meeting where she also brought up the policy. She reminded
her members of what Pastor had said during the 'Your Loveworld Sessions' about leaders that are
signing oppressive bills and policies into law and that Christians in those nations should pray for their
country. So, Hannah led her members in fervent prayer for the country. After the meeting, they also
strategized to hold daily prayer meetings specially for the nation.

However, Hannah wanted to do more. So, she found an activist group leading the call for non-
oppressive policies. She got in contact with the leader, Mark, and showed him her research. He was
stunned! "I have to confirm this information. Things could get messy if this gets out and it's found to be
false" Mark told her. She agreed "Go ahead. I'm sure you have reliable sources that can confirm it. I'll be
waiting for your response." He got on it immediately and the feedback he got was in line with what
Hannah showed him. Then, he quickly gathered his members and they came up with a petition to
abolish the policy. He sent the petition to Hannah and she passed it across to her contacts.

Few weeks later, the petition started gaining momentum as many got to find out the truth such that
about 500, 000 people had signed the petition. This got the attention of the government and they
looked into the matter. In retaliation, the government banned the activist group from continuous
circulation of the petition. However, Mark and his team persisted. Hannah acted as their legal
representative as well as a force. She spent time praying while also pushing the circulation of the
petition. When the leaders in government saw that they were not going to comply, they fined them for
disinformation.

At this point, Hannah was almost discouraged. The fine was about half a million dollars; money she did
not have and even if she did, she had some debts that needed to be settled. The year was coming to an
end soon and she did not want to carry problems into the new year. Despite her thoughts, she still
encouraged Mark and his team to keep going.

Later that day, she received a post about the New Year's Eve Service holding in church by 8pm. She was
excited about it inspite of all that was going on. She was expectant and knew that she would receive the
word that will propel her forward in the new year. So she took her mind of what was happening around
her and focused on the service when the time came. She participated in every part of the service and
then it got to the climax when Pastor announced the year as the 'Year of Redemption' and explained the
message of the year. Oh boy! She was amazed! It was exacted what she needed. Pastor had said
something that she did not think of doing until then: Suing the government!

The next day, she called Mark and his team together and told them her plans. At first, they were
reluctant to execute it but after she explained to them what Pastor had shared at the New Year's Eve
Service, they were excited. They sprung into action and not long after, Hannah made available all the
required documents and evidence with the help of her law firm. They served the government a pre-
action notice and soon after, they appeared in court.

There were series of court sessions in which Hannah and team came forth with irrefutable evidence and
which the legal representatives of the government tried but failed to disprove. After the conclusion of
the final written addresses put forward by both parties, the court gave its judgment.

The policy was held to be oppressive and thus was not binding on the people! Hannah and her team
were elated. They had done it! They had saved their nation from a policy that would have brought it
down. She did not have to pay the fine after all because she had told the truth! The Spirit of God also
sent people to help her so that in a few weeks, all her debts were paid off. She became debt-free and
her nation became bondage-free!`,kY=`Jeremy was fed up. His parents were at it again with their constant nagging. "Why did we not see you at the leaders' training yesterday?" "Why is it that we always have to plead with you to take up your responsibility as a Pastor's Kid?". One evening, he lashed out at them in anger "I did not ask to be born into this family! I did not ask to be a Preacher's Kid! Why won't you let me be?" Their
response had been to ground him until they could see a change, but it never lasted.
This had been the continuous story in their home. Jason felt that he was being pushed too hard, just because he was a child of a Pastor. Everyone had great expectations for him and he felt burdened trying to live up to everyone's expectations. He went to church every service day, he had been a cell leader for 2 years and was a member of the choir, so he was involved in ministry. What more did they want? As a result of his thinking, he carried out the work of the ministry sluggishly and without interest, so he did not yield much fruit.
On a particular day, while scrolling through social media and viewing the posts of his friends who, in his opinion, were having the time of their lives, he came across a post advertising a program titled 'Preacher's Kid Summit'. The post explained the theme of the program, talking about discovering your purpose as a preacher's kid and carrying out activities for kingdom impact and expansion. It also made a remarkable statement that he would never forget. It said "As preacher's kids, we have a calling and a place in ministry." His curiosity was triggered and he was intrigued. He planned towards the program and made up his mind to discover his purpose from this program.
On the day of the program, he was one of the first people to connect to it and he participated in every part of the program, from the prayers to the worship session and then the question and answer segment came up. All the questions he had in his heart were asked and he received the answers to all of them. One of the most striking parts of it was when someone asked about his calling as a preacher's kid and if he was also called into ministry just because his parents were in ministry.
This question had been on his mind for years; he had always assumed he and his parents had different paths to walk, he had his own life to live and it wasn't in ministry like his parents. However, listening to the program, it was revealed to him that because his parents were called, he was also called into ministry as well. One of the people on set, answering the question, further stated, "As a preacher's kid, you are first a Christian, so you should already be living your life according to the word of God." He made reference to the scriptures where God called not only Abraham but his lineage as well and the same happened with Moses too. "Thus, when God calls your parents, you're also called too; it's a whole package.God is into lineages and continuity. He would rather use someone who is already built in the word, by virtue of the environment he was brought up in, to continue to further his plan."
When Jeremy heard that, "Wow!!" He thought "I did not think about it like that, this has opened my eyes to a lot of things."
Along the line, another asked a question of how he could measure up to the perceived image of his parents, in the area of dressing, talking and generally, manner of living. "My God, it's like this program was set up just for me. How do these guys know my thoughts?" Jeremy wondered in awe.
The answer came, "You should measure up to God's perceived image of your parents and not man's image. Before you are a Pastor's Kid, you are a Christian" Jeremy sat up straight "Hmmm... there's that line again. I am first a Christian before I am a Pastor's Kid." He thought.
He returned his focus to the program "There is a particular way that a Christian should act and
function. Now, being a Preacher's Kid is a bonus, you have the image of your parents so there is a particular way you should act and carry yourself because of your heritage and lineage but first and foremost, once you function in line with God's word as a Christian, there's no need to be too mindful or conscious about other people's opinion of you because what matters most is God's view and perception of you."
He continued, "People see your parents in a certain way and it is not wrong that they should see you in that same way as well because you grew up under them, so it is natural for them to expect greatness from you. This should not seem like a chore or burden to you."
This statement opened his eyes, "I need to apologize to Mum and Dad for my behavior. I'm going to change from now on" He thought aloud.
The preacher continued, "Our parents bear the image of God and as Pastors, they are like shepherds who care and show love to their flocks and you can't be different from that because you're created in God's image too. Therefore, you should carry yourself the way God wants you to and your dressing as well, should display who you are because it is the extension of your personality. These things should come naturally from your spirit." He concluded.
At the end of the program, he was so enlightened, inspired and full of the Spirit. He spent an hour speaking in tongues and his parents came out to check if that was really their son.
Everything suddenly clicked and came into place for Jeremy. All he had needed was knowledge and he realized immediately, who he was and what he had to do.
Everyone noticed the change in him. He was excited about carrying out activities in church and most of the programs held in church were handled by him. He held various outreaches without being pushed to do so and he always came back with tremendous results. Jeremy no longer carried himself like someone whose shoulders bore the burdens of the whole world. He was a new man and he knew exactly what to do as a Christian and as a Pastor's Kid. He no longer ran away from responsibilities, instead he embraced it.
A year later, he became a Pastor with 5 new growing churches under him.`,IY=`Matthew had invested so much in his business; time, energy and about two million dollars but instead of
making gains and profits, he experienced losses here and there. Frustrated that nothing seemed to be
working out, he looked for a solution elsewhere. He turned to his friends for help but they all gave one
excuse or the other. His debts were growing and he had no other source of funds. Banks and other
creditors were after him and he had to shut down his business which he had mortgaged.
One fateful day, while Matthew was in a park close to his house, contemplating running off to a
secluded place to hide from his creditors, a young man walked up to him and engaged him in a
conversation.

"Good morning Sir", he greeted Matthew with a kind smile.
"Morning" Matthew grunted. He was not in the mood for whatever the young lad had to say and he
didn't see what was good about the morning or any day in fact.
"My name is Daniel and I just need a few minutes of your time. I would like to share something
important with you."
Matthew was skeptical. 'He must be looking for someone to invest in his business. Well, jokes on him
because I'm broke', he thought.
Daniel continued, taking his silence as a go ahead "I have good news for you".

Contrary to what he thought of Daniel, Matthew perked up at the word 'good news'. He needed some
good news at this point in his life to take away part of the bleak future he was seeing for himself.
Seeing that he had caught Matthew's attention, Daniel began talking about the love of God, who Jesus is,
the significance of Jesus's death, burial and resurrection and who he is in Christ. When he finished, he
prayed for Matthew, gave him a book and invited him to church.
After Daniel left, Matthew sat back in his seat going over what he had heard. He was dumbfounded. He
had never heard such a message in his entire life, which was surprising considering that he thought of
himself as a Christian although he wasn't much of a church goer.

He looked at the book he received and saw it was a daily devotional called 'Rhapsody of Realities'. Right
there, he started going through it one page after another. He couldn't believe what he was reading. It
was as if his eyes had opened for the first time. He needed to know if what he had heard and read was
true so he made up his mind to accept the invitation.

On Sunday, Matthew was in church and he participated in every part of the service leading up to the
message. Then, it was time for the message and he heard words that transformed his life forever. The
message was on 'Redemption' and the Pastor taught that 'The Lord Jesus redeemed man from sin at the
cross, and His blood became the sacrifice for the sins of the whole world. Then He was buried, and on
the third day, God raised Him from the dead with a new life, the resurrection life. This same resurrection
life is what everyone who believes in Him has received.' It was similar to what Daniel had told him.
However there was more: Redemption had four definitions, all of which blew his mind, especially the
ones that talked about coming out of debts. He found out that the Lord wanted him to be bold and
come out of the debts and bondage that he found himself in. He made up his mind to act on all he had
heard and turn his life around. After the message, a call to salvation was made and he was the first to
step out to give his life to Christ.

Daniel met with him after the service and he expressed his profound gratitude to him for reaching out. 'I
was actually led by the Spirit of God to talk to you that day', Daniel told him. 'The Lord loves me for real'
Matthew thought in his heart.

Few months later, Matthew began experiencing sudden changes in his state and estate. This was as a
result of his continuous study, meditation and confessions of God's word. He never forgot the message
he heard that Sunday. He turned in his vouchers and coupons for actual value and he began redeeming
all he had lost and even much more. People started contacting him for contracts worth millions and
billions of dollars. He also became committed in church and moved up to being one of the top partners
in the ministry. It was indeed his 'Year of Redemption'.`,_Y=`As a child, Mitchell had always known that she was special and different from other kids. Growing up, she always had things handed to her so easily even when she didn't ask for it. She was what you would call, a favoured child. This was because of her upbringing as a child. She was always taught to stay in the word and take advantage of the grace that the word brings. She applied this life hack throughout her childhood up to her adulthood so it was no surprise that she always got promoted at work at every turn even before some of the 'professionals'. Not only was she favoured, she also excelled in whatever she did, so no one ever came out to complain about favouritism, however she was envied. Grace had been bestowed on her, so her life was always from one level of glory to another.
During a conversation with one of her friends, the question of how she advances so quickly came up and she replied ' It's Grace. I am full of grace heaped upon grace and I don't receive the grace of God in vain, rather, I recognize, celebrate and use grace.'
That friend asked baffled, "How do you recognize and use grace?"
"You recognize grace by putting yourself in the atmosphere of the word and acknowledging that the word brings grace. This is because the ministry of the word causes grace to increase in your life. Then you use grace by acting on the word" She explained with a kind smile.
"Please enlighten me" Her friend said curiously.
Mitchell beamed "God gives you grace to accomplish anything and then when you accomplish it, He gives you more grace to do more. Grace singles a person out and there is always something about a man or woman with grace that attracts people to him or her."
Her friend laughed "That's just like you. Everyone wants to be associated with you."
Mitchell grinned "That is what grace can do in your life. It gives you the advantage and you always need to be conscious of it. Grace also beautifies and no one should ever attempt to work against a person with grace because it would mean that such person is trying to fight against the source of grace, which is God. Simply put, grace means to walk in divine influence; it makes you have the mentality of 'I will get anything, if I want it'. It also delivers favor and joy to a person."
"I'm astonished, how do I receive this grace in my life?"
"The more you know the Lord, the more grace you stand to enjoy in your life. The more you fill your heart with God’s Word and have the Holy Spirit work in your life, the greater the grace of God that’ll be manifested in your life. So, you have to know the Lord for yourself and the first step in doing that, is to give your life to Jesus.”
Right where she was, the friend knelt down and said "I'm ready. I want to live for the Lord and use this grace to accomplish great things for Him."
Mitchell led her to Christ and got her filled with the Holy Sprit. Since that day, Avery, her friend became different and talked differently because she knew the life she was living and the grace that was upon her life.`,RY=`
December was usually an extremely busy month for most event planners, and this December was no exception for Debbie’s company.

It was Tuesday afternoon and she’d already had four appointments. She was on her fifth appointment, which had been going for almost an hour. She could hardly wait for the day to end.

“…Please, Sir, Ma’am, I’m going to hand you a document I made based on today’s meeting. I would like you to take your time, go through the list, and come to an agreement on what you want for your big day. Then, at our next appointment, we can move forward with the next steps…”

It wasn’t that she was complaining — the more jobs they got, the more money and referrals came in. That being said, it was tiring having to deal with couples like the one she was currently with: the type who never seemed to agree on anything, even a detail as small as what kind of water would be served on their wedding day!

The moment she ushered them out of her office she quickly began packing her things, not wanting to get home too late. That’s when she saw the missed calls — five from her son’s school and an additional seven from her husband: thirteen missed calls in total!!!

She always put her phone on silent when in a meeting, but she had checked it before the last appointment and there hadn’t been any calls. The missed calls from her son’s school and her husband could only mean one thing…there was a problem, and it had to do with her son.

She called her husband immediately. “Honey, is Sean okay? I just saw your calls — my phone was on silent. What happened to Sean? Where is he?” she blurted, questions tumbling out one after the other, unable to control the anxious feelings swirling within her.

“Babe, please calm down. Come to the hospital; Sean is not too good. I will give you the details when you get here,” he said, sounding distressed.

“Is my son alive?” she asked, needing to know right away.

“Yes, babe, he is. Please calm down. Order an Uber if you don’t think you can drive…I can only handle one emergency in a day,” her husband replied.

“I can drive and I’m coming right away.” She absolutely couldn’t fathom waiting for an Uber, given the circumstances.

As she drove to the hospital — a journey that seemed to take forever although it was really only ten minutes — her mind kept flashing graphic images of all the possible scenarios that could have led Sean to be hospitalized. At the same time she forced herself to speak in the unknown tongues (the language often used by the Sealed). Even if she didn’t know what was going on, her spirit was communicating with the Spirit who knows all things.

On arriving at the children’s section of the hospital, she saw her husband sitting on one of the corridor benches with his head bent. She called out to him and he hurried to her, enveloping her in a warm embrace.

There could have been a thousand other people in that waiting room, but all she could think was: Where is my son and what happened to him?

“Honey, where’s my baby? What happened to him?” she asked, voicing the thoughts swirling through her mind as she backed out of his embrace.

“He’s in the emergency ward, babe. The doctors are attending to him. His teacher called me from school. Apparently, during recess he said he wanted to drink some water and, while going to get his bottle, he suddenly collapsed. They called the ambulance to bring him here and started trying to reach you and me.”

“So what are the doctors saying?” she asked, still feeling like she didn’t have the answers she needed.

Her husband looked utterly helpless, unsure of what to say, since he also hadn’t gotten much from the doctors when he arrived.

“All I know is that he’s been connected to an oxygen tank,” he said, trying to reassure her as best he could. “I’m hoping one of them will come out soon to give us more information.” He took her hands in his and tried to soothe her.

Just then, one of the doctors came out.

“Doctor, please — what’s wrong with our boy? Is he okay?” they both spoke at the same time.

“Could you kindly come to my office so we can have a private conversation?” the doctor replied.

The moment they took their seats, he went straight to business. “As I told you earlier, Mr. Lewis, your son has been connected to an oxygen tank. He was in a very critical state when he arrived, but we’ve been able to stabilize him. We've taken his blood sample for some tests and we’re waiting for the results, but from the preliminary examinations carried out so far, I think your son has a blood disorder…”

“MY SON DOES NOT HAVE A BLOOD DISORDER,” Debbie replied reflexively.

“Please calm down, ma’am,” the doctor admonished. “I can understand you are a bit hysterical at this time…”

“I’m not hysterical — I’m only telling you my son does not have a blood disorder,” she replied.

“Babe, please don’t interrupt the doctor. Sorry, Doctor, you can continue,” her husband said.

The scrape of the doctor’s chair as he stood up jolted Debbie back to the present; she hadn’t realized her mind had wandered.

“Please, can we see our son?” Debbie’s husband asked.

“He’s been taken to a private room so you can be with him, even though he’s sleeping at the moment. The nurse at reception will direct you.”

Debbie hurried into the room as soon as the nurse led them there and paused at the edge of the bed. Her three-year-old son, usually vibrant and bouncing with energy, was connected to an oxygen tank, absolutely still and much too pale for her liking.

She didn’t realize tears were rolling down her cheeks until her husband stood beside her, wiping them away.

“…that the life also of Jesus might be made manifest in our mortal flesh…”

Debbie turned sharply to her husband. “What did you say?”

“I didn’t say anything. What did you hear?”

“…Didn’t you say something about life just now?”

“Babe, I haven't said anything. Maybe it’s coming from the corridor.”

“…that the life also of Jesus might be made manifest in our mortal flesh…” she heard the words again, soft but clear. Suddenly, energy surged through her. She knew where those words were coming from, and light shone in her mind on what she should do.

Immediately she touched Sean’s hands and legs and began speaking in the unknown tongues.

“Babe, what are you doing?” her husband asked.

“I’m doing something about Sean’s blood,” she replied.

“I don’t have an issue with you praying, but you are talking gibberish. You’re literally not making sense with your words.”

“Honey, don’t worry. The one I’m talking to understands. Could you please just give me a moment with Sean…”

“Okay…let me go get some coffee, but please take it easy and know we’re in this together,” he said before stepping out of the room.

She could see the weight on his shoulders and the concern in his eyes — a few moments ago she had been feeling the same way. But now she knew exactly what to do.

As soon as he shut the door, Debbie proceeded to speak in the unknown tongues as she carefully placed her hands on one of Sean’s legs and his hand.

As she spoke more in the unknown tongues, words from the Sealed Manual that she had spent all these years reading and meditating on began leaping out of her mouth and she personalized them.

“…that Spirit that raised Christ from the dead lives in you, Sean, and therefore quickens your body.”

“…Sean, the Spirit of God has made you, and the breath of the Almighty has given you life…”

Debbie continued like this until the nurses came and asked her to vacate the room so they could attend to Sean.

The next day

Debbie and her husband were back in the doctor’s office. The atmosphere was tense, but Debbie remained quietly assured.

“Good morning, Mr. and Mrs. Donwell… The test results are out and, like I said yesterday, it’s been confirmed that your son has a blood disorder and it’s a chronic one. The good news is that it can be managed. Many people live with this condition. With the proper medication, most are able to live normal lives well into old age.” He paused as if expecting some reaction from Debbie based on her response the day before, but she remained calm, only moving to take her husband’s hand in hers.

So the doctor continued, “We’ve already taken him off the oxygen tank since his breathing has been stabilized. However, we still need to observe him and then determine his treatment plan… Do you have any questions before I continue?”

“Yes please, Doctor. Could you conduct another test on my son? Like I said yesterday, his blood is okay,” Debbie stated, the stoic expression on her face brooking no argument.

“Babe… I thought we’d gone through this yesterday…” her husband tried to reason with her.

“Please, honey, I know, but can he indulge me? Doctor, before you administer any treatment on my son, I am asking you to please take another blood sample and do the test again.”

“Mrs. Donwell, our lab is the best in the state and I can assure you we have a 100% test accuracy rate, but if you insist we can indulge you, although the earlier we start administering treatment the better his chances of resuming his normal life.”

“Please, indulge me,” she replied.

She could tell her husband was bewildered by her insistence, but she had made up her mind to fight for her son and he would eventually understand. The doctor dismissed them from his office and asked them to wait while tests were being run on their son.

The moment they stepped out of the office, she could sense her husband’s frustration.

“Babe, I'm not pleased with what you did in the doctor’s office. I know you became a member of an association or whatever you call it some time back. I don’t have a problem with it, but right now our son’s life is at stake. You can’t be taking risks based on what some brainwashed philosopher told you or wrote in a manual. Let’s be logical in our approach and face facts; the earlier we let the doctor who has medical experience of over thirty years do his work on our son, the better for us,” he stated matter-of-factly.

“Honey, I’m focusing on Truth right now, not facts,” she tried to explain. “Sean’s blood is perfectly fine, and when the doctors check him again they are going to see it. One more test isn’t going to hurt anyone; in fact, we could ask them to expedite it.”

Her husband was still looking at her like maybe she had lost her mind. But making him understand was not her priority at the moment. She left him in the hallway and headed to Sean’s room to do what she had been doing every moment she had the chance.

With her hands placed on his head and chest, she spoke in unknown tongues and quoted words from the manual of the Sealed Ones. “Sean, your body is the temple of God; Christ lives in you, so the life you have now, you live by the faith of the Son of God.”

The next day

Debbie sat in a chair next to her son’s hospital bed and made him repeat some of the things she had been saying from the manual. He had finally woken up in the early hours of the morning when she arrived to continue her sessions with him. She couldn’t wait to hear the result of the second test.

Soon after, her husband and the doctor came into the room with puzzled looks on their faces.

“Is everything okay?” Debbie asked, rising from her seat and taking Sean’s hand in hers.

“There’s been a kind of inconsistency with the second test result and I’m wondering where it came from,” the doctor replied.

“What did you see?” Debbie calmly asked.

“It shows his blood is clean and healthy, without any trace of a disorder.”

“Oh! I told you my son was okay,” she exclaimed, her joy lighting up the entire room as she peppered kisses on her son’s forehead. “Sean, my darling, you are perfect — every single bit of you, my beautiful boy! I just knew it!”

“I’m very sorry for the inconvenience, but do you mind if we do another test on him because this is not normal? We won’t expedite it this time; we want to be sure a thorough job is done.”

Debbie looked at her husband, who had been silent, and replied to the doctor, “Yes, if you wish, but the result will still show what you just saw.”

The next day

The doctor entered the room to discuss matters with Debbie and her husband, who were playing with a very energetic Sean.

“I really don’t know how to explain it, and I can't even tell at what point it changed… I know when your son was brought into the hospital he showed all the symptoms of this condition and the first test result confirmed it, but right now the second and third results are showing an entirely different outcome, and even your son is looking so healthy and acting like someone who was never sick… his discharge papers have been written.”

Debbie jumped and hugged her husband, awash with feelings of joy.

“Thank you, Doctor,” her husband replied.

As soon as the doctor left, Lewis quickly grabbed Debbie’s hands and said, “I know you had something to do with this. Does this have to do with all that sealed jargon you are always going on about?”

She laughed. “…Yes, dear, it has everything to do with the Sealed, and no, it’s not jargon.”

“Whatever it is, I'm now officially one of your converts. Tell me everything about it.”`,MY=`To be loved by Love Himself
To have the entirety of nature sing and dance to your tune
To be an extension of eternity
Created creator
His breath in your lungs
His word in your mouth
His works by your hands
To be gifted only with goodness
Grace and mercy arrive at your home each morning to escort you on your way
Blessings tuck you in at night`,LY=`Water your garden
with the stream of life flowing within you
And sweet fruits will dangle from your branches
Like precious stones
from the robe of a king`,NY=`Salt of the earth
 Don’t play with dirt
Keep your flavour pure
Child of the Most High
Hold your head high
Be careful where you place your feet
Watch what your mouth eats
Don’t you know you were paid for?
Residence of the Holy Ghost
Guard your entrance
Don’t you know you’re not your own?`,DY=`You opened your mouth and shot daggers at me, yesterday
Yesterday, my defense was down
Yesterday, I wrapped myself in a blanket of uneasiness and went to sleep
Today, I arose with determination and my defense was recalibrated
Today, you are no longer my opponent
My future and I have more noble wars to fight
Today I am strength`,OY=`You are the Lord of my life
The love of my life
The Lord of my life
You pulled me out of troubled waters
Swaddled me with Your peace
Quietly reminded me on Your love
Carried me when the road was long
You renewed my breath before it had a chance to give out
You brought me back to myself
Now You hold my heart in the palm of your hands
And stir it to produce sweet things
I open my mouth and trees spring up
Stretching far beyond the expanse of my mind
Each branch producing fruits of every kind
Nations bring baskets from near and far to eat and feed their people
You have made me a spring of life`,jY=`Bad dream shakes you awake
Jesus on the tip of your tongue
Fuzzy mental calculations
Attempt to plant bad dream in your reality
Close your eyes
Dream again
Or cancel dreams for the night
Tell sleep it’s all you need
You’re in control`,FY=`I put my hand in the fire and it didn’t burn
The waters covered me
Taking out every inch of air
But I stood in the midst of the waters, breathing
Now watch me
Watch me squash every lie that made its way into my consciousness
Watch me dance on the devils neck`,BY=`What kind of person would I be if I listened to you?
What kind of person would I be if I didn’t?
You’re looking straight at me
But there’s something you’re not seeing
Or am I the one in oblivion to the meaning of the words you pour on me?
Is there a meaning to the words you pour on me?
Or are they spurts of emotions that have no where else to go?
Direction or distraction
What are you turning me towards?
What are you turning me away from?`,HY=`You are a strange thing
A strange thing to this earth and all that it knows
But nothing strange about you from where I’m standing
Just beauty in its purest form
A personification of light and glory
Oh how you shine`,VY=`When death answered my call and came to take me
You stood by my door and said no
Not this one
You kept me when I didn’t know what was keeping me
When I didn’t want to be kept
What is my life that I cannot give to you
What could You possibly ask me to do that I wouldn’t make possible for You
I will be the name you have called me
Praise
The song on my lips the song on their lips the fragrance in your presence
I will be the thing you have made me
Light
The bright and shiny
The morning that comes after the night
The dancing that comes after the mourning
I have fought every contrary voice and won`,$Y=`Is this me?
Sleeping with peace
Waking with joy
What wind came and swept me out of who I was last year
That it no longer feels like a year ago but five
I sunk myself so deep in You
Your love grew me new eyes
That I can’t quite look back and see anything but beauty
With gratitude filling my heart and pouring out of my lips daily
No regrets?
I must be brand new
Fresh out of the fire
All impurities burnt out
Between the seven course Word meals
and Holy Ghost administrative activities
Operating without my consciousness
When did the transformation happen
Do you see what I see?
Or are you still looking at the old me?`,zY=`Who do you think you are?
Why do you walk so high?
Come back down to earth
Stop playing with the clouds
I closed my eyes and I found myself in the clouds again
This time so high up you couldn’t reach me
Not with your hands, not with your voice
Where was I going?
However far my eyes could take me
The One who called me gave me no dimensions for He Himself is without dimensions`,WY=`Your love is more real than anything
If I found out the sky was no longer blue
Or that the sea was now land
I wouldn’t ask
What about Your love? Is it still here?
Is it still real?
You are my reality`,UY=`Your eyes are too wide
You’ve seen too much it’s made you blind
You’ve heard too much
Your ears are filled to deafness
Senses marred beyond usefulness
No back up either
Internal light out of service
What trap awaits you today?
Close your eyes and see
The truth is clearer when you close your eyes`,GY=`Cameras! Lights! Action!
I began
Playing my role as it was written for me
Saying my lines
Gradually immersed into this world the Director had created
Feeding off my fellow actors
Taking their cues
Suddenly the Director yells cut
I startle and stop
Then He walks towards me and whispers, “Do you remember the script?”
“Ofcourse Sir I do, was I not following it?” I replied
“Remember I wrote it and to play your role exactly as I imagined and created it, you have to keep your eyes on Me” He explained
Perceiving my concern at the feasibility of this instruction, He continued, “If you do this, you’ll no longer be an actor playing a role, you’ll be fulfilling the purpose of the Director”
“Is this what you want?”
Wholeheartedly I answered, “Yes Sir”
The Director walked back to His position and once again yelled, “Action!”
This time my eyes never left Him
Suddenly the words I spoke came alive from my lips and I could feel myself disappear
I was acting but it wasn’t me, it was Him
I was speaking but I wasn’t
I was no longer there
It was all Him
As I looked intently at His face, His eyes were filled with tears but He was beaming with a smile
I wondered to myself what the expression on His face meant then He replied me there in my thoughts, “This is what I wanted from the beginning of time, before I ever wrote the script”
“It was never just about the script, it was and is about you and I as one”`,KY=`I saw men sleeping, walking
Heavy eyed for the sleep that had fallen on them
I saw men sleeping, walking and I was distraught
I was distraught for what might befall them in their sleep
What slimy hands might find this an occasion to slip them up
For what pits they might fall into
In my distress I brought the light to their eyes in hope
That it might open their eyes
But they shut their eyes harder and pushed me away
for the brightness of this truth caused their sleepy eyes agony
And they loved their sleep
Then I heard a Voice call out to me saying,
“Let them be. For I will cause the ground beneath them to shake and there shall be an awakening. And the light that shone before their eyes and couldn’t open it will shine within them and there will be no escaping it. And their eyes will be open wide and will not be shut to sleep ever again.”
Then I fell on my knees before the One Who spoke to perform it as He had spoken
And my heart was at peace`,YY=`How many ways can I say “I love you”
The “have you eaten?” texts
The “call me when you get home”
The listening ear
Praying with you at 2am in the morning
In how many ways did you say you love me?
How many times and in how many places did your blood spill for me?
How many stripes did your flesh take?
Or is it the consuming overwhelming love wrapping itself around me in the night seasons?
The smile on my face looking at you
The smile on your face looking at me
How can I describe the endless sweetness of your love?
My body stretched out on the floor
My face soaked in tears
Can you see that I love you?
The longing
It never ends
How do you know it’s love
If it doesn’t give you a new heart
Daily turning out treasures you didn’t know existed within
What do I do with this love?
Do I take you to your favourite spot?
Or do I curl up in a ball of tears in secret?
Holding on to you in realms beyond
Speaking unutterable words
How do I love you?
When I wake up every morning and your love renews itself
Fresher, stronger than last night
When I don’t think I can love you more than I did yesterday
You show me how
Loving me into loving you
An infinite cycle of bliss`,qY=`Oh to see your face my Precious Lord
What would I do?
Would I jump and leap endlessly in excitement?
Would I rush to hold you, kiss your hands and feet?
Or would I be flat on my face as dead enamoured by your very presence?
Oh to be face to face with the One I adore
The One who deserves all the love songs and poems a soul could ever compose
But Who desires the heart that truly loves Him with or without sweet words to give
What an arrival it will be
What a departure
The earth and all in it have never had such a moment until that magnificent Day
The King of kings arriving in the grandest of splendour to pick His kids up
Oh to be home with you forever my Lord and King`,XY=`Lord I hope I put a smile on your face everyday
Because when I look at you
When I let my heart sink a little deeper into your loveliness
My smile is so big my face can’t contain it
Lord I hope you’re proud of me
Because I’m so proud to be yours
I’m so proud to be the one you want
I’m so proud to identify with you
Even when standing with you means
Fighting wars
I’d rather fight wars with you than have peace without you
Assuming there’s such a thing as peace without you
I’m with you Lord
I’m not going anywhere
Lord I hope your heart sings when you think of me
Because I can’t stop the songs in my heart
They’ve become a permanent soundtrack to my daily living
All I’m saying Lord is
In you, With you
I’ve found the greatest love
& I can’t help but wonder
If every transcendent experience of you is what you experience of me
Lord your love is surer to me than the sky is blue
I pray you never have a reason to doubt my love for you`,Qg=[{id:1,title:"A loved life",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:MY,picture:"./assets/ALovedLife.png"},{id:2,title:"A watered garden",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:LY,picture:"/assets/AWateredGarden.png"},{id:3,title:"Salt preserved",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:NY,picture:"/assets/SaltPreserved.png"},{id:4,title:"Strength",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:DY,picture:"/assets/Strength.png"},{id:5,title:"Blooming love",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:OY,picture:"/assets/BloomingLove.png"},{id:6,title:"Cream your dreams",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:jY,picture:"/assets/CreamYourDreams.png"},{id:7,title:"Undefeated",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:FY,picture:"/assets/Undefeated.png"},{id:8,title:"Discernment",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:BY,picture:"/assets/Discernment.png"},{id:9,title:"Strange beauty",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:HY,picture:"/assets/StrangeBeauty.png"},{id:10,title:"Preserved for purpose",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:VY,picture:"/assets/PreservedForPurpose.png"},{id:11,title:"New year, new me",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:$Y,picture:"/assets/NewYearNewMe.png"},{id:12,title:"A head in the clouds",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:zY,picture:"/assets/AHeadInTheClouds.png"},{id:13,title:"Real love",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:WY,picture:"/assets/RealLove.png"},{id:14,title:"Beyond the senses",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:UY,picture:"assets/BeyondTheSenses.png"},{id:15,title:"Following the script",author:"P.E.B",genre:"Poems",length:2,type:"Poem",collection:"Eyes that see, A heart that speaks",content:GY,picture:"/assets/FollowingTheScript.png"},{id:16,title:"Revival",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:KY,picture:"/assets/Revival.png"},{id:17,title:"Expressions of love",author:"P.E.B",genre:"Poems",length:2,type:"Poem",collection:"Eyes that see, A heart that speaks",content:YY,picture:"/assets/ExpressionsOfLove.png"},{id:18,title:"Almost home",author:"P.E.B",genre:"Poems",length:1,type:"Poem",collection:"Eyes that see, A heart that speaks",content:qY,picture:"/assets/AlmostHome.png"},{id:19,title:"Love confessions",author:"P.E.B",genre:"Poems",length:2,type:"Poem",collection:"Eyes that see, A heart that speaks",content:XY,picture:"/assets/LoveConfessions.png"},{id:20,title:"Nothing lacking - I",author:"Miss EJA",genre:"Stories",length:17,type:"Stories",collection:"The Sealed Life Chronicles",content:AY,picture:"/assets/NothingLacking.jpeg"},{id:21,title:"Sight by speaking - II",author:"Miss EJA",genre:"Stories",length:14,type:"Stories",collection:"The Sealed Life Chronicles",content:EY,picture:"/assets/SightBySpeakingFinal.jpeg"},{id:22,title:"The summer everything changed - III",author:"Miss EJA",genre:"Stories",length:12,type:"Stories",collection:"The Sealed Life Chronicles",content:CY,picture:"/assets/TheSummerEverythingChanged.png"},{id:23,title:"The golden man's trial - IV",author:"Miss EJA",genre:"Stories",type:"Stories",length:23,collection:"The Sealed Life Chronicles",content:TY,picture:"/assets/TheGoldenMansTrial.png"},{id:25,title:"Taking action",author:"Delight Adisa",genre:"Stories",length:8,type:"Stories",collection:"",content:PY,picture:"./assets/TakingAction.png"},{id:26,title:"A preacher's kid story",author:"Delight Adisa",genre:"Stories",length:9,type:"Stories",collection:"",content:kY,picture:"./assets/APreachersKidsStory.jpeg"},{id:27,title:"My redemption",author:"Delight Adisa",genre:"Stories",length:6,type:"Stories",collection:"",content:IY,picture:"./assets/MyRedemption.jpeg"},{id:28,title:"The graced one",author:"Delight Adisa",genre:"Stories",length:5,type:"Stories",collection:"",content:_Y,picture:"./assets/TheGracedOne.jpeg"},{id:29,title:"The Life Manifest - V",author:"Miss EJA",genre:"Stories",length:20,type:"Stories",collection:"The Sealed Life Chronicles",content:RY,picture:"./assets/TheLifeManifest.png"},{id:24,title:"Fate and faith",author:"Delight Adisa",genre:"Novels",length:131,type:"PDF",collection:"",content:"/assets/FateAndFaith.pdf",pdfUrl:"/assets/FateAndFaith.pdf",picture:"/assets/FateAndFaith.jpg"}],QY=n=>Qg.find(e=>e.id===parseInt(n)),OS=({className:n,initial:e,animate:t})=>v.jsx(ue.div,{className:`orb ${n}`,initial:e,animate:t}),jS=({icon:n,title:e,description:t,link:r,linkText:i,delay:s})=>{const o=E.useRef(null),a=Tw(0),l=Tw(0),c=DI(a),h=DI(l);Iy(h,[-.5,.5],["40%","60%"]),Iy(c,[-.5,.5],["40%","60%"]);const d=g=>{const A=o.current.getBoundingClientRect(),x=A.width,S=A.height,b=g.clientX-A.left,p=g.clientY-A.top,w=b/x-.5,T=p/S-.5;a.set(w),l.set(T)},f=()=>{a.set(0),l.set(0)},m=Iy(h,[-.5,.5],["12.5deg","-12.5deg"]),y=Iy(c,[-.5,.5],["-12.5deg","12.5deg"]);return v.jsx(ue.div,{ref:o,onMouseMove:d,onMouseLeave:f,style:{rotateX:m,rotateY:y,transformStyle:"preserve-3d"},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:s},className:"relative h-full",children:v.jsxs("div",{style:{transform:"translateZ(75px)",transformStyle:"preserve-3d"},className:"h-full text-center p-6 md:p-8 glassmorphism rounded-2xl flex flex-col aurora-card",children:[v.jsx("div",{className:"mb-4 inline-block p-4 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full text-primary",children:v.jsx(n,{size:32,style:{transform:"translateZ(50px)"}})}),v.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",style:{transform:"translateZ(50px)"},children:e}),v.jsx("p",{className:"text-muted-foreground mb-6 flex-grow",style:{transform:"translateZ(40px)"},children:t}),v.jsx(vt,{asChild:!0,variant:"outline",style:{transform:"translateZ(60px)"},children:v.jsxs(en,{to:r,className:"group",children:[i," ",v.jsx(wT,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})},JY=()=>{const n=Qg.slice(0,10);return v.jsx("div",{className:"relative flex w-full overflow-x-hidden",children:v.jsxs("div",{className:"marquee",children:[v.jsx("div",{className:"marquee__content",children:n.map(e=>v.jsxs("div",{className:"flex flex-col items-center mx-6 space-y-2",children:[v.jsx("img",{src:e.picture,alt:e.title,className:"w-36 h-32 object-cover rounded-xl shadow-lg"}),v.jsx("span",{className:"text-base font-medium text-foreground text-center whitespace-nowrap",children:e.title})]},`${e.id}-1`))}),v.jsx("div",{"aria-hidden":"true",className:"marquee__content",children:n.map(e=>v.jsxs("div",{className:"flex flex-col items-center mx-6 space-y-2",children:[v.jsx("img",{src:e.picture,alt:e.title,className:"w-36 h-32 object-cover rounded-xl shadow-lg"}),v.jsx("span",{className:"text-base font-medium text-foreground text-center whitespace-nowrap",children:e.title})]},`${e.id}-2`))})]})})},ZY=()=>v.jsxs("div",{className:"space-y-24 md:space-y-32 overflow-hidden",children:[v.jsxs("div",{className:"creative-bg",children:[v.jsx(OS,{className:"orb-1",initial:{top:"10%",left:"10%"},animate:{top:["10%","60%","20%","10%"],left:["10%","70%","50%","10%"],transition:{duration:40,repeat:1/0,ease:"easeInOut"}}}),v.jsx(OS,{className:"orb-2",initial:{top:"80%",left:"80%"},animate:{top:["80%","20%","70%","80%"],left:["80%","30%","90%","80%"],transition:{duration:35,repeat:1/0,ease:"easeInOut"}}}),v.jsx(OS,{className:"orb-3",initial:{top:"50%",left:"50%"},animate:{top:["50%","10%","90%","50%"],left:["50%","90%","10%","50%"],transition:{duration:45,repeat:1/0,ease:"easeInOut"}}})]}),v.jsxs("section",{id:"home",className:"text-center py-8 md:py-2 relative",children:[v.jsxs(ue.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:"easeOut"},className:"relative z-10",children:[v.jsxs(ue.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:200,damping:20},className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-1 rounded-full text-sm font-semibold mb-6 transform -rotate-3",children:[v.jsx(aD,{className:"w-4 h-4"}),"Welcome Home, Kingdom Pager"]}),v.jsxs("h1",{className:"text-6xl md:text-8xl font-black mb-6 leading-none tracking-tighter",children:[v.jsx("span",{className:"block",children:"READ. CONNECT."}),v.jsx("span",{className:"block highlight-scribble",children:"BE INSPIRED."})]}),v.jsx("p",{className:"max-w-xl mx-auto text-lg md:text-xl text-muted-foreground mb-10",children:v.jsx("em",{children:"Enjoy stories and poems of faith, hope and love. Expect to be transported into a realm of infinite possibilities, fill your thoughts with great expectations of brighter days ahead and warm your heart with the deepest of affections as you journey through each piece. "})}),v.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[v.jsx(vt,{size:"lg",asChild:!0,className:"group bg-gradient-to-r from-primary to-secondary text-primary-foreground hover:opacity-90 transition-opacity",children:v.jsxs(en,{to:"/library",children:["Explore the Library",v.jsx(wT,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),v.jsx(vt,{size:"lg",variant:"outline",asChild:!0,children:v.jsx(en,{to:"/about",children:"Our Story"})})]})]}),v.jsx(xA,{direction:"down",className:"text-background"}),v.jsxs("div",{className:"py-10 bg-background relative z-10",children:[v.jsx("h3",{className:"text-center text-xl font-semibold mb-8 text-muted-foreground",children:"Discover Our Collection"}),v.jsx(JY,{})]}),v.jsx(xA,{direction:"up",className:"text-background"}),v.jsxs("section",{id:"features",className:"container mx-auto px-4 relative z-10",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"A Canvas for Creativity"}),v.jsx("p",{className:"max-w-2xl mx-auto text-muted-foreground",children:" Everything you need to immerse yourself in the world of Holy Spirit inspired literary work."})]}),v.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",style:{perspective:"1000px"},children:[v.jsx(jS,{icon:bT,title:"Curated Library",description:"Explore literature and visual works crafted by Holy Spirit-led artists — each piece rooted in faith and purpose.",delay:.2,link:"/library",linkText:"Start Reading"}),v.jsx(jS,{x:!0,icon:Z4,title:"Share Your Story",description:"Has our Spirit-led platform personally inspired you in a way that you would like to share with us?",delay:.4,link:"/contact",linkText:"Get in Touch"}),v.jsx(jS,{icon:oG,title:"Join the Dialogue",description:"Engage with a vibrant community. Share interpretations, explore inspired writings, and discuss the topics that matter most.",delay:.6,link:"/library",linkText:"Start Commenting"})]})]})]})]}),du=ee.forwardRef(({className:n,type:e,...t},r)=>v.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));du.displayName="Input";function Nw(n,[e,t]){return Math.min(t,Math.max(e,n))}function J2(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Z2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),e9="VisuallyHidden",BT=E.forwardRef((n,e)=>v.jsx(fe.span,{...n,ref:e,style:{...Z2,...n.style}}));BT.displayName=e9;var t9=[" ","Enter","ArrowUp","ArrowDown"],n9=[" ","Enter"],dc="Select",[Ax,Ex,r9]=Gg(dc),[Ad,rJ]=da(dc,[r9,yx]),Cx=yx(),[i9,fa]=Ad(dc),[s9,o9]=Ad(dc),eO=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:d,disabled:f,required:m,form:y}=n,g=Cx(e),[A,x]=E.useState(null),[S,b]=E.useState(null),[p,w]=E.useState(!1),T=hx(c),[k,_]=ld({prop:r,defaultProp:i??!1,onChange:s,caller:dc}),[R,M]=ld({prop:o,defaultProp:a,onChange:l,caller:dc}),L=E.useRef(null),j=A?y||!!A.closest("form"):!0,[H,N]=E.useState(new Set),$=Array.from(H).map(D=>D.props.value).join(";");return v.jsx(jD,{...g,children:v.jsxs(i9,{required:m,scope:e,trigger:A,onTriggerChange:x,valueNode:S,onValueNodeChange:b,valueNodeHasChildren:p,onValueNodeHasChildrenChange:w,contentId:cd(),value:R,onValueChange:M,open:k,onOpenChange:_,dir:T,triggerPointerDownPosRef:L,disabled:f,children:[v.jsx(Ax.Provider,{scope:e,children:v.jsx(s9,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(D=>{N(B=>new Set(B).add(D))},[]),onNativeOptionRemove:E.useCallback(D=>{N(B=>{const O=new Set(B);return O.delete(D),O})},[]),children:t})}),j?v.jsxs(EO,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:d,value:R,onChange:D=>M(D.target.value),disabled:f,form:y,children:[R===void 0?v.jsx("option",{value:""}):null,Array.from(H)]},$):null]})})};eO.displayName=dc;var tO="SelectTrigger",nO=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=Cx(t),o=fa(tO,t),a=o.disabled||r,l=Te(e,o.onTriggerChange),c=Ex(t),h=E.useRef("touch"),[d,f,m]=TO(g=>{const A=c().filter(b=>!b.disabled),x=A.find(b=>b.value===o.value),S=PO(A,g,x);S!==void 0&&o.onValueChange(S.value)}),y=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return v.jsx(FD,{asChild:!0,...s,children:v.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":CO(o.value)?"":void 0,...i,ref:l,onClick:q(i.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&y(g)}),onPointerDown:q(i.onPointerDown,g=>{h.current=g.pointerType;const A=g.target;A.hasPointerCapture(g.pointerId)&&A.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:q(i.onKeyDown,g=>{const A=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(A&&g.key===" ")&&t9.includes(g.key)&&(y(),g.preventDefault())})})})});nO.displayName=tO;var rO="SelectValue",iO=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=fa(rO,t),{onValueNodeHasChildrenChange:c}=l,h=s!==void 0,d=Te(e,l.onValueNodeChange);return zt(()=>{c(h)},[c,h]),v.jsx(fe.span,{...a,ref:d,style:{pointerEvents:"none"},children:CO(l.value)?v.jsx(v.Fragment,{children:o}):s})});iO.displayName=rO;var a9="SelectIcon",sO=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return v.jsx(fe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});sO.displayName=a9;var l9="SelectPortal",oO=n=>v.jsx(vx,{asChild:!0,...n});oO.displayName=l9;var fc="SelectContent",aO=E.forwardRef((n,e)=>{const t=fa(fc,n.__scopeSelect),[r,i]=E.useState();if(zt(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?vc.createPortal(v.jsx(lO,{scope:n.__scopeSelect,children:v.jsx(Ax.Slot,{scope:n.__scopeSelect,children:v.jsx("div",{children:n.children})})}),s):null}return v.jsx(cO,{...n,ref:e})});aO.displayName=fc;var Tr=10,[lO,pa]=Ad(fc),c9="SelectContentImpl",u9=ad("SelectContent.RemoveScroll"),cO=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:A,...x}=n,S=fa(fc,t),[b,p]=E.useState(null),[w,T]=E.useState(null),k=Te(e,G=>p(G)),[_,R]=E.useState(null),[M,L]=E.useState(null),j=Ex(t),[H,N]=E.useState(!1),$=E.useRef(!1);E.useEffect(()=>{if(b)return YD(b)},[b]),fD();const D=E.useCallback(G=>{const[de,...ce]=j().map(me=>me.ref.current),[te]=ce.slice(-1),ie=document.activeElement;for(const me of G)if(me===ie||(me==null||me.scrollIntoView({block:"nearest"}),me===de&&w&&(w.scrollTop=0),me===te&&w&&(w.scrollTop=w.scrollHeight),me==null||me.focus(),document.activeElement!==ie))return},[j,w]),B=E.useCallback(()=>D([_,b]),[D,_,b]);E.useEffect(()=>{H&&B()},[H,B]);const{onOpenChange:O,triggerPointerDownPosRef:F}=S;E.useEffect(()=>{if(b){let G={x:0,y:0};const de=te=>{var ie,me;G={x:Math.abs(Math.round(te.pageX)-(((ie=F.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(te.pageY)-(((me=F.current)==null?void 0:me.y)??0))}},ce=te=>{G.x<=10&&G.y<=10?te.preventDefault():b.contains(te.target)||O(!1),document.removeEventListener("pointermove",de),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ce,{capture:!0})}}},[b,O,F]),E.useEffect(()=>{const G=()=>O(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[O]);const[W,U]=TO(G=>{const de=j().filter(ie=>!ie.disabled),ce=de.find(ie=>ie.ref.current===document.activeElement),te=PO(de,G,ce);te&&setTimeout(()=>te.ref.current.focus())}),K=E.useCallback((G,de,ce)=>{const te=!$.current&&!ce;(S.value!==void 0&&S.value===de||te)&&(R(G),te&&($.current=!0))},[S.value]),J=E.useCallback(()=>b==null?void 0:b.focus(),[b]),he=E.useCallback((G,de,ce)=>{const te=!$.current&&!ce;(S.value!==void 0&&S.value===de||te)&&L(G)},[S.value]),Pe=r==="popper"?SA:uO,le=Pe===SA?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:A}:{};return v.jsx(lO,{scope:t,content:b,viewport:w,onViewportChange:T,itemRefCallback:K,selectedItem:_,onItemLeave:J,itemTextRefCallback:he,focusSelectedItem:B,selectedItemText:M,position:r,isPositioned:H,searchRef:W,children:v.jsx(r2,{as:u9,allowPinchZoom:!0,children:v.jsx(AT,{asChild:!0,trapped:S.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:q(i,G=>{var de;(de=S.trigger)==null||de.focus({preventScroll:!0}),G.preventDefault()}),children:v.jsx(dx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:v.jsx(Pe,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:G=>G.preventDefault(),...x,...le,onPlaced:()=>N(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:q(x.onKeyDown,G=>{const de=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!de&&G.key.length===1&&U(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let te=j().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(G.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ie=G.target,me=te.indexOf(ie);te=te.slice(me+1)}setTimeout(()=>D(te)),G.preventDefault()}})})})})})})});cO.displayName=c9;var h9="SelectItemAlignedPosition",uO=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=fa(fc,t),o=pa(fc,t),[a,l]=E.useState(null),[c,h]=E.useState(null),d=Te(e,k=>h(k)),f=Ex(t),m=E.useRef(!1),y=E.useRef(!0),{viewport:g,selectedItem:A,selectedItemText:x,focusSelectedItem:S}=o,b=E.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&A&&x){const k=s.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(s.dir!=="rtl"){const ie=M.left-_.left,me=R.left-ie,se=k.left-me,Se=k.width+se,je=Math.max(Se,_.width),Ve=window.innerWidth-Tr,nr=Nw(me,[Tr,Math.max(Tr,Ve-je)]);a.style.minWidth=Se+"px",a.style.left=nr+"px"}else{const ie=_.right-M.right,me=window.innerWidth-R.right-ie,se=window.innerWidth-k.right-me,Se=k.width+se,je=Math.max(Se,_.width),Ve=window.innerWidth-Tr,nr=Nw(me,[Tr,Math.max(Tr,Ve-je)]);a.style.minWidth=Se+"px",a.style.right=nr+"px"}const L=f(),j=window.innerHeight-Tr*2,H=g.scrollHeight,N=window.getComputedStyle(c),$=parseInt(N.borderTopWidth,10),D=parseInt(N.paddingTop,10),B=parseInt(N.borderBottomWidth,10),O=parseInt(N.paddingBottom,10),F=$+D+H+O+B,W=Math.min(A.offsetHeight*5,F),U=window.getComputedStyle(g),K=parseInt(U.paddingTop,10),J=parseInt(U.paddingBottom,10),he=k.top+k.height/2-Tr,Pe=j-he,le=A.offsetHeight/2,G=A.offsetTop+le,de=$+D+G,ce=F-de;if(de<=he){const ie=L.length>0&&A===L[L.length-1].ref.current;a.style.bottom="0px";const me=c.clientHeight-g.offsetTop-g.offsetHeight,se=Math.max(Pe,le+(ie?J:0)+me+B),Se=de+se;a.style.height=Se+"px"}else{const ie=L.length>0&&A===L[0].ref.current;a.style.top="0px";const se=Math.max(he,$+g.offsetTop+(ie?K:0)+le)+ce;a.style.height=se+"px",g.scrollTop=de-he+g.offsetTop}a.style.margin=`${Tr}px 0`,a.style.minHeight=W+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,c,g,A,x,s.dir,r]);zt(()=>b(),[b]);const[p,w]=E.useState();zt(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const T=E.useCallback(k=>{k&&y.current===!0&&(b(),S==null||S(),y.current=!1)},[b,S]);return v.jsx(f9,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:p},children:v.jsx(fe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});uO.displayName=h9;var d9="SelectPopperPosition",SA=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Tr,...s}=n,o=Cx(t);return v.jsx(BD,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SA.displayName=d9;var[f9,HT]=Ad(fc,{}),AA="SelectViewport",hO=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=pa(AA,t),o=HT(AA,t),a=Te(e,s.onViewportChange),l=E.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(Ax.Slot,{scope:t,children:v.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:q(i.onScroll,c=>{const h=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const m=Math.abs(l.current-h.scrollTop);if(m>0){const y=window.innerHeight-Tr*2,g=parseFloat(d.style.minHeight),A=parseFloat(d.style.height),x=Math.max(g,A);if(x<y){const S=x+m,b=Math.min(y,S),p=S-b;d.style.height=b+"px",d.style.bottom==="0px"&&(h.scrollTop=p>0?p:0,d.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});hO.displayName=AA;var dO="SelectGroup",[p9,m9]=Ad(dO),g9=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=cd();return v.jsx(p9,{scope:t,id:i,children:v.jsx(fe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});g9.displayName=dO;var fO="SelectLabel",pO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=m9(fO,t);return v.jsx(fe.div,{id:i.id,...r,ref:e})});pO.displayName=fO;var Dw="SelectItem",[y9,mO]=Ad(Dw),gO=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=fa(Dw,t),l=pa(Dw,t),c=a.value===r,[h,d]=E.useState(s??""),[f,m]=E.useState(!1),y=Te(e,S=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,S,r,i)}),g=cd(),A=E.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(y9,{scope:t,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:E.useCallback(S=>{d(b=>b||((S==null?void 0:S.textContent)??"").trim())},[]),children:v.jsx(Ax.ItemSlot,{scope:t,value:r,disabled:i,textValue:h,children:v.jsx(fe.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:q(o.onFocus,()=>m(!0)),onBlur:q(o.onBlur,()=>m(!1)),onClick:q(o.onClick,()=>{A.current!=="mouse"&&x()}),onPointerUp:q(o.onPointerUp,()=>{A.current==="mouse"&&x()}),onPointerDown:q(o.onPointerDown,S=>{A.current=S.pointerType}),onPointerMove:q(o.onPointerMove,S=>{var b;A.current=S.pointerType,i?(b=l.onItemLeave)==null||b.call(l):A.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:q(o.onPointerLeave,S=>{var b;S.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:q(o.onKeyDown,S=>{var p;((p=l.searchRef)==null?void 0:p.current)!==""&&S.key===" "||(n9.includes(S.key)&&x(),S.key===" "&&S.preventDefault())})})})})});gO.displayName=Dw;var Xd="SelectItemText",yO=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=fa(Xd,t),a=pa(Xd,t),l=mO(Xd,t),c=o9(Xd,t),[h,d]=E.useState(null),f=Te(e,x=>d(x),l.onItemTextChange,x=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,x,l.value,l.disabled)}),m=h==null?void 0:h.textContent,y=E.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:A}=c;return zt(()=>(g(y),()=>A(y)),[g,A,y]),v.jsxs(v.Fragment,{children:[v.jsx(fe.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vc.createPortal(s.children,o.valueNode):null]})});yO.displayName=Xd;var vO="SelectItemIndicator",wO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return mO(vO,t).isSelected?v.jsx(fe.span,{"aria-hidden":!0,...r,ref:e}):null});wO.displayName=vO;var EA="SelectScrollUpButton",bO=E.forwardRef((n,e)=>{const t=pa(EA,n.__scopeSelect),r=HT(EA,n.__scopeSelect),[i,s]=E.useState(!1),o=Te(e,r.onScrollButtonChange);return zt(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?v.jsx(SO,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});bO.displayName=EA;var CA="SelectScrollDownButton",xO=E.forwardRef((n,e)=>{const t=pa(CA,n.__scopeSelect),r=HT(CA,n.__scopeSelect),[i,s]=E.useState(!1),o=Te(e,r.onScrollButtonChange);return zt(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;s(h)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?v.jsx(SO,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});xO.displayName=CA;var SO=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=pa("SelectScrollButton",t),o=E.useRef(null),a=Ex(t),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),zt(()=>{var h;const c=a().find(d=>d.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),v.jsx(fe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:q(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:q(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:q(i.onPointerLeave,()=>{l()})})}),v9="SelectSeparator",AO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return v.jsx(fe.div,{"aria-hidden":!0,...r,ref:e})});AO.displayName=v9;var TA="SelectArrow",w9=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Cx(t),s=fa(TA,t),o=pa(TA,t);return s.open&&o.position==="popper"?v.jsx(HD,{...i,...r,ref:e}):null});w9.displayName=TA;var b9="SelectBubbleInput",EO=E.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=E.useRef(null),s=Te(r,i),o=J2(e);return E.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const d=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(d)}},[o,e]),v.jsx(fe.select,{...t,style:{...Z2,...t.style},ref:s,defaultValue:e})});EO.displayName=b9;function CO(n){return n===""||n===void 0}function TO(n){const e=In(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function PO(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=x9(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function x9(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var S9=eO,kO=nO,A9=iO,E9=sO,C9=oO,IO=aO,T9=hO,_O=pO,RO=gO,P9=yO,k9=wO,MO=bO,LO=xO,NO=AO;const FS=S9,BS=A9,hv=ee.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(kO,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:[e,v.jsx(E9,{asChild:!0,children:v.jsx(ZN,{className:"h-4 w-4 opacity-50"})})]}));hv.displayName=kO.displayName;const DO=ee.forwardRef(({className:n,...e},t)=>v.jsx(MO,{ref:t,className:Ae("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx(Y4,{className:"h-4 w-4"})}));DO.displayName=MO.displayName;const OO=ee.forwardRef(({className:n,...e},t)=>v.jsx(LO,{ref:t,className:Ae("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx(ZN,{className:"h-4 w-4"})}));OO.displayName=LO.displayName;const dv=ee.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>v.jsx(C9,{children:v.jsxs(IO,{ref:i,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[v.jsx(DO,{}),v.jsx(T9,{className:Ae("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(OO,{})]})}));dv.displayName=IO.displayName;const I9=ee.forwardRef(({className:n,...e},t)=>v.jsx(_O,{ref:t,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));I9.displayName=_O.displayName;const Aa=ee.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(RO,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(k9,{children:v.jsx(JN,{className:"h-4 w-4"})})}),v.jsx(P9,{children:e})]}));Aa.displayName=RO.displayName;const _9=ee.forwardRef(({className:n,...e},t)=>v.jsx(NO,{ref:t,className:Ae("-mx-1 my-1 h-px bg-muted",n),...e}));_9.displayName=NO.displayName;const jO=ee.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));jO.displayName="CardBase";const op=ee.forwardRef(({className:n,children:e,...t},r)=>{const i=E.useRef(null),s=o=>{if(!i.current)return;const a=i.current.getBoundingClientRect();i.current.style.setProperty("--mouse-x",`${o.clientX-a.left}px`),i.current.style.setProperty("--mouse-y",`${o.clientY-a.top}px`)};return v.jsx(jO,{ref:r,className:Ae("aurora-card relative",n),onMouseMove:s,...t,children:v.jsx("div",{ref:i,className:"h-full w-full",children:e})})});op.displayName="Card";const ap=ee.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Ae("flex flex-col space-y-1.5 p-6",n),...e}));ap.displayName="CardHeader";const lp=ee.forwardRef(({className:n,...e},t)=>v.jsx("h3",{ref:t,className:Ae("text-2xl font-semibold leading-none tracking-tight",n),...e}));lp.displayName="CardTitle";const hd=ee.forwardRef(({className:n,...e},t)=>v.jsx("p",{ref:t,className:Ae("text-sm text-muted-foreground",n),...e}));hd.displayName="CardDescription";const cp=ee.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Ae("p-6 pt-0",n),...e}));cp.displayName="CardContent";const VT=ee.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Ae("flex items-center p-6 pt-0",n),...e}));VT.displayName="CardFooter";var R9="Label",FO=E.forwardRef((n,e)=>v.jsx(fe.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));FO.displayName=R9;var BO=FO;const M9=vT("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ur=ee.forwardRef(({className:n,...e},t)=>v.jsx(BO,{ref:t,className:Ae(M9(),n),...e}));Ur.displayName=BO.displayName;var HO=["PageUp","PageDown"],VO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$O={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ed="Slider",[PA,L9,N9]=Gg(Ed),[zO,iJ]=da(Ed,[N9]),[D9,Tx]=zO(Ed),WO=E.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:h,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:y,...g}=n,A=E.useRef(new Set),x=E.useRef(0),b=o==="horizontal"?O9:j9,[p=[],w]=ld({prop:h,defaultProp:c,onChange:L=>{var H;(H=[...A.current][x.current])==null||H.focus(),d(L)}}),T=E.useRef(p);function k(L){const j=$9(p,L);M(L,j)}function _(L){M(L,x.current)}function R(){const L=T.current[x.current];p[x.current]!==L&&f(p)}function M(L,j,{commit:H}={commit:!1}){const N=G9(s),$=K9(Math.round((L-r)/s)*s+r,N),D=Nw($,[r,i]);w((B=[])=>{const O=H9(B,D,j);if(U9(O,l*s)){x.current=O.indexOf(D);const F=String(O)!==String(B);return F&&H&&f(O),F?O:B}else return B})}return v.jsx(D9,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:A.current,values:p,orientation:o,form:y,children:v.jsx(PA.Provider,{scope:n.__scopeSlider,children:v.jsx(PA.Slot,{scope:n.__scopeSlider,children:v.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:q(g.onPointerDown,()=>{a||(T.current=p)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:k,onSlideMove:a?void 0:_,onSlideEnd:a?void 0:R,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(i,p.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:j})=>{if(!a){const $=HO.includes(L.key)||L.shiftKey&&VO.includes(L.key)?10:1,D=x.current,B=p[D],O=s*$*j;M(B+O,D,{commit:!0})}}})})})})});WO.displayName=Ed;var[UO,GO]=zO(Ed,{startEdge:"left",endEdge:"right",size:"width",direction:1}),O9=E.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...h}=n,[d,f]=E.useState(null),m=Te(e,b=>f(b)),y=E.useRef(void 0),g=hx(i),A=g==="ltr",x=A&&!s||!A&&s;function S(b){const p=y.current||d.getBoundingClientRect(),w=[0,p.width],k=$T(w,x?[t,r]:[r,t]);return y.current=p,k(b-p.left)}return v.jsx(UO,{scope:n.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:v.jsx(KO,{dir:g,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const p=S(b.clientX);o==null||o(p)},onSlideMove:b=>{const p=S(b.clientX);a==null||a(p)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:b=>{const w=$O[x?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:w?-1:1})}})})}),j9=E.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=n,h=E.useRef(null),d=Te(e,h),f=E.useRef(void 0),m=!i;function y(g){const A=f.current||h.current.getBoundingClientRect(),x=[0,A.height],b=$T(x,m?[r,t]:[t,r]);return f.current=A,b(g-A.top)}return v.jsx(UO,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:v.jsx(KO,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const A=y(g.clientY);s==null||s(A)},onSlideMove:g=>{const A=y(g.clientY);o==null||o(A)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:g=>{const x=$O[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),KO=E.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=n,h=Tx(Ed,t);return v.jsx(fe.span,{...c,ref:e,onKeyDown:q(n.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):HO.concat(VO).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:q(n.onPointerDown,d=>{const f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),h.thumbs.has(f)?f.focus():r(d)}),onPointerMove:q(n.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:q(n.onPointerUp,d=>{const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),s(d))})})}),YO="SliderTrack",qO=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=Tx(YO,t);return v.jsx(fe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});qO.displayName=YO;var kA="SliderRange",XO=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=Tx(kA,t),s=GO(kA,t),o=E.useRef(null),a=Te(e,o),l=i.values.length,c=i.values.map(f=>ZO(f,i.min,i.max)),h=l>1?Math.min(...c):0,d=100-Math.max(...c);return v.jsx(fe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:h+"%",[s.endEdge]:d+"%"}})});XO.displayName=kA;var IA="SliderThumb",QO=E.forwardRef((n,e)=>{const t=L9(n.__scopeSlider),[r,i]=E.useState(null),s=Te(e,a=>i(a)),o=E.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return v.jsx(F9,{...n,ref:s,index:o})}),F9=E.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=Tx(IA,t),a=GO(IA,t),[l,c]=E.useState(null),h=Te(e,S=>c(S)),d=l?o.form||!!l.closest("form"):!0,f=PD(l),m=o.values[r],y=m===void 0?0:ZO(m,o.min,o.max),g=V9(r,o.values.length),A=f==null?void 0:f[a.size],x=A?z9(A,y,a.direction):0;return E.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[v.jsx(PA.ItemSlot,{scope:n.__scopeSlider,children:v.jsx(fe.span,{role:"slider","aria-label":n["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:h,style:m===void 0?{display:"none"}:n.style,onFocus:q(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&v.jsx(JO,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});QO.displayName=IA;var B9="RadioBubbleInput",JO=E.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const i=E.useRef(null),s=Te(i,r),o=J2(e);return E.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const d=new Event("input",{bubbles:!0});h.call(a,e),a.dispatchEvent(d)}},[o,e]),v.jsx(fe.input,{style:{display:"none"},...t,ref:s,defaultValue:e})});JO.displayName=B9;function H9(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function ZO(n,e,t){const s=100/(t-e)*(n-e);return Nw(s,[0,100])}function V9(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function $9(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function z9(n,e,t){const r=n/2,s=$T([0,50],[0,r]);return(r-s(e)*t)*t}function W9(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function U9(n,e){if(e>0){const t=W9(n);return Math.min(...t)>=e}return!0}function $T(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function G9(n){return(String(n).split(".")[1]||"").length}function K9(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var ej=WO,Y9=qO,q9=XO,m_=QO;const tj=ee.forwardRef(({className:n,...e},t)=>v.jsxs(ej,{ref:t,className:Ae("relative flex w-full touch-none select-none items-center",n),...e,children:[v.jsx(Y9,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary/40 dark:bg-secondary/30",children:v.jsx(q9,{className:"absolute h-full bg-primary dark:bg-accent"})}),v.jsx(m_,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-accent dark:bg-popover"}),e.value&&e.value.length>1&&v.jsx(m_,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-accent dark:bg-popover"})]}));tj.displayName=ej.displayName;const X9=["All",...new Set(Qg.map(n=>n.genre))],Q9=["All",...new Set(Qg.map(n=>n.author))],J9=()=>{const[n,e]=E.useState(""),[t,r]=E.useState("All"),[i,s]=E.useState("All"),[o,a]=E.useState([0,200]),[l,c]=E.useState("title_asc"),h=E.useRef({}),d=E.useMemo(()=>{let y=Qg;return n&&(y=y.filter(g=>g.title.toLowerCase().includes(n.toLowerCase()))),t!=="All"&&(y=y.filter(g=>g.genre===t)),i!=="All"&&(y=y.filter(g=>g.author===i)),y=y.filter(g=>g.length>=o[0]&&g.length<=o[1]),y.sort((g,A)=>l==="title_asc"?g.title.localeCompare(A.title):l==="title_desc"?A.title.localeCompare(g.title):l==="author_asc"?g.author.localeCompare(A.author):l==="author_desc"?A.author.localeCompare(g.author):0),y},[n,t,i,o,l]),f=E.useMemo(()=>{const y={};return d.forEach(g=>{const A=g.genre||"Uncategorized";y[A]||(y[A]=[]),y[A].push(g)}),y},[d]),m=(y,g)=>{const A=h.current[y];if(A){const x=g==="left"?-300:300;A.scrollBy({left:x,behavior:"smooth"})}};return v.jsxs("section",{id:"library",className:"space-y-8 scroll-mt-20 pt-16 px-4",children:[v.jsxs("div",{className:"p-6 md:p-8 bg-gradient-to-r from-primary/5 via-secondary/5 to-accent/5 rounded-xl shadow-lg glassmorphism",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[v.jsx("h1",{className:"text-4xl font-bold gradient-text",children:"Our Digital Library"}),v.jsxs(vt,{variant:"outline",className:"md:hidden flex items-center gap-2",children:[v.jsx(eG,{size:18})," Filters"]})]}),v.jsxs("div",{className:"relative mb-6",children:[v.jsx(du,{type:"text",placeholder:"Search by title...",value:n,onChange:y=>e(y.target.value),className:"pl-10 text-lg h-12 bg-background/80 focus:ring-primary"}),v.jsx(cG,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsx(Ur,{htmlFor:"genre-select",className:"text-sm font-medium text-foreground/80",children:"Genre"}),v.jsxs(FS,{value:t,onValueChange:r,children:[v.jsx(hv,{id:"genre-select",className:"w-full bg-background/80",children:v.jsx(BS,{placeholder:"Filter by genre"})}),v.jsx(dv,{children:X9.map(y=>v.jsx(Aa,{value:y,children:y},y))})]})]}),v.jsxs("div",{children:[v.jsx(Ur,{htmlFor:"author-select",className:"text-sm font-medium text-foreground/80",children:"Author"}),v.jsxs(FS,{value:i,onValueChange:s,children:[v.jsx(hv,{id:"author-select",className:"w-full bg-background/80",children:v.jsx(BS,{placeholder:"Filter by author"})}),v.jsx(dv,{children:Q9.map(y=>v.jsx(Aa,{value:y,children:y},y))})]})]}),v.jsxs("div",{className:"lg:col-span-2",children:[v.jsxs(Ur,{htmlFor:"length-slider",className:"text-sm font-medium text-foreground/80",children:["Length (pages/issues): ",o[0]," - ",o[1]]}),v.jsx(tj,{id:"length-slider",min:0,max:200,step:10,value:o,onValueChange:a,className:"mt-2"})]}),v.jsxs("div",{children:[v.jsx(Ur,{htmlFor:"sort-select",className:"text-sm font-medium text-foreground/80",children:"Sort By"}),v.jsxs(FS,{value:l,onValueChange:c,children:[v.jsx(hv,{id:"sort-select",className:"w-full bg-background/80",children:v.jsx(BS,{placeholder:"Sort by"})}),v.jsxs(dv,{children:[v.jsx(Aa,{value:"title_asc",children:"Title (A-Z)"}),v.jsx(Aa,{value:"title_desc",children:"Title (Z-A)"}),v.jsx(Aa,{value:"author_asc",children:"Author (A-Z)"}),v.jsx(Aa,{value:"author_desc",children:"Author (Z-A)"})]})]})]})]})]}),Object.entries(f).map(([y,g])=>v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-2xl font-semibold gradient-text",children:y}),v.jsx("div",{ref:A=>h.current[y]=A,className:"flex space-x-4 overflow-x-auto pb-2 scroll-smooth",children:g.map(A=>v.jsxs(op,{className:"min-w-[250px] max-w-[300px] flex-shrink-0",children:[v.jsx(ap,{className:"p-0",children:v.jsx(en,{to:`/read/${A.id}`,className:"block",children:v.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-purple-100 to-blue-100 flex items-center justify-center overflow-hidden",children:v.jsx("img",{src:A.picture,alt:A.title,className:"object-cover h-full w-full opacity-80 group-hover:opacity-100 transition-opacity duration-300"})})})}),v.jsxs(cp,{className:"p-4 flex-grow",children:[v.jsx(lp,{className:"text-xl mb-1 gradient-text",children:A.title}),v.jsxs(hd,{className:"text-sm text-muted-foreground mb-2",children:["By ",A.author]}),v.jsxs("div",{className:"flex items-center space-x-4 text-xs text-foreground/70",children:[A.type==="PDF"?v.jsxs("span",{className:"flex items-center",children:[v.jsx(tD,{size:14,className:"mr-1 text-red-500"})," ",A.type]}):v.jsxs("span",{className:"flex items-center",children:[v.jsx(G4,{size:14,className:"mr-1 text-primary"})," ",A.type]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx(X4,{size:14,className:"mr-1 text-secondary"})," ",A.length," pages"]})]})]}),v.jsx(VT,{className:"p-4 border-t border-border/50",children:v.jsx(hd,{className:"text-xs mb-1 gradient-text",children:A.collection})})]},A.id))}),v.jsxs("div",{className:"flex justify-between items-center md:hidden mt-2",children:[v.jsx(vt,{onClick:()=>m(y,"left"),variant:"ghost",children:"←"}),v.jsx(vt,{onClick:()=>m(y,"right"),variant:"ghost",children:"→"})]})]},y)),d.length===0&&v.jsxs("div",{className:"text-center py-16 px-6 bg-card/50 rounded-xl glassmorphism",children:[v.jsx(tG,{size:48,className:"mx-auto text-primary mb-4"}),v.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Nothing Found"}),v.jsx("p",{className:"text-lg text-muted-foreground",children:"We couldn't find any items matching your search or filter criteria."}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Please try adjusting your filters or search term."})]})]})},HS=({icon:n,value:e,label:t,color:r,delay:i})=>v.jsxs(ue.div,{className:`p-6 rounded-xl shadow-lg text-center glassmorphism border-2 ${r} aurora-card`,initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i},children:[v.jsx("div",{className:`mx-auto mb-3 w-16 h-16 rounded-full flex items-center justify-center bg-gradient-to-br ${r==="border-primary"?"from-primary to-purple-400":r==="border-secondary"?"from-secondary to-blue-400":"from-accent to-green-400"} text-primary-foreground`,children:ee.createElement(n,{size:32})}),v.jsx("div",{className:"text-4xl font-bold gradient-text",children:e}),v.jsx("div",{className:"text-sm text-foreground/80",children:t})]}),Z9=()=>v.jsxs("div",{className:"space-y-16 relative",children:[v.jsx("div",{className:"creative-blob w-96 h-96 bg-primary/10 top-1/4 -left-32 animate-pulse"}),v.jsx("div",{className:"creative-blob w-72 h-72 bg-secondary/10 bottom-1/4 -right-32"}),v.jsxs("section",{id:"about",className:"text-center py-12 md:py-16 bg-gradient-to-bl from-purple-100/30 via-transparent to-blue-100/20 rounded-xl shadow-inner scroll-mt-20",children:[v.jsx(ue.h1,{className:"text-5xl md:text-6xl font-extrabold mb-6 gradient-text",initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,ease:"easeOut"},children:"About Kingdom Pages"}),v.jsx(ue.p,{className:"py-12 text-lg md:text-xl text-foreground/90 max-w-3xl mx-auto",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.2,ease:"easeOut"},children:"Kingdom Pages is a faith-driven digital library that brings together Christian stories, poems, and books that inspire faith, edify believers, and draws people into a personal relationship with Jesus Christ. Our mission is to make the Christian life tangible and relatable through literature that transforms hearts, renews minds, and strengthens the Kingdom of God"})]}),v.jsxs("section",{className:"container mx-auto",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 gradient-text",children:"Our Journey & Mission"}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-center",children:[v.jsxs(ue.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-6 p-6 rounded-lg bg-card shadow-xl glassmorphism aurora-card",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(hG,{size:28,className:"mr-3 text-primary"}),v.jsx("h3",{className:"text-2xl font-semibold text-foreground",children:"Our Mission"})]}),v.jsx("p",{className:"text-foreground/80",children:"To spread the Gospel of Jesus Christ and edify believers through Spirit-inspired literature that transforms lives, nurtures faith, and builds the Kingdom of God. "})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx($I,{size:28,className:"mr-3 text-secondary"}),v.jsx("h3",{className:"text-2xl font-semibold text-foreground",children:"Our Vision"})]}),v.jsx("p",{className:"text-foreground/80",children:"To be the leading Christian digital library where millions worldwide encounter Jesus, grow spiritually, and are inspired through books, poems, stories, and creative expressions."})]})]}),v.jsx(ue.div,{initial:{opacity:0,scale:.5},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"w-full h-80 md:h-96 rounded-lg overflow-hidden shadow-2xl",children:v.jsx("img",{alt:"Diverse group of people reading and interacting with digital devices in a bright, hopeful setting",className:"w-full h-full object-cover",src:"https://images.unsplash.com/photo-1674858161001-b5bfc4a311dd"})})]})]}),v.jsxs("section",{className:"py-12 md:py-16 bg-card/80 rounded-xl shadow-xl glassmorphism",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 gradient-text",children:"Impact by Numbers"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-4xl mx-auto px-4",children:[v.jsx(HS,{icon:$I,value:"29+",label:"Digital Items",color:"border-primary",delay:.1}),v.jsx(HS,{icon:lD,value:"+",label:"Active Readers",color:"border-secondary",delay:.3}),v.jsx(HS,{icon:aD,value:"3+",label:"Contributing Authors",color:"border-accent",delay:.5})]})]})]}),zT=ee.forwardRef(({className:n,...e},t)=>v.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));zT.displayName="Textarea";const eq=1;let VS=0;function tq(){return VS=(VS+1)%Number.MAX_VALUE,VS.toString()}const hn={state:{toasts:[]},listeners:[],getState:()=>hn.state,setState:n=>{typeof n=="function"?hn.state=n(hn.state):hn.state={...hn.state,...n},hn.listeners.forEach(e=>e(hn.state))},subscribe:n=>(hn.listeners.push(n),()=>{hn.listeners=hn.listeners.filter(e=>e!==n)})},nq=({...n})=>{const e=tq(),t=i=>hn.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>hn.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return hn.setState(i=>({...i,toasts:[{...n,id:e,dismiss:r},...i.toasts].slice(0,eq)})),{id:e,dismiss:r,update:t}};function WT(){const[n,e]=E.useState(hn.getState());return E.useEffect(()=>hn.subscribe(r=>{e(r)}),[]),E.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(i)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:nq,toasts:n.toasts}}const $S=({icon:n,title:e,content:t,href:r,delay:i})=>v.jsxs(ue.div,{className:"flex items-start space-x-4 p-6 bg-card rounded-xl shadow-lg glassmorphism aurora-card",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i},children:[v.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-primary to-secondary text-primary-foreground rounded-full flex items-center justify-center",children:ee.createElement(n,{size:24})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e}),r?v.jsx("a",{href:r,className:"text-primary hover:underline break-all",children:t}):v.jsx("p",{className:"text-foreground/80 break-all",children:t})]})]}),rq=()=>{const{toast:n}=WT(),[e,t]=E.useState({name:"",email:"",subject:"",message:""}),[r,i]=E.useState(!1),s=a=>{const{name:l,value:c}=a.target;t(h=>({...h,[l]:c}))},o=a=>{a.preventDefault(),i(!0);const{name:l,email:c,subject:h,message:d}=e,f="admin@kingdompages.digital",m=encodeURIComponent(`[From ${l}] ${h}`),y=encodeURIComponent(`Name: ${l}
Email: ${c}

Message:
${d}`),g=`mailto:${f}?subject=${m}&body=${y}`;window.location.href=g,n({title:"Email Client Opened",description:"Please complete sending the message in your email application.",variant:"default"}),setTimeout(()=>{t({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return v.jsxs("div",{className:"space-y-16 relative overflow-hidden",children:[v.jsx("div",{className:"absolute w-32 h-32 bg-purple-300/30 rounded-full blur-2xl top-10 left-10 rotate-12 z-0"}),v.jsx("div",{className:"absolute w-24 h-24 bg-purple-400/20 rounded-full blur-xl bottom-20 right-16 rotate-45 z-0"}),v.jsx("div",{className:"absolute w-16 h-16 bg-purple-500/25 rounded-full blur-md top-1/2 left-1/3 rotate-[-30deg] z-0"}),v.jsx("div",{className:"creative-blob w-80 h-80 bg-accent/10 top-1/2 -right-40"}),v.jsx("div",{className:"creative-blob w-80 h-80 bg-secondary/10 top-0 -left-40 animate-pulse"}),v.jsxs("section",{id:"contact",className:"text-center py-12 md:py-16 bg-gradient-to-br from-purple-100/30 via-blue-100/20 to-transparent rounded-xl shadow-inner scroll-mt-20 relative z-10",children:[v.jsx(ue.h1,{className:"text-5xl md:text-6xl font-extrabold mb-6 gradient-text",initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,ease:"easeOut"},children:"Get In Touch"}),v.jsx(ue.p,{className:"text-lg md:text-xl text-foreground/90 max-w-2xl mx-auto",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.2,ease:"easeOut"},children:"We would love to hear from you! Whether you have a question, feedback, or just want to say hello, feel free to reach out."})]}),v.jsx("section",{className:"container mx-auto",children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-start",children:[v.jsxs(ue.div,{className:"space-y-6",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[v.jsx("h2",{className:"text-3xl font-bold mb-6 gradient-text",children:"Contact Information"}),v.jsx($S,{icon:rD,title:"Email Us",content:"admin@kingdompages.digital",href:"mailto:admin@kingdompages.digital",delay:.1}),v.jsx($S,{icon:lG,title:"Call Us",content:v.jsxs("span",{children:["on Kingschat ",v.jsx("em",{children:"- @Kingdompages"})]}),href:"",delay:.2}),v.jsx($S,{icon:sG,title:"Our Office",content:"Nigeria",delay:.3})]}),v.jsxs(ue.div,{className:"p-6 md:p-8 bg-card/90 rounded-xl shadow-2xl glassmorphism aurora-card",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},children:[v.jsx("h2",{className:"text-3xl font-bold mb-8 text-center gradient-text",children:"Send Us a Message"}),v.jsxs("form",{onSubmit:o,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx(Ur,{htmlFor:"name",className:"text-foreground/80",children:"Full Name"}),v.jsx(du,{id:"name",name:"name",type:"text",placeholder:"Hannah Smith",required:!0,value:e.name,onChange:s,className:"bg-background/70"})]}),v.jsxs("div",{children:[v.jsx(Ur,{htmlFor:"email",className:"text-foreground/80",children:"Email Address"}),v.jsx(du,{id:"email",name:"email",type:"email",placeholder:"you@example.com",required:!0,value:e.email,onChange:s,className:"bg-background/70"})]}),v.jsxs("div",{children:[v.jsx(Ur,{htmlFor:"subject",className:"text-foreground/80",children:"Subject"}),v.jsx(du,{id:"subject",name:"subject",type:"text",placeholder:"Question about books",required:!0,value:e.subject,onChange:s,className:"bg-background/70"})]}),v.jsxs("div",{children:[v.jsx(Ur,{htmlFor:"message",className:"text-foreground/80",children:"Message"}),v.jsx(zT,{id:"message",name:"message",placeholder:"Your message here...",required:!0,rows:5,value:e.message,onChange:s,className:"bg-background/70"})]}),v.jsx(vt,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground shadow-lg group",disabled:r,children:r?"Opening Email...":v.jsxs(v.Fragment,{children:["Send Message via Email ",v.jsx(oD,{size:18,className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]})]})]})})]})};let jy;const iq=new Uint8Array(16);function sq(){if(!jy&&(jy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jy(iq)}const Mt=[];for(let n=0;n<256;++n)Mt.push((n+256).toString(16).slice(1));function oq(n,e=0){return Mt[n[e+0]]+Mt[n[e+1]]+Mt[n[e+2]]+Mt[n[e+3]]+"-"+Mt[n[e+4]]+Mt[n[e+5]]+"-"+Mt[n[e+6]]+Mt[n[e+7]]+"-"+Mt[n[e+8]]+Mt[n[e+9]]+"-"+Mt[n[e+10]]+Mt[n[e+11]]+Mt[n[e+12]]+Mt[n[e+13]]+Mt[n[e+14]]+Mt[n[e+15]]}const aq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g_={randomUUID:aq};function lq(n,e,t){if(g_.randomUUID&&!e&&!n)return g_.randomUUID();n=n||{};const r=n.random||(n.rng||sq)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return oq(r)}var cq=typeof Element<"u",uq=typeof Map=="function",hq=typeof Set=="function",dq=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function fv(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!fv(n[r],e[r]))return!1;return!0}var s;if(uq&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!fv(r.value[1],e.get(r.value[0])))return!1;return!0}if(hq&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(dq&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof e.valueOf=="function")return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof e.toString=="function")return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(cq&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!fv(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}var fq=function(e,t){try{return fv(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const pq=pd(fq);var mq=function(n,e,t,r,i,s,o,a){if(!n){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[t,r,i,s,o,a],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},gq=mq;const y_=pd(gq);var yq=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var h=o[c];if(!l(h))return!1;var d=e[h],f=t[h];if(s=r?r.call(i,d,f,h):void 0,s===!1||s===void 0&&d!==f)return!1}return!0};const vq=pd(yq);var nj=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(nj||{}),zS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},v_=Object.values(nj),UT={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},wq=Object.entries(UT).reduce((n,[e,t])=>(n[t]=e,n),{}),Gr="data-rh",fu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},pu=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},bq=n=>{let e=pu(n,"title");const t=pu(n,fu.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=pu(n,fu.DEFAULT_TITLE);return e||r||void 0},xq=n=>pu(n,fu.ON_CHANGE_CLIENT_STATE)||(()=>{}),WS=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),Sq=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(n.indexOf(a)!==-1&&r[a])return t.concat(r)}}return t},[]),Aq=n=>console&&typeof console.warn=="function"&&console.warn(n),Fd=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&Aq(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const h=Object.keys(l);for(let f=0;f<h.length;f+=1){const m=h[f],y=m.toLowerCase();e.indexOf(y)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(c=y),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(c=m)}if(!c||!l[c])return!1;const d=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][d]?!1:(o[c][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],h={...r[c],...o[c]};r[c]=h}return i},[]).reverse()},Eq=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},Cq=n=>({baseTag:Sq(["href"],n),bodyAttributes:WS("bodyAttributes",n),defer:pu(n,fu.DEFER),encode:pu(n,fu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:WS("htmlAttributes",n),linkTags:Fd("link",["rel","href"],n),metaTags:Fd("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Fd("noscript",["innerHTML"],n),onChangeClientState:xq(n),scriptTags:Fd("script",["src","innerHTML"],n),styleTags:Fd("style",["cssText"],n),title:bq(n),titleAttributes:WS("titleAttributes",n),prioritizeSeoTags:Eq(n,fu.PRIORITIZE_SEO_TAGS)}),rj=n=>Array.isArray(n)?n.join(""):n,Tq=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},US=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(Tq(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},w_=(n,e)=>({...n,[e]:void 0}),Pq=["noscript","script","style"],_A=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ij=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),kq=(n,e,t,r)=>{const i=ij(t),s=rj(e);return i?`<${n} ${Gr}="true" ${i}>${_A(s,r)}</${n}>`:`<${n} ${Gr}="true">${_A(s,r)}</${n}>`},Iq=(n,e,t=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,h)=>{const d=typeof s[h]>"u"?h:`${h}="${_A(s[h],t)}"`;return c?`${c} ${d}`:d},""),a=s.innerHTML||s.cssText||"",l=Pq.indexOf(n)===-1;return`${r}<${n} ${Gr}="true" ${o}${l?"/>":`>${a}</${n}>`}`},""),sj=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=UT[r];return t[i||r]=n[r],t},e),_q=(n,e,t)=>{const r={key:e,[Gr]:!0},i=sj(t,r);return[ee.createElement("title",i,e)]},pv=(n,e)=>e.map((t,r)=>{const i={key:r,[Gr]:!0};return Object.keys(t).forEach(s=>{const a=UT[s]||s;if(a==="innerHTML"||a==="cssText"){const l=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=t[s]}),ee.createElement(n,i)}),or=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>_q(n,e.title,e.titleAttributes),toString:()=>kq(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>sj(e),toString:()=>ij(e)};default:return{toComponent:()=>pv(n,e),toString:()=>Iq(n,e,t)}}},Rq=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=US(n,zS.meta),s=US(e,zS.link),o=US(t,zS.script);return{priorityMethods:{toComponent:()=>[...pv("meta",i.priority),...pv("link",s.priority),...pv("script",o.priority)],toString:()=>`${or("meta",i.priority,r)} ${or("link",s.priority,r)} ${or("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},Mq=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=n;let{linkTags:h,metaTags:d,scriptTags:f}=n,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:h,metaTags:d,scriptTags:f}=Rq(n)),{priority:m,base:or("base",e,r),bodyAttributes:or("bodyAttributes",t,r),htmlAttributes:or("htmlAttributes",i,r),link:or("link",h,r),meta:or("meta",d,r),noscript:or("noscript",s,r),script:or("script",f,r),style:or("style",o,r),title:or("title",{title:a,titleAttributes:l},r)}},RA=Mq,Fy=[],oj=!!(typeof window<"u"&&window.document&&window.document.createElement),MA=class{constructor(n,e){V(this,"instances",[]);V(this,"canUseDOM",oj);V(this,"context");V(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Fy:this.instances,add:n=>{(this.canUseDOM?Fy:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Fy:this.instances).indexOf(n);(this.canUseDOM?Fy:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=RA({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Lq={},aj=ee.createContext(Lq),vu,lj=(vu=class extends E.Component{constructor(t){super(t);V(this,"helmetData");this.helmetData=new MA(this.props.context||{},vu.canUseDOM)}render(){return ee.createElement(aj.Provider,{value:this.helmetData.value},this.props.children)}},V(vu,"canUseDOM",oj),vu),Rc=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Gr}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(n);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const h=c,d=typeof a[h]>"u"?"":a[h];l.setAttribute(c,d)}l.setAttribute(Gr,"true"),i.some((c,h)=>(o=h,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>t.appendChild(a)),{oldTags:i,newTags:s}},LA=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Gr),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";t.getAttribute(a)!==l&&t.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)t.removeAttribute(s[a]);i.length===s.length?t.removeAttribute(Gr):t.getAttribute(Gr)!==o.join(",")&&t.setAttribute(Gr,o.join(","))},Nq=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=rj(n)),LA("title",e)},b_=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:h,title:d,titleAttributes:f}=n;LA("body",r),LA("html",i),Nq(d,f);const m={baseTag:Rc("base",t),linkTags:Rc("link",s),metaTags:Rc("meta",o),noscriptTags:Rc("noscript",a),scriptTags:Rc("script",c),styleTags:Rc("style",h)},y={},g={};Object.keys(m).forEach(A=>{const{newTags:x,oldTags:S}=m[A];x.length&&(y[A]=x),S.length&&(g[A]=m[A].oldTags)}),e&&e(),l(n,y,g)},Bd=null,Dq=n=>{Bd&&cancelAnimationFrame(Bd),n.defer?Bd=requestAnimationFrame(()=>{b_(n,()=>{Bd=null})}):(b_(n),Bd=null)},Oq=Dq,x_=class extends E.Component{constructor(){super(...arguments);V(this,"rendered",!1)}shouldComponentUpdate(e){return!vq(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=Cq(e.get().map(s=>{const o={...s.props};return delete o.context,o}));lj.canUseDOM?Oq(i):RA&&(r=RA(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},n1,NA=(n1=class extends E.Component{shouldComponentUpdate(n){return!pq(w_(this.props,"helmetData"),w_(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return y_(v_.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${v_.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),y_(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return ee.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[wq[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof MA)){const i=r;r=new MA(i.context,!0),delete t.helmetData}return r?ee.createElement(x_,{...t,context:r.value}):ee.createElement(aj.Consumer,null,i=>ee.createElement(x_,{...t,context:i}))}},V(n1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),n1);const jq="modulepreload",Fq=function(n){return"/"+n},S_={},Bq=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Fq(s),s in S_)return;S_[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":jq,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},dn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),DA=[.001,0,0,.001,0,0],GS=1.35,Un={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ei={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cj="pdfjs_internal_editor_",oe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},uj={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Mf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Mc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Jg={ERRORS:0,WARNINGS:1,INFOS:5},up={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},By={moveTo:0,lineTo:1,curveTo:2,closePath:3},hj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Px=Jg.WARNINGS;function Hq(n){Number.isInteger(n)&&(Px=n)}function Vq(){return Px}function kx(n){Px>=Jg.INFOS&&console.log(`Info: ${n}`)}function ae(n){Px>=Jg.WARNINGS&&console.log(`Warning: ${n}`)}function Re(n){throw new Error(n)}function ft(n,e){n||Re(e)}function $q(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function GT(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Kq(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return $q(r)?r:null}function KT(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&GT(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ye(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ec=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class A_ extends Ec{constructor(e,t){super(e,"PasswordException"),this.code=t}}class KS extends Ec{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ow extends Ec{constructor(e){super(e,"InvalidPDFException")}}class hp extends Ec{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class zq extends Ec{constructor(e){super(e,"FormatError")}}class Ms extends Ec{constructor(e){super(e,"AbortException")}}function dj(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Re("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Zg(n){typeof n!="string"&&Re("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Wq(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Uq(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Gq(){try{return new Function(""),!0}catch{return!1}}class Rt{static get isLittleEndian(){return ye(this,"isLittleEndian",Uq())}static get isEvalSupported(){return ye(this,"isEvalSupported",Gq())}static get isOffscreenCanvasSupported(){return ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ye(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ye(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ye(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const YS=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var wu,mv,yp,OA;class ne{static makeHexColor(e,t,r){return`#${YS[e]}${YS[t]}${YS[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let h=0;h<6;h+=2){const d=e[r+h],f=e[r+h+1];e[r+h]=d*i+f*o+l,e[r+h+1]=d*s+f*a+c}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5],h=e[0],d=e[1],f=e[2],m=e[3];let y=i*h+l,g=y,A=i*f+l,x=A,S=a*d+c,b=S,p=a*m+c,w=p;if(s!==0||o!==0){const T=s*h,k=s*f,_=o*d,R=o*m;y+=_,x+=_,A+=R,g+=R,S+=T,w+=T,p+=k,b+=k}r[0]=Math.min(r[0],y,A,g,x),r[1]=Math.min(r[1],S,p,b,w),r[2]=Math.max(r[2],y,A,g,x),r[3]=Math.max(r[3],S,p,b,w)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,l=r*s+i*o,c=s**2+o**2,h=(a+c)/2,d=Math.sqrt(h**2-(a*c-l**2));t[0]=Math.sqrt(h+d||1),t[1]=Math.sqrt(h-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l),I(this,yp,OA).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),I(this,yp,OA).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c)}}wu=new WeakSet,mv=function(e,t,r,i,s,o,a,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,m=f*c,y=d*(d*(d*e+3*c*t)+3*f*r)+m*i,g=d*(d*(d*s+3*c*o)+3*f*a)+m*l;h[0]=Math.min(h[0],y),h[1]=Math.min(h[1],g),h[2]=Math.max(h[2],y),h[3]=Math.max(h[3],g)},yp=new WeakSet,OA=function(e,t,r,i,s,o,a,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&I(this,wu,mv).call(this,e,t,r,i,s,o,a,l,-d/h,f);return}const m=h**2-4*d*c;if(m<0)return;const y=Math.sqrt(m),g=2*c;I(this,wu,mv).call(this,e,t,r,i,s,o,a,l,(-h+y)/g,f),I(this,wu,mv).call(this,e,t,r,i,s,o,a,l,(-h-y)/g,f)},C(ne,wu),C(ne,yp);function Kq(n){return decodeURIComponent(escape(n))}let qS=null,E_=null;function fj(n){return qS||(qS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,E_=new Map([["ﬅ","ſt"]])),n.replaceAll(qS,(e,t,r)=>t?t.normalize("NFKC"):E_.get(r))}function YT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),dj(n)}const qT="pdfjs_internal_id_";function Yq(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function Qt(n,e,t){return Math.min(Math.max(n,e),t)}function pj(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(dj(n))}function qq(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Zg(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Di="http://www.w3.org/2000/svg",Pa=class Pa{};V(Pa,"CSS",96),V(Pa,"PDF",72),V(Pa,"PDF_TO_CSS_UNITS",Pa.CSS/Pa.PDF);let Ls=Pa;async function Cd(n,e="text"){if(Qd(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class ey{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let h,d,f,m;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,d=0,f=0,m=1;break;case 90:h=0,d=1,f=1,m=0;break;case 270:h=0,d=-1,f=-1,m=0;break;case 0:h=1,d=0,f=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,m=-m);let y,g,A,x;h===0?(y=Math.abs(c-e[1])*r+s,g=Math.abs(l-e[0])*r+o,A=(e[3]-e[1])*r,x=(e[2]-e[0])*r):(y=Math.abs(l-e[0])*r+s,g=Math.abs(c-e[1])*r+o,A=(e[2]-e[0])*r,x=(e[3]-e[1])*r),this.transform=[h*r,d*r,f*r,m*r,y-h*r*l-f*r*c,g-d*r*l-m*r*c],this.width=A,this.height=x}get rawDims(){const e=this.viewBox;return ye(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new ey({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return ne.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];ne.applyTransform(t,this.transform);const r=[e[2],e[3]];return ne.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return ne.applyInverseTransform(r,this.transform),r}}class Ix extends Ec{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function ty(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function _x(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function mj(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function gj(n,e="document.pdf"){if(typeof n!="string")return e;if(ty(n))return ae('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},s=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(s.test(o))return i(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const c of a)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class C_{constructor(){V(this,"started",Object.create(null));V(this,"times",[])}time(e){e in this.started&&ae(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ae(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Qd(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ar(n){n.preventDefault()}function ot(n){n.preventDefault(),n.stopPropagation()}function Xq(n){console.log("Deprecated API usage: "+n)}var vp;class Rx{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,vp)||P(this,vp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,vp).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}vp=new WeakMap,C(Rx,vp,void 0);function yj(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new ey({viewBox:s,userUnit:1,scale:e,rotation:t})}function XT(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ae(`Not a valid color format: "${n}"`),[0,0,0])}function Qq(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,XT(r))}e.remove()}function Ye(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function ei(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function ia(n,e,t=!1,r=!0){if(e instanceof ey){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Rt.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,h=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Jr{constructor(){const{pixelRatio:e}=Jr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=Jr.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*t))),i!==-1&&(a=i/e,l=i/t);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const jw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var qs,Na,ar,Xs,wp,bu,bp,Ww,vj,Uw,wj,Gw,bj,Da,Jd,xu,gv;const Bi=class Bi{constructor(e){C(this,Uw);C(this,Gw);C(this,Da);C(this,xu);C(this,qs,null);C(this,Na,null);C(this,ar,void 0);C(this,Xs,null);C(this,wp,null);C(this,bu,null);P(this,ar,e),u(Bi,bp)||P(Bi,bp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=P(this,qs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,ar)._uiManager._signal;e.addEventListener("contextmenu",Ar,{signal:t}),e.addEventListener("pointerdown",I(Bi,Ww,vj),{signal:t});const r=P(this,Xs,document.createElement("div"));r.className="buttons",e.append(r);const i=u(this,ar).toolbarPosition;if(i){const{style:s}=e,o=u(this,ar)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return u(this,qs)}hide(){var e;u(this,qs).classList.add("hidden"),(e=u(this,Na))==null||e.hideDropdown()}show(){var e;u(this,qs).classList.remove("hidden"),(e=u(this,wp))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=u(this,ar),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",u(Bi,bp)[e]),I(this,Da,Jd).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),u(this,Xs).append(r)}async addAltText(e){const t=await e.render();I(this,Da,Jd).call(this,t),u(this,Xs).append(t,u(this,xu,gv)),P(this,wp,e)}addColorPicker(e){P(this,Na,e);const t=e.renderButton();I(this,Da,Jd).call(this,t),u(this,Xs).append(t,u(this,xu,gv))}async addEditSignatureButton(e){const t=P(this,bu,await e.renderEditButton(u(this,ar)));I(this,Da,Jd).call(this,t),u(this,Xs).append(t,u(this,xu,gv))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){u(this,bu)&&(u(this,bu).title=e)}remove(){var e;u(this,qs).remove(),(e=u(this,Na))==null||e.destroy(),P(this,Na,null)}};qs=new WeakMap,Na=new WeakMap,ar=new WeakMap,Xs=new WeakMap,wp=new WeakMap,bu=new WeakMap,bp=new WeakMap,Ww=new WeakSet,vj=function(e){e.stopPropagation()},Uw=new WeakSet,wj=function(e){u(this,ar)._focusEventsAllowed=!1,ot(e)},Gw=new WeakSet,bj=function(e){u(this,ar)._focusEventsAllowed=!0,ot(e)},Da=new WeakSet,Jd=function(e){const t=u(this,ar)._uiManager._signal;e.addEventListener("focusin",I(this,Uw,wj).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",I(this,Gw,bj).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ar,{signal:t})},xu=new WeakSet,gv=function(){const e=document.createElement("div");return e.className="divider",e},C(Bi,Ww),C(Bi,bp,null);let jA=Bi;var xp,Oa,ja,Kw,xj,Yw,Sj,qw,Aj;class Jq{constructor(e){C(this,Kw);C(this,Yw);C(this,qw);C(this,xp,null);C(this,Oa,null);C(this,ja,void 0);P(this,ja,e)}show(e,t,r){const[i,s]=I(this,Yw,Sj).call(this,t,r),{style:o}=u(this,Oa)||P(this,Oa,I(this,Kw,xj).call(this));e.append(u(this,Oa)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Oa).remove()}}xp=new WeakMap,Oa=new WeakMap,ja=new WeakMap,Kw=new WeakSet,xj=function(){const e=P(this,Oa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ar,{signal:u(this,ja)._signal});const t=P(this,xp,document.createElement("div"));return t.className="buttons",e.append(t),I(this,qw,Aj).call(this),e},Yw=new WeakSet,Sj=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},qw=new WeakSet,Aj=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=u(this,ja)._signal;e.addEventListener("contextmenu",Ar,{signal:r}),e.addEventListener("click",()=>{u(this,ja).highlightSelection("floating_button")},{signal:r}),u(this,xp).append(e)};function Ej(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Xw;class Zq{constructor(){C(this,Xw,0)}get id(){return`${cj}${rn(this,Xw)._++}`}}Xw=new WeakMap;var Su,Sp,Yt,Au,yv;const uP=class uP{constructor(){C(this,Au);C(this,Su,YT());C(this,Sp,0);C(this,Yt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ye(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return I(this,Au,yv).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return I(this,Au,yv).call(this,e,e)}async getFromBlob(e,t){const r=await t;return I(this,Au,yv).call(this,e,r)}async getFromId(e){u(this,Yt)||P(this,Yt,new Map);const t=u(this,Yt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,Yt)||P(this,Yt,new Map);let r=u(this,Yt).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${u(this,Su)}_${rn(this,Sp)._++}`,refCounter:1,isSvg:!1},u(this,Yt).set(e,r),u(this,Yt).set(r.id,r),r}getSvgUrl(e){const t=u(this,Yt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;u(this,Yt)||P(this,Yt,new Map);const t=u(this,Yt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Su)}_`)}};Su=new WeakMap,Sp=new WeakMap,Yt=new WeakMap,Au=new WeakSet,yv=async function(e,t){u(this,Yt)||P(this,Yt,new Map);let r=u(this,Yt).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,Su)}_${rn(this,Sp)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Cd(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=uP._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){ae(i),r=null}return u(this,Yt).set(e,r),r&&u(this,Yt).set(r.id,r),r};let FA=uP;var it,Qs,Ap,Ke;class eX{constructor(e=128){C(this,it,[]);C(this,Qs,!1);C(this,Ap,void 0);C(this,Ke,-1);P(this,Ap,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),u(this,Qs))return;const l={cmd:e,undo:t,post:r,type:s};if(u(this,Ke)===-1){u(this,it).length>0&&(u(this,it).length=0),P(this,Ke,0),u(this,it).push(l);return}if(o&&u(this,it)[u(this,Ke)].type===s){a&&(l.undo=u(this,it)[u(this,Ke)].undo),u(this,it)[u(this,Ke)]=l;return}const c=u(this,Ke)+1;c===u(this,Ap)?u(this,it).splice(0,1):(P(this,Ke,c),c<u(this,it).length&&u(this,it).splice(c)),u(this,it).push(l)}undo(){if(u(this,Ke)===-1)return;P(this,Qs,!0);const{undo:e,post:t}=u(this,it)[u(this,Ke)];e(),t==null||t(),P(this,Qs,!1),P(this,Ke,u(this,Ke)-1)}redo(){if(u(this,Ke)<u(this,it).length-1){P(this,Ke,u(this,Ke)+1),P(this,Qs,!0);const{cmd:e,post:t}=u(this,it)[u(this,Ke)];e(),t==null||t(),P(this,Qs,!1)}}hasSomethingToUndo(){return u(this,Ke)!==-1}hasSomethingToRedo(){return u(this,Ke)<u(this,it).length-1}cleanType(e){if(u(this,Ke)!==-1){for(let t=u(this,Ke);t>=0;t--)if(u(this,it)[t].type!==e){u(this,it).splice(t+1,u(this,Ke)-t),P(this,Ke,t);return}u(this,it).length=0,P(this,Ke,-1)}}destroy(){P(this,it,null)}}it=new WeakMap,Qs=new WeakMap,Ap=new WeakMap,Ke=new WeakMap;var Qw,Cj;class ny{constructor(e){C(this,Qw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Rt.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(I(this,Qw,Cj).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||ot(t))}}Qw=new WeakSet,Cj=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Jw=class Jw{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Qq(e),ye(this,"_colors",e)}convert(e){const t=XT(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return Jw._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?ne.makeHexColor(...t):e}};V(Jw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let BA=Jw;var Eu,Rn,mt,Lt,Cu,$i,Tu,lr,Js,Zs,Pu,Fa,ii,Ir,Ba,Ep,Cp,ku,Tp,si,eo,Iu,to,oi,Zw,no,Pp,ro,Ha,Va,io,kp,bt,ke,zi,so,$a,Ip,_p,oo,ai,Wi,Rp,Mp,cr,_u,vv,Lp,HA,e0,Tj,t0,Pj,Ru,wv,n0,kj,r0,Ij,i0,_j,Np,VA,s0,Rj,Dp,$A,Op,zA,o0,Mj,Nt,sn,_r,Oi,a0,Lj,l0,Nj,jp,WA,c0,Dj,za,Zd,Fp,UA;const nu=class nu{constructor(e,t,r,i,s,o,a,l,c,h,d,f,m,y,g){C(this,_u);C(this,Lp);C(this,e0);C(this,t0);C(this,Ru);C(this,n0);C(this,r0);C(this,i0);C(this,Np);C(this,s0);C(this,Dp);C(this,Op);C(this,o0);C(this,Nt);C(this,_r);C(this,a0);C(this,l0);C(this,jp);C(this,c0);C(this,za);C(this,Fp);C(this,Eu,new AbortController);C(this,Rn,null);C(this,mt,new Map);C(this,Lt,new Map);C(this,Cu,null);C(this,$i,null);C(this,Tu,null);C(this,lr,new eX);C(this,Js,null);C(this,Zs,null);C(this,Pu,0);C(this,Fa,new Set);C(this,ii,null);C(this,Ir,null);C(this,Ba,new Set);V(this,"_editorUndoBar",null);C(this,Ep,!1);C(this,Cp,!1);C(this,ku,!1);C(this,Tp,null);C(this,si,null);C(this,eo,null);C(this,Iu,null);C(this,to,!1);C(this,oi,null);C(this,Zw,new Zq);C(this,no,!1);C(this,Pp,!1);C(this,ro,null);C(this,Ha,null);C(this,Va,null);C(this,io,null);C(this,kp,null);C(this,bt,oe.NONE);C(this,ke,new Set);C(this,zi,null);C(this,so,null);C(this,$a,null);C(this,Ip,null);C(this,_p,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,oo,[0,0]);C(this,ai,null);C(this,Wi,null);C(this,Rp,null);C(this,Mp,null);C(this,cr,null);const A=this._signal=u(this,Eu).signal;P(this,Wi,e),P(this,Rp,t),P(this,Mp,r),P(this,Cu,i),P(this,so,s),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:A}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),o._on("setpreference",this.onSetPreference.bind(this),{signal:A}),o._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:A}),I(this,n0,kj).call(this),I(this,o0,Mj).call(this),I(this,Np,VA).call(this),P(this,$i,a.annotationStorage),P(this,Tp,a.filterFactory),P(this,$a,l),P(this,Iu,c||null),P(this,Ep,h),P(this,Cp,d),P(this,ku,f),P(this,kp,m||null),this.viewParameters={realScale:Ls.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const e=nu.prototype,t=o=>u(o,Wi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ye(this,"_keyboardManager",new ny([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Wi).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Wi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,o,a,l;(e=u(this,cr))==null||e.resolve(),P(this,cr,null),(t=u(this,Eu))==null||t.abort(),P(this,Eu,null),this._signal=null;for(const c of u(this,Lt).values())c.destroy();u(this,Lt).clear(),u(this,mt).clear(),u(this,Ba).clear(),(r=u(this,io))==null||r.clear(),P(this,Rn,null),u(this,ke).clear(),u(this,lr).destroy(),(i=u(this,Cu))==null||i.destroy(),(s=u(this,so))==null||s.destroy(),(o=u(this,oi))==null||o.hide(),P(this,oi,null),(a=u(this,Va))==null||a.destroy(),P(this,Va,null),u(this,si)&&(clearTimeout(u(this,si)),P(this,si,null)),u(this,ai)&&(clearTimeout(u(this,ai)),P(this,ai,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,kp)}get useNewAltTextFlow(){return u(this,Cp)}get useNewAltTextWhenAddingImage(){return u(this,ku)}get hcmFilter(){return ye(this,"hcmFilter",u(this,$a)?u(this,Tp).addHCMFilter(u(this,$a).foreground,u(this,$a).background):"none")}get direction(){return ye(this,"direction",getComputedStyle(u(this,Wi)).direction)}get highlightColors(){return ye(this,"highlightColors",u(this,Iu)?new Map(u(this,Iu).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return ye(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),P(this,Zs,e)}setMainHighlightColorPicker(e){P(this,Va,e)}editAltText(e,t=!1){var r;(r=u(this,Cu))==null||r.editAltText(this,e,t)}getSignature(e){var t;(t=u(this,so))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return u(this,so)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":P(this,ku,t);break}}onPageChanging({pageNumber:e}){P(this,Pu,e-1)}focusMainContainer(){u(this,Wi).focus()}findParent(e,t){for(const r of u(this,Lt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){u(this,Rp).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,Ba).add(e)}removeShouldRescale(e){u(this,Ba).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Ls.PDF_TO_CSS_UNITS;for(const r of u(this,Ba))r.onScaleChanging();(t=u(this,Zs))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=I(this,_u,vv).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(c);if(!h)return;t.empty();const d=I(this,Lp,HA).call(this,c),f=u(this,bt)===oe.NONE,m=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(oe.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,$i)&&!u(this,$i).has(e.id)&&u(this,$i).setValue(e.id,e)}a11yAlert(e,t=null){const r=u(this,Mp);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,u(this,to)&&(P(this,to,!1),I(this,Ru,wv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,ke))if(t.div.contains(e)){P(this,Ha,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,Ha))return;const[e,t]=u(this,Ha);P(this,Ha,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){I(this,Np,VA).call(this),I(this,Dp,$A).call(this)}removeEditListeners(){I(this,s0,Rj).call(this),I(this,Op,zA).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of u(this,Ir))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of u(this,Ir))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=u(this,Rn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,ke)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of u(this,Ir))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){ae(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)I(this,jp,WA).call(this,l);I(this,Fp,UA).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ae(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,bt)!==oe.NONE&&!this.isEditorHandlingKeyboard&&nu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,to)&&(P(this,to,!1),I(this,Ru,wv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(I(this,r0,Ij).call(this),I(this,Dp,$A).call(this),I(this,Nt,sn).call(this,{isEditing:u(this,bt)!==oe.NONE,isEmpty:I(this,za,Zd).call(this),hasSomethingToUndo:u(this,lr).hasSomethingToUndo(),hasSomethingToRedo:u(this,lr).hasSomethingToRedo(),hasSelectedEditor:!1})):(I(this,i0,_j).call(this),I(this,Op,zA).call(this),I(this,Nt,sn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Ir)){P(this,Ir,e);for(const t of u(this,Ir))I(this,_r,Oi).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,Zw).id}get currentLayer(){return u(this,Lt).get(u(this,Pu))}getLayer(e){return u(this,Lt).get(e)}get currentPageIndex(){return u(this,Pu)}addLayer(e){u(this,Lt).set(e.pageIndex,e),u(this,no)?e.enable():e.disable()}removeLayer(e){u(this,Lt).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1){var s,o,a;if(u(this,bt)!==e&&!(u(this,cr)&&(await u(this,cr).promise,!u(this,cr)))){if(P(this,cr,Promise.withResolvers()),(s=u(this,Zs))==null||s.commitOrRemove(),P(this,bt,e),e===oe.NONE){this.setEditingState(!1),I(this,l0,Nj).call(this),(o=this._editorUndoBar)==null||o.hide(),u(this,cr).resolve();return}e===oe.SIGNATURE&&await((a=u(this,so))==null?void 0:a.loadSignatures()),this.setEditingState(!0),await I(this,a0,Lj).call(this),this.unselectAll();for(const l of u(this,Lt).values())l.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),u(this,cr).resolve();return}for(const l of u(this,mt).values())l.annotationElementId===t||l.id===t?(this.setSelected(l),i&&l.enterInEditMode()):l.unselect();u(this,cr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==u(this,bt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var r;if(u(this,Ir)){switch(e){case xe.CREATE:this.currentLayer.addNewEditor(t);return;case xe.HIGHLIGHT_DEFAULT_COLOR:(r=u(this,Va))==null||r.updateColor(t);break;case xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Ip)||P(this,Ip,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,ke))i.updateParams(e,t);for(const i of u(this,Ir))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of u(this,mt).values())o.editorType===e&&o.show(t);(((s=u(this,Ip))==null?void 0:s.get(xe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&I(this,_r,Oi).call(this,[[xe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,Pp)!==e){P(this,Pp,e);for(const t of u(this,Lt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of u(this,mt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return u(this,mt).get(e)}addEditor(e){u(this,mt).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(u(this,si)&&clearTimeout(u(this,si)),P(this,si,setTimeout(()=>{this.focusMainContainer(),P(this,si,null)},0))),u(this,mt).delete(e.id),e.annotationElementId&&((t=u(this,io))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!u(this,Fa).has(e.annotationElementId))&&((r=u(this,$i))==null||r.remove(e.id))}addDeletedAnnotationElement(e){u(this,Fa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Fa).has(e)}removeDeletedAnnotationElement(e){u(this,Fa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Rn)!==e&&(P(this,Rn,e),e&&I(this,_r,Oi).call(this,e.propertiesToUpdate))}updateUI(e){u(this,c0,Dj)===e&&I(this,_r,Oi).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){I(this,_r,Oi).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,ke).has(e)){u(this,ke).delete(e),e.unselect(),I(this,Nt,sn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,ke).add(e),e.select(),I(this,_r,Oi).call(this,e.propertiesToUpdate),I(this,Nt,sn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=u(this,Zs))==null||t.commitOrRemove();for(const r of u(this,ke))r!==e&&r.unselect();u(this,ke).clear(),u(this,ke).add(e),e.select(),I(this,_r,Oi).call(this,e.propertiesToUpdate),I(this,Nt,sn).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,ke).has(e)}get firstSelectedEditor(){return u(this,ke).values().next().value}unselect(e){e.unselect(),u(this,ke).delete(e),I(this,Nt,sn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,ke).size!==0}get isEnterHandled(){return u(this,ke).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,lr).undo(),I(this,Nt,sn).call(this,{hasSomethingToUndo:u(this,lr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:I(this,za,Zd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,lr).redo(),I(this,Nt,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,lr).hasSomethingToRedo(),isEmpty:I(this,za,Zd).call(this)})}addCommands(e){u(this,lr).add(e),I(this,Nt,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:I(this,za,Zd).call(this)})}cleanUndoStack(e){u(this,lr).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,ke)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const o of t)I(this,jp,WA).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Rn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Rn)||this.hasSelection}selectAll(){for(const e of u(this,ke))e.commit();I(this,Fp,UA).call(this,u(this,mt).values())}unselectAll(){var e;if(!(u(this,Rn)&&(u(this,Rn).commitOrRemove(),u(this,bt)!==oe.NONE))&&!((e=u(this,Zs))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,ke))t.unselect();u(this,ke).clear(),I(this,Nt,sn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,oo)[0]+=e,u(this,oo)[1]+=t;const[i,s]=u(this,oo),o=[...u(this,ke)],a=1e3;u(this,ai)&&clearTimeout(u(this,ai)),P(this,ai,setTimeout(()=>{P(this,ai,null),u(this,oo)[0]=u(this,oo)[1]=0,this.addCommands({cmd:()=>{for(const l of o)u(this,mt).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)u(this,mt).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),P(this,ii,new Map);for(const e of u(this,ke))u(this,ii).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,ii))return!1;this.disableUserSelect(!1);const e=u(this,ii);P(this,ii,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(u(this,mt).has(i.id)){const l=u(this,Lt).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,ii))for(const r of u(this,ii).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,ke).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Rn)===e}getActive(){return u(this,Rn)}getMode(){return u(this,bt)}get imageManager(){return ye(this,"imageManager",new FA)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,h=t.rangeCount;c<h;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,h,d,f)=>({x:(h-i)/o,y:1-(c+d-r)/s,width:f/o,height:d/s});break;case"180":a=(c,h,d,f)=>({x:1-(c+d-r)/s,y:1-(h+f-i)/o,width:d/s,height:f/o});break;case"270":a=(c,h,d,f)=>({x:1-(h+f-i)/o,y:(c-r)/s,width:f/o,height:d/s});break;default:a=(c,h,d,f)=>({x:(c-r)/s,y:(h-i)/o,width:d/s,height:f/o});break}const l=[];for(let c=0,h=t.rangeCount;c<h;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:m,width:y,height:g}of d.getClientRects())y===0||g===0||l.push(a(f,m,y,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Tu)||P(this,Tu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Tu))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,Tu))==null?void 0:i.get(e.data.id);if(!t)return;const r=u(this,$i).getRawValue(t);r&&(u(this,bt)===oe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=u(this,io))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),u(this,io).delete(e))}addMissingCanvas(e,t){(u(this,io)||P(this,io,new Map)).set(e,t)}};Eu=new WeakMap,Rn=new WeakMap,mt=new WeakMap,Lt=new WeakMap,Cu=new WeakMap,$i=new WeakMap,Tu=new WeakMap,lr=new WeakMap,Js=new WeakMap,Zs=new WeakMap,Pu=new WeakMap,Fa=new WeakMap,ii=new WeakMap,Ir=new WeakMap,Ba=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,ku=new WeakMap,Tp=new WeakMap,si=new WeakMap,eo=new WeakMap,Iu=new WeakMap,to=new WeakMap,oi=new WeakMap,Zw=new WeakMap,no=new WeakMap,Pp=new WeakMap,ro=new WeakMap,Ha=new WeakMap,Va=new WeakMap,io=new WeakMap,kp=new WeakMap,bt=new WeakMap,ke=new WeakMap,zi=new WeakMap,so=new WeakMap,$a=new WeakMap,Ip=new WeakMap,_p=new WeakMap,oo=new WeakMap,ai=new WeakMap,Wi=new WeakMap,Rp=new WeakMap,Mp=new WeakMap,cr=new WeakMap,_u=new WeakSet,vv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Lp=new WeakSet,HA=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of u(this,Lt).values())if(r.hasTextLayer(e))return r;return null},e0=new WeakSet,Tj=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=I(this,_u,vv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(u(this,oi)||P(this,oi,new Jq(this)),u(this,oi).show(r,i,this.direction==="ltr"))},t0=new WeakSet,Pj=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){u(this,zi)&&((s=u(this,oi))==null||s.hide(),P(this,zi,null),I(this,Nt,sn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,zi))return;const i=I(this,_u,vv).call(this,e).closest(".textLayer");if(!i){u(this,zi)&&((o=u(this,oi))==null||o.hide(),P(this,zi,null),I(this,Nt,sn).call(this,{hasSelectedText:!1}));return}if((a=u(this,oi))==null||a.hide(),P(this,zi,t),I(this,Nt,sn).call(this,{hasSelectedText:!0}),!(u(this,bt)!==oe.HIGHLIGHT&&u(this,bt)!==oe.NONE)&&(u(this,bt)===oe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),P(this,to,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,bt)===oe.HIGHLIGHT?I(this,Lp,HA).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&I(this,Ru,wv).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},Ru=new WeakSet,wv=function(e=""){u(this,bt)===oe.HIGHLIGHT?this.highlightSelection(e):u(this,Ep)&&I(this,e0,Tj).call(this)},n0=new WeakSet,kj=function(){document.addEventListener("selectionchange",I(this,t0,Pj).bind(this),{signal:this._signal})},r0=new WeakSet,Ij=function(){if(u(this,eo))return;P(this,eo,new AbortController);const e=this.combinedSignal(u(this,eo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},i0=new WeakSet,_j=function(){var e;(e=u(this,eo))==null||e.abort(),P(this,eo,null)},Np=new WeakSet,VA=function(){if(u(this,ro))return;P(this,ro,new AbortController);const e=this.combinedSignal(u(this,ro));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},s0=new WeakSet,Rj=function(){var e;(e=u(this,ro))==null||e.abort(),P(this,ro,null)},Dp=new WeakSet,$A=function(){if(u(this,Js))return;P(this,Js,new AbortController);const e=this.combinedSignal(u(this,Js));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Op=new WeakSet,zA=function(){var e;(e=u(this,Js))==null||e.abort(),P(this,Js,null)},o0=new WeakSet,Mj=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Nt=new WeakSet,sn=function(e){Object.entries(e).some(([r,i])=>u(this,_p)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,_p),e)}),u(this,bt)===oe.HIGHLIGHT&&e.hasSelectedEditor===!1&&I(this,_r,Oi).call(this,[[xe.HIGHLIGHT_FREE,!0]]))},_r=new WeakSet,Oi=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},a0=new WeakSet,Lj=async function(){if(!u(this,no)){P(this,no,!0);const e=[];for(const t of u(this,Lt).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,mt).values())t.enable()}},l0=new WeakSet,Nj=function(){if(this.unselectAll(),u(this,no)){P(this,no,!1);for(const e of u(this,Lt).values())e.disable();for(const e of u(this,mt).values())e.disable()}},jp=new WeakSet,WA=function(e){const t=u(this,Lt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},c0=new WeakSet,Dj=function(){let e=null;for(e of u(this,ke));return e},za=new WeakSet,Zd=function(){if(u(this,mt).size===0)return!0;if(u(this,mt).size===1)for(const e of u(this,mt).values())return e.isEmpty();return!1},Fp=new WeakSet,UA=function(e){for(const t of u(this,ke))t.unselect();u(this,ke).clear();for(const t of e)t.isEmpty()||(u(this,ke).add(t),t.select());I(this,Nt,sn).call(this,{hasSelectedEditor:this.hasSelection})},V(nu,"TRANSLATE_SMALL",1),V(nu,"TRANSLATE_BIG",10);let sa=nu;var xt,li,Rr,Mu,ci,Mn,Lu,ui,bn,Ui,Wa,hi,ao,Ua,ef,Nu,bv;const on=class on{constructor(e){C(this,Ua);C(this,Nu);C(this,xt,null);C(this,li,!1);C(this,Rr,null);C(this,Mu,null);C(this,ci,null);C(this,Mn,null);C(this,Lu,!1);C(this,ui,null);C(this,bn,null);C(this,Ui,null);C(this,Wa,null);C(this,hi,!1);P(this,bn,e),P(this,hi,e._uiManager.useNewAltTextFlow),u(on,ao)||P(on,ao,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){on._l10n??(on._l10n=e)}async render(){const e=P(this,Rr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=P(this,Mu,document.createElement("span"));e.append(t),u(this,hi)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(on,ao).missing),t.setAttribute("data-l10n-id",u(on,ao)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=u(this,bn)._uiManager._signal;e.addEventListener("contextmenu",Ar,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),u(this,bn)._uiManager.editAltText(u(this,bn)),u(this,hi)&&u(this,bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Ua,ef)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(P(this,Lu,!0),i(s))},{signal:r}),await I(this,Nu,bv).call(this),e}finish(){u(this,Rr)&&(u(this,Rr).focus({focusVisible:u(this,Lu)}),P(this,Lu,!1))}isEmpty(){return u(this,hi)?u(this,xt)===null:!u(this,xt)&&!u(this,li)}hasData(){return u(this,hi)?u(this,xt)!==null||!!u(this,Ui):this.isEmpty()}get guessedText(){return u(this,Ui)}async setGuessedText(e){u(this,xt)===null&&(P(this,Ui,e),P(this,Wa,await on._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),I(this,Nu,bv).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,hi)||u(this,xt)){(t=u(this,ui))==null||t.remove(),P(this,ui,null);return}if(!u(this,ui)){const r=P(this,ui,document.createElement("div"));r.className="noAltTextBadge",u(this,bn).div.append(r)}u(this,ui).classList.toggle("hidden",!e)}serialize(e){let t=u(this,xt);return!e&&u(this,Ui)===t&&(t=u(this,Wa)),{altText:t,decorative:u(this,li),guessedText:u(this,Ui),textWithDisclaimer:u(this,Wa)}}get data(){return{altText:u(this,xt),decorative:u(this,li)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(P(this,Ui,r),P(this,Wa,i)),!(u(this,xt)===e&&u(this,li)===t)&&(s||(P(this,xt,e),P(this,li,t)),I(this,Nu,bv).call(this))}toggle(e=!1){u(this,Rr)&&(!e&&u(this,Mn)&&(clearTimeout(u(this,Mn)),P(this,Mn,null)),u(this,Rr).disabled=!e)}shown(){u(this,bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Ua,ef)}})}destroy(){var e,t;(e=u(this,Rr))==null||e.remove(),P(this,Rr,null),P(this,Mu,null),P(this,ci,null),(t=u(this,ui))==null||t.remove(),P(this,ui,null)}};xt=new WeakMap,li=new WeakMap,Rr=new WeakMap,Mu=new WeakMap,ci=new WeakMap,Mn=new WeakMap,Lu=new WeakMap,ui=new WeakMap,bn=new WeakMap,Ui=new WeakMap,Wa=new WeakMap,hi=new WeakMap,ao=new WeakMap,Ua=new WeakSet,ef=function(){return u(this,xt)&&"added"||u(this,xt)===null&&this.guessedText&&"review"||"missing"},Nu=new WeakSet,bv=async function(){var i,s,o;const e=u(this,Rr);if(!e)return;if(u(this,hi)){if(e.classList.toggle("done",!!u(this,xt)),e.setAttribute("data-l10n-id",u(on,ao)[u(this,Ua,ef)]),(i=u(this,Mu))==null||i.setAttribute("data-l10n-id",u(on,ao)[`${u(this,Ua,ef)}-label`]),!u(this,xt)){(s=u(this,ci))==null||s.remove();return}}else{if(!u(this,xt)&&!u(this,li)){e.classList.remove("done"),(o=u(this,ci))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,ci);if(!t){P(this,ci,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,bn).id}`;const a=100,l=u(this,bn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,Mn)),P(this,Mn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{P(this,Mn,setTimeout(()=>{P(this,Mn,null),u(this,ci).classList.add("show"),u(this,bn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,Mn)&&(clearTimeout(u(this,Mn)),P(this,Mn,null)),(c=u(this,ci))==null||c.classList.remove("show")},{signal:l})}u(this,li)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,xt)),t.parentNode||e.append(t);const r=u(this,bn).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},C(on,ao,null),V(on,"_l10n",null);let Fw=on;var Du,Ga,Bp,Hp,Vp,$p,zp,Gi,Ka,Ki,Ya,Yi,u0,Oj,h0,jj,d0,Fj;const hP=class hP{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){C(this,u0);C(this,h0);C(this,d0);C(this,Du,void 0);C(this,Ga,!1);C(this,Bp,null);C(this,Hp,void 0);C(this,Vp,void 0);C(this,$p,void 0);C(this,zp,void 0);C(this,Gi,null);C(this,Ka,void 0);C(this,Ki,null);C(this,Ya,void 0);C(this,Yi,null);P(this,Du,e),P(this,Bp,r),P(this,Hp,t),P(this,Vp,i),P(this,$p,s),P(this,zp,o),P(this,Ya,new AbortController),P(this,Ka,AbortSignal.any([a,u(this,Ya).signal])),e.addEventListener("touchstart",I(this,u0,Oj).bind(this),{passive:!1,signal:u(this,Ka)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Jr.pixelRatio}destroy(){var e,t;(e=u(this,Ya))==null||e.abort(),P(this,Ya,null),(t=u(this,Gi))==null||t.abort(),P(this,Gi,null)}};Du=new WeakMap,Ga=new WeakMap,Bp=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,$p=new WeakMap,zp=new WeakMap,Gi=new WeakMap,Ka=new WeakMap,Ki=new WeakMap,Ya=new WeakMap,Yi=new WeakMap,u0=new WeakSet,Oj=function(e){var i,s,o;if((i=u(this,Hp))!=null&&i.call(this))return;if(e.touches.length===1){if(u(this,Gi))return;const a=P(this,Gi,new AbortController),l=AbortSignal.any([u(this,Ka),a.signal]),c=u(this,Du),h={capture:!0,signal:l,passive:!1},d=f=>{var m;f.pointerType==="touch"&&((m=u(this,Gi))==null||m.abort(),P(this,Gi,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ot(f),d(f))},h),c.addEventListener("pointerup",d,h),c.addEventListener("pointercancel",d,h);return}if(!u(this,Yi)){P(this,Yi,new AbortController);const a=AbortSignal.any([u(this,Ka),u(this,Yi).signal]),l=u(this,Du),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",I(this,h0,jj).bind(this),c);const h=I(this,d0,Fj).bind(this);l.addEventListener("touchend",h,c),l.addEventListener("touchcancel",h,c),c.capture=!0,l.addEventListener("pointerdown",ot,c),l.addEventListener("pointermove",ot,c),l.addEventListener("pointercancel",ot,c),l.addEventListener("pointerup",ot,c),(s=u(this,Vp))==null||s.call(this)}if(ot(e),e.touches.length!==2||(o=u(this,Bp))!=null&&o.call(this)){P(this,Ki,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),P(this,Ki,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},h0=new WeakSet,jj=function(e){var p;if(!u(this,Ki)||e.touches.length!==2)return;ot(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:a}=r,l=u(this,Ki),{touch0X:c,touch0Y:h,touch1X:d,touch1Y:f}=l,m=d-c,y=f-h,g=o-i,A=a-s,x=Math.hypot(g,A)||1,S=Math.hypot(m,y)||1;if(!u(this,Ga)&&Math.abs(S-x)<=hP.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!u(this,Ga)){P(this,Ga,!0);return}const b=[(i+o)/2,(s+a)/2];(p=u(this,$p))==null||p.call(this,b,S,x)},d0=new WeakSet,Fj=function(e){var t;e.touches.length>=2||(u(this,Yi)&&(u(this,Yi).abort(),P(this,Yi,null),(t=u(this,zp))==null||t.call(this)),u(this,Ki)&&(ot(e),P(this,Ki,null),P(this,Ga,!1)))};let dp=hP;var qa,Mr,ze,Ou,lo,Wp,Xa,Dt,Qa,qi,co,Up,Ja,Ln,Gp,Za,Xi,di,ju,Fu,ur,el,Kp,f0,Yp,GA,qp,KA,Bu,xv,p0,Bj,m0,Hj,Xp,YA,Hu,Sv,Qp,qA,g0,Vj,y0,$j,v0,zj,Jp,XA,w0,Wj,Zp,QA,b0,Uj,x0,Gj,S0,Kj,em,JA,tl,tf;const pe=class pe{constructor(e){C(this,Yp);C(this,Bu);C(this,p0);C(this,m0);C(this,Xp);C(this,Hu);C(this,Qp);C(this,g0);C(this,y0);C(this,v0);C(this,Jp);C(this,w0);C(this,Zp);C(this,b0);C(this,x0);C(this,S0);C(this,em);C(this,tl);C(this,qa,null);C(this,Mr,null);C(this,ze,null);C(this,Ou,!1);C(this,lo,null);C(this,Wp,"");C(this,Xa,!1);C(this,Dt,null);C(this,Qa,null);C(this,qi,null);C(this,co,null);C(this,Up,"");C(this,Ja,!1);C(this,Ln,null);C(this,Gp,!1);C(this,Za,!1);C(this,Xi,!1);C(this,di,null);C(this,ju,0);C(this,Fu,0);C(this,ur,null);C(this,el,null);V(this,"isSelected",!1);V(this,"_isCopy",!1);V(this,"_editToolbar",null);V(this,"_initialOptions",Object.create(null));V(this,"_initialData",null);V(this,"_isVisible",!0);V(this,"_uiManager",null);V(this,"_focusEventsAllowed",!0);C(this,Kp,!1);C(this,f0,pe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=pe.prototype._resizeWithKeyboard,t=sa.TRANSLATE_SMALL,r=sa.TRANSLATE_BIG;return ye(this,"_resizerKeyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],pe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ye(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new tX({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(pe._l10n??(pe._l10n=e),pe._l10nResizer||(pe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),pe._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);pe._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Re("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Kp)}set _isDraggable(e){var t;P(this,Kp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,f0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):I(this,tl,tf).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Ja)?P(this,Ja,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){I(this,Yp,GA).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,Ln)||P(this,Ln,[this.x,this.y,this.width,this.height]),I(this,Yp,GA).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){u(this,Ln)||P(this,Ln,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:h}=r;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,Ln)&&(u(this,Ln)[0]!==this.x||u(this,Ln)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Ln)&&(u(this,Ln)[2]!==this.width||u(this,Ln)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=pe,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=Qt(s,0,r-a),o=Qt(o,0,i-l);break;case 90:s=Qt(s,0,r-l),o=Qt(o,a,i);break;case 180:s=Qt(s,a,r),o=Qt(o,l,i);break;case 270:s=Qt(s,l,r),o=Qt(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[c,h]=this.getBaseTranslation();s+=c,o+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return I(r=pe,qp,KA).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return I(r=pe,qp,KA).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,u(this,Xa)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!u(this,Xa)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!u(this,Xa)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,ze))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||u(this,Za))return this._editToolbar;this._editToolbar=new jA(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,ze))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return u(this,ze)||(Fw.initialize(pe._l10n),P(this,ze,new Fw(this)),u(this,qa)&&(u(this,ze).data=u(this,qa),P(this,qa,null))),u(this,ze)}get altTextData(){var e;return(e=u(this,ze))==null?void 0:e.data}set altTextData(e){u(this,ze)&&(u(this,ze).data=e)}get guessedAltText(){var e;return(e=u(this,ze))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,ze))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,ze))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,ze)&&!u(this,ze).isEmpty()}hasAltTextData(){var e;return((e=u(this,ze))==null?void 0:e.hasData())??!1}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=u(this,Ou)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),I(this,Zp,QA).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Ej(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,el)||P(this,el,new dp({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:I(this,g0,Vj).bind(this),onPinching:I(this,y0,$j).bind(this),onPinchEnd:I(this,v0,zj).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Rt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(P(this,Ja,!0),this._isDraggable){I(this,w0,Wj).call(this,e);return}I(this,Jp,XA).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,di)&&clearTimeout(u(this,di)),P(this,di,setTimeout(()=>{var e;P(this,di,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,h=t/i,d=this.x*s,f=this.y*o,m=this.width*s,y=this.height*o;switch(r){case 0:return[d+c+a,o-f-h-y+l,d+c+m+a,o-f-h+l];case 90:return[d+h+a,o-f+c+l,d+h+y+a,o-f+c+m+l];case 180:return[d-c-m+a,o-f+h+l,d-c+a,o-f+h+y+l];case 270:return[d-h-y+a,o-f-c-m+l,d-h+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),P(this,Za,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),P(this,Za,!1),!0):!1}isInEditMode(){return u(this,Za)}shouldGetKeyboardEvents(){return u(this,Xi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&r>0}rebuild(){I(this,Zp,QA).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Re("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});i.rotation=e.rotation,P(i,qa,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,c,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,co))==null||e.abort(),P(this,co,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,di)&&(clearTimeout(u(this,di)),P(this,di,null)),I(this,tl,tf).call(this),this.removeEditToolbar(),u(this,ur)){for(const r of u(this,ur).values())clearTimeout(r);P(this,ur,null)}this.parent=null,(t=u(this,el))==null||t.destroy(),P(this,el,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(I(this,p0,Bj).call(this),u(this,Dt).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),P(this,qi,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,Dt).children;if(!u(this,Mr)){P(this,Mr,Array.from(t));const o=I(this,b0,Uj).bind(this),a=I(this,x0,Gj).bind(this),l=this._uiManager._signal;for(const c of u(this,Mr)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",I(this,S0,Kj).bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",pe._l10nResizer[h])}}const r=u(this,Mr)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,Mr).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)u(this,Dt).append(u(this,Dt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)u(this,Dt).firstChild.before(u(this,Dt).lastChild);let o=0;for(const a of t){const c=u(this,Mr)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",pe._l10nResizer[c])}}I(this,em,JA).call(this,0),P(this,Xi,!0),u(this,Dt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,Xi)&&I(this,Qp,qA).call(this,u(this,Up),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){I(this,tl,tf).call(this),this.div.focus()}select(){var e,t,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=u(this,ze))==null||r.toggleAltTextBadge(!1)}}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=u(this,Dt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=u(this,ze))==null||s.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,Gp)}set isEditing(e){P(this,Gp,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){P(this,Xa,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,ur)||P(this,ur,new Map);const{action:r}=e;let i=u(this,ur).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,ur).delete(r),u(this,ur).size===0&&P(this,ur,null)},pe._telemetryTimeout),u(this,ur).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),P(this,Ou,!1)}disable(){this.div&&(this.div.tabIndex=-1),P(this,Ou,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};qa=new WeakMap,Mr=new WeakMap,ze=new WeakMap,Ou=new WeakMap,lo=new WeakMap,Wp=new WeakMap,Xa=new WeakMap,Dt=new WeakMap,Qa=new WeakMap,qi=new WeakMap,co=new WeakMap,Up=new WeakMap,Ja=new WeakMap,Ln=new WeakMap,Gp=new WeakMap,Za=new WeakMap,Xi=new WeakMap,di=new WeakMap,ju=new WeakMap,Fu=new WeakMap,ur=new WeakMap,el=new WeakMap,Kp=new WeakMap,f0=new WeakMap,Yp=new WeakSet,GA=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},qp=new WeakSet,KA=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Bu=new WeakSet,xv=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},p0=new WeakSet,Bj=function(){if(u(this,Dt))return;P(this,Dt,document.createElement("div")),u(this,Dt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");u(this,Dt).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",I(this,m0,Hj).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Ar,{signal:t}),i.tabIndex=-1}this.div.prepend(u(this,Dt))},m0=new WeakSet,Hj=function(e,t){var h;t.preventDefault();const{isMac:r}=Rt.platform;if(t.button!==0||t.ctrlKey&&r)return;(h=u(this,ze))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,P(this,Qa,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",I(this,Qp,qA).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ot,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ar,{signal:o}),P(this,qi,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=u(this,ze))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,I(this,Hu,Sv).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},Xp=new WeakSet,YA=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,o]=this.parentDimensions;this.setDims(s*r,o*i),this.fixAndSetPosition(),this._onResized()},Hu=new WeakSet,Sv=function(){if(!u(this,qi))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=u(this,qi);P(this,qi,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:I(this,Xp,YA).bind(this,s,o,a,l),undo:I(this,Xp,YA).bind(this,e,t,r,i),mustExec:!0})},Qp=new WeakSet,qA=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=pe.MIN_SIZE/r,h=pe.MIN_SIZE/i,d=I(this,Bu,xv).call(this,this.rotation),f=(D,B)=>[d[0]*D+d[2]*B,d[1]*D+d[3]*B],m=I(this,Bu,xv).call(this,360-this.rotation),y=(D,B)=>[m[0]*D+m[2]*B,m[1]*D+m[3]*B];let g,A,x=!1,S=!1;switch(e){case"topLeft":x=!0,g=(D,B)=>[0,0],A=(D,B)=>[D,B];break;case"topMiddle":g=(D,B)=>[D/2,0],A=(D,B)=>[D/2,B];break;case"topRight":x=!0,g=(D,B)=>[D,0],A=(D,B)=>[0,B];break;case"middleRight":S=!0,g=(D,B)=>[D,B/2],A=(D,B)=>[0,B/2];break;case"bottomRight":x=!0,g=(D,B)=>[D,B],A=(D,B)=>[0,0];break;case"bottomMiddle":g=(D,B)=>[D/2,B],A=(D,B)=>[D/2,0];break;case"bottomLeft":x=!0,g=(D,B)=>[0,B],A=(D,B)=>[D,0];break;case"middleLeft":S=!0,g=(D,B)=>[0,B/2],A=(D,B)=>[D,B/2];break}const b=g(a,l),p=A(a,l);let w=f(...p);const T=pe._round(s+w[0]),k=pe._round(o+w[1]);let _=1,R=1,M,L;if(t.fromKeyboard)({deltaX:M,deltaY:L}=t);else{const{screenX:D,screenY:B}=t,[O,F]=u(this,Qa);[M,L]=this.screenToPageTranslation(D-O,B-F),u(this,Qa)[0]=D,u(this,Qa)[1]=B}if([M,L]=y(M/r,L/i),x){const D=Math.hypot(a,l);_=R=Math.max(Math.min(Math.hypot(p[0]-b[0]-M,p[1]-b[1]-L)/D,1/a,1/l),c/a,h/l)}else S?_=Qt(Math.abs(p[0]-b[0]-M),c,1)/a:R=Qt(Math.abs(p[1]-b[1]-L),h,1)/l;const j=pe._round(a*_),H=pe._round(l*R);w=f(...A(j,H));const N=T-w[0],$=k-w[1];u(this,Ln)||P(this,Ln,[this.x,this.y,this.width,this.height]),this.width=j,this.height=H,this.x=N,this.y=$,this.setDims(r*j,i*H),this.fixAndSetPosition(),this._onResizing()},g0=new WeakSet,Vj=function(){var e;P(this,qi,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,ze))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},y0=new WeakSet,$j=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const o=I(this,Bu,xv).call(this,this.rotation),a=(T,k)=>[o[0]*T+o[2]*k,o[1]*T+o[3]*k],[l,c]=this.parentDimensions,h=this.x,d=this.y,f=this.width,m=this.height,y=pe.MIN_SIZE/l,g=pe.MIN_SIZE/c;s=Math.max(Math.min(s,1/f,1/m),y/f,g/m);const A=pe._round(f*s),x=pe._round(m*s);if(A===f&&x===m)return;u(this,Ln)||P(this,Ln,[h,d,f,m]);const S=a(f/2,m/2),b=pe._round(h+S[0]),p=pe._round(d+S[1]),w=a(A/2,x/2);this.x=b-w[0],this.y=p-w[1],this.width=A,this.height=x,this.setDims(l*A,c*x),this.fixAndSetPosition(),this._onResizing()},v0=new WeakSet,zj=function(){var e;(e=u(this,ze))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),I(this,Hu,Sv).call(this)},Jp=new WeakSet,XA=function(e){const{isMac:t}=Rt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},w0=new WeakSet,Wj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=c=>{i.abort(),P(this,lo,null),P(this,Ja,!1),this._uiManager.endDragSession()||I(this,Jp,XA).call(this,c),r&&this._onStopDragging()};t&&(P(this,ju,e.clientX),P(this,Fu,e.clientY),P(this,lo,e.pointerId),P(this,Wp,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:h,clientY:d,pointerId:f}=c;if(f!==u(this,lo)){ot(c);return}const[m,y]=this.screenToPageTranslation(h-u(this,ju),d-u(this,Fu));P(this,ju,h),P(this,Fu,d),this._uiManager.dragSelectedEditors(m,y)},o),window.addEventListener("touchmove",ot,o),window.addEventListener("pointerdown",c=>{c.pointerType===u(this,Wp)&&(u(this,el)||c.isPrimary)&&a(c),ot(c)},o));const l=c=>{if(!u(this,lo)||u(this,lo)===c.pointerId){a(c);return}ot(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},Zp=new WeakSet,QA=function(){if(u(this,co)||!this.div)return;P(this,co,new AbortController);const e=this._uiManager.combinedSignal(u(this,co));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},b0=new WeakSet,Uj=function(e){pe._resizerKeyboardManager.exec(this,e)},x0=new WeakSet,Gj=function(e){var t;u(this,Xi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,Dt)&&I(this,tl,tf).call(this)},S0=new WeakSet,Kj=function(e){P(this,Up,u(this,Xi)?e:"")},em=new WeakSet,JA=function(e){if(u(this,Mr))for(const t of u(this,Mr))t.tabIndex=e},tl=new WeakSet,tf=function(){P(this,Xi,!1),I(this,em,JA).call(this,-1),I(this,Hu,Sv).call(this)},C(pe,qp),V(pe,"_l10n",null),V(pe,"_l10nResizer",null),V(pe,"_borderLineWidth",-1),V(pe,"_colorManager",new BA),V(pe,"_zIndex",1),V(pe,"_telemetryTimeout",1e3);let Oe=pe;class tX extends Oe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const T_=3285377520,ir=4294901760,ti=65535;class Yj{constructor(e){this.h1=e?e&4294967295:T_,this.h2=e?e&4294967295:T_}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,A=e.length;g<A;g++){const x=e.charCodeAt(g);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,m=d&ti,y=f&ti;for(let g=0;g<i;g++)g&1?(a=o[g],a=a*d&ir|a*m&ti,a=a<<15|a>>>17,a=a*f&ir|a*y&ti,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[g],l=l*d&ir|l*m&ti,l=l<<15|l>>>17,l=l*f&ir|l*y&ti,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&ir|a*m&ti,a=a<<15|a>>>17,a=a*f&ir|a*y&ti,i&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ir|e*36045&ti,t=t*4283543511&ir|((t<<16|e>>>16)*2950163797&ir)>>>16,e^=t>>>1,e=e*444984403&ir|e*60499&ti,t=t*3301882366&ir|((t<<16|e>>>16)*3120437893&ir)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const ZA=Object.freeze({map:null,hash:"",transfer:void 0});var nl,rl,Ot,A0,qj;class QT{constructor(){C(this,A0);C(this,nl,!1);C(this,rl,null);C(this,Ot,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=u(this,Ot).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return u(this,Ot).get(e)}remove(e){if(u(this,Ot).delete(e),u(this,Ot).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Ot).values())if(t instanceof Oe)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=u(this,Ot).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,u(this,Ot).set(e,t);i&&I(this,A0,qj).call(this),t instanceof Oe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Ot).has(e)}get size(){return u(this,Ot).size}resetModified(){u(this,nl)&&(P(this,nl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Xj(this)}get serializable(){if(u(this,Ot).size===0)return ZA;const e=new Map,t=new Yj,r=[],i=Object.create(null);let s=!1;for(const[o,a]of u(this,Ot)){const l=a instanceof Oe?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:ZA}get editorStats(){let e=null;const t=new Map;for(const r of u(this,Ot).values()){if(!(r instanceof Oe))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){P(this,rl,null)}get modifiedIds(){if(u(this,rl))return u(this,rl);const e=[];for(const t of u(this,Ot).values())!(t instanceof Oe)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return P(this,rl,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return u(this,Ot).entries()}}nl=new WeakMap,rl=new WeakMap,Ot=new WeakMap,A0=new WeakSet,qj=function(){u(this,nl)||(P(this,nl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var tm;class Xj extends QT{constructor(t){super();C(this,tm,void 0);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);P(this,tm,{map:o,hash:i,transfer:s})}get print(){Re("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,tm)}get modifiedIds(){return ye(this,"modifiedIds",{ids:new Set,hash:""})}}tm=new WeakMap;var Vu;class nX{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){C(this,Vu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Vu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||u(this,Vu).has(e.loadedName))){if(ft(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),u(this,Vu).add(i),r==null||r(e)}catch{ae(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Re("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ae(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ye(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ye(this,"isSyncFontLoadingSupported",dn||Rt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ft(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ye(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(p,w){return p.charCodeAt(w)<<24|p.charCodeAt(w+1)<<16|p.charCodeAt(w+2)<<8|p.charCodeAt(w+3)&255}function i(p,w,T,k){const _=p.substring(0,w),R=p.substring(w+T);return _+k+R}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function h(p,w){if(++c>30){ae("Load test font never loaded."),w();return}if(l.font="30px "+p,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){w();return}setTimeout(h.bind(null,p,w))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const y=16,g=1482184792;let A=r(f,y);for(s=0,o=d.length-3;s<o;s+=4)A=A-g+r(d,s)|0;s<d.length&&(A=A-g+r(d+"XXX",s)|0),f=i(f,y,4,Wq(A));const x=`url(data:font/opentype;base64,${btoa(f)});`,S=`@font-face {font-family:"${d}";src:${x}}`;this.insertRule(S);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const p of[e.loadedName,d]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=p,b.append(w)}this._document.body.append(b),h(d,()=>{b.remove(),t.complete()})}}Vu=new WeakMap;class rX{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${pj(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(o){ae(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}function iX(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(dn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function sX(n){if(dn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Zg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Hy(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const eE=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,oX=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Qj=Yq.bind(null,eE,oX);var Qi,E0;class aX{constructor(){C(this,Qi,new Map);C(this,E0,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};u(this,E0).then(()=>{for(const[i]of u(this,Qi))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){ae("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}u(this,Qi).set(t,i)}removeEventListener(e,t){const r=u(this,Qi).get(t);r==null||r(),u(this,Qi).delete(t)}terminate(){for(const[,e]of u(this,Qi))e==null||e();u(this,Qi).clear()}}Qi=new WeakMap,E0=new WeakMap;const Vy={DATA:1,ERROR:2},ct={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function P_(){}function vn(n){if(n instanceof Ms||n instanceof Ow||n instanceof A_||n instanceof hp||n instanceof KS)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Re('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ms(n.message);case"InvalidPDFException":return new Ow(n.message);case"PasswordException":return new A_(n.message,n.code);case"ResponseException":return new hp(n.message,n.status,n.missing);case"UnknownErrorException":return new KS(n.message,n.details)}return new KS(n.message,n.toString())}var $u,C0,Jj,T0,Zj,P0,eF,zu,Av;class nf{constructor(e,t,r){C(this,C0);C(this,T0);C(this,P0);C(this,zu);C(this,$u,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",I(this,C0,Jj).bind(this),{signal:u(this,$u).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:ct.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{ft(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ct.CANCEL,streamId:s,reason:vn(c)}),h.promise}},r)}destroy(){var e;(e=u(this,$u))==null||e.abort(),P(this,$u,null)}}$u=new WeakMap,C0=new WeakSet,Jj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){I(this,P0,eF).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Vy.DATA)i.resolve(e.data);else if(e.callback===Vy.ERROR)i.reject(vn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:Vy.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:Vy.ERROR,callbackId:e.callbackId,reason:vn(o)})});return}if(e.streamId){I(this,T0,Zj).call(this,e);return}t(e.data)},T0=new WeakSet,Zj=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:ct.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ct.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){ft(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ct.ERROR,streamId:t,reason:vn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ct.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ct.START_COMPLETE,streamId:t,reason:vn(c)})})},P0=new WeakSet,eF=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ct.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(vn(e.reason));break;case ct.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(vn(e.reason));break;case ct.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:ct.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||P_).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ct.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ct.PULL_COMPLETE,streamId:t,reason:vn(c)})});break;case ct.ENQUEUE:if(ft(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ct.CLOSE:if(ft(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),I(this,zu,Av).call(this,o,t);break;case ct.ERROR:ft(o,"error should have stream controller"),o.controller.error(vn(e.reason)),I(this,zu,Av).call(this,o,t);break;case ct.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(vn(e.reason)),I(this,zu,Av).call(this,o,t);break;case ct.CANCEL:if(!a)break;const l=vn(e.reason);Promise.try(a.onCancel||P_,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ct.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:ct.CANCEL_COMPLETE,streamId:t,reason:vn(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},zu=new WeakSet,Av=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var nm;class tF{constructor({enableHWA:e=!1}){C(this,nm,!1);P(this,nm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!u(this,nm)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Re("Abstract method `_createCanvas` called.")}}nm=new WeakMap;class lX extends tF{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class nF{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class k_ extends nF{async _fetch(e){const t=await Cd(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Zg(t)}}class rF{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var il,Wu,Ji,Zi,qt,sl,ol,St,Kt,al,rf,uo,Lc,Uu,Ev,ho,Nc,k0,iF,rm,tE,fo,Dc,ll,sf,cl,of,im,nE,ul,af;class cX extends rF{constructor({docId:t,ownerDocument:r=globalThis.document}){super();C(this,St);C(this,al);C(this,uo);C(this,Uu);C(this,ho);C(this,k0);C(this,rm);C(this,fo);C(this,ll);C(this,cl);C(this,im);C(this,ul);C(this,il,void 0);C(this,Wu,void 0);C(this,Ji,void 0);C(this,Zi,void 0);C(this,qt,void 0);C(this,sl,void 0);C(this,ol,0);P(this,Zi,t),P(this,qt,r)}addFilter(t){if(!t)return"none";let r=u(this,St,Kt).get(t);if(r)return r;const[i,s,o]=I(this,Uu,Ev).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=u(this,St,Kt).get(a),r)return u(this,St,Kt).set(t,r),r;const l=`g_${u(this,Zi)}_transfer_map_${rn(this,ol)._++}`,c=I(this,ho,Nc).call(this,l);u(this,St,Kt).set(t,c),u(this,St,Kt).set(a,c);const h=I(this,fo,Dc).call(this,l);return I(this,cl,of).call(this,i,s,o,h),c}addHCMFilter(t,r){var y;const i=`${t}-${r}`,s="base";let o=u(this,al,rf).get(s);if((o==null?void 0:o.key)===i||(o?((y=o.filter)==null||y.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},u(this,al,rf).set(s,o)),!t||!r))return o.url;const a=I(this,ul,af).call(this,t);t=ne.makeHexColor(...a);const l=I(this,ul,af).call(this,r);if(r=ne.makeHexColor(...l),u(this,uo,Lc).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let g=0;g<=255;g++){const A=g/255;c[g]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,Zi)}_hcm_filter`,f=o.filter=I(this,fo,Dc).call(this,d);I(this,cl,of).call(this,h,h,h,f),I(this,rm,tE).call(this,f);const m=(g,A)=>{const x=a[g]/255,S=l[g]/255,b=new Array(A+1);for(let p=0;p<=A;p++)b[p]=x+p/A*(S-x);return b.join(",")};return I(this,cl,of).call(this,m(0,5),m(1,5),m(2,5),f),o.url=I(this,ho,Nc).call(this,d),o.url}addAlphaFilter(t){let r=u(this,St,Kt).get(t);if(r)return r;const[i]=I(this,Uu,Ev).call(this,[t]),s=`alpha_${i}`;if(r=u(this,St,Kt).get(s),r)return u(this,St,Kt).set(t,r),r;const o=`g_${u(this,Zi)}_alpha_map_${rn(this,ol)._++}`,a=I(this,ho,Nc).call(this,o);u(this,St,Kt).set(t,a),u(this,St,Kt).set(s,a);const l=I(this,fo,Dc).call(this,o);return I(this,im,nE).call(this,i,l),a}addLuminosityFilter(t){let r=u(this,St,Kt).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=I(this,Uu,Ev).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=u(this,St,Kt).get(s),r)return u(this,St,Kt).set(t,r),r;const o=`g_${u(this,Zi)}_luminosity_map_${rn(this,ol)._++}`,a=I(this,ho,Nc).call(this,o);u(this,St,Kt).set(t,a),u(this,St,Kt).set(s,a);const l=I(this,fo,Dc).call(this,o);return I(this,k0,iF).call(this,l),t&&I(this,im,nE).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var S;const a=`${r}-${i}-${s}-${o}`;let l=u(this,al,rf).get(t);if((l==null?void 0:l.key)===a||(l?((S=l.filter)==null||S.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},u(this,al,rf).set(t,l)),!r||!i))return l.url;const[c,h]=[r,i].map(I(this,ul,af).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,y]=[s,o].map(I(this,ul,af).bind(this));f<d&&([d,f,m,y]=[f,d,y,m]),u(this,uo,Lc).style.color="";const g=(b,p,w)=>{const T=new Array(256),k=(f-d)/w,_=b/255,R=(p-b)/(255*w);let M=0;for(let L=0;L<=w;L++){const j=Math.round(d+L*k),H=_+L*R;for(let N=M;N<=j;N++)T[N]=H;M=j+1}for(let L=M;L<256;L++)T[L]=T[M-1];return T.join(",")},A=`g_${u(this,Zi)}_hcm_${t}_filter`,x=l.filter=I(this,fo,Dc).call(this,A);return I(this,rm,tE).call(this,x),I(this,cl,of).call(this,g(m[0],y[0],5),g(m[1],y[1],5),g(m[2],y[2],5),x),l.url=I(this,ho,Nc).call(this,A),l.url}destroy(t=!1){var r,i,s,o;t&&((r=u(this,sl))!=null&&r.size)||((i=u(this,Ji))==null||i.parentNode.parentNode.remove(),P(this,Ji,null),(s=u(this,Wu))==null||s.clear(),P(this,Wu,null),(o=u(this,sl))==null||o.clear(),P(this,sl,null),P(this,ol,0))}}il=new WeakMap,Wu=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,qt=new WeakMap,sl=new WeakMap,ol=new WeakMap,St=new WeakSet,Kt=function(){return u(this,Wu)||P(this,Wu,new Map)},al=new WeakSet,rf=function(){return u(this,sl)||P(this,sl,new Map)},uo=new WeakSet,Lc=function(){if(!u(this,Ji)){const t=u(this,qt).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=u(this,qt).createElementNS(Di,"svg");i.setAttribute("width",0),i.setAttribute("height",0),P(this,Ji,u(this,qt).createElementNS(Di,"defs")),t.append(i),i.append(u(this,Ji)),u(this,qt).body.append(t)}return u(this,Ji)},Uu=new WeakSet,Ev=function(t){if(t.length===1){const c=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},ho=new WeakSet,Nc=function(t){if(u(this,il)===void 0){P(this,il,"");const r=u(this,qt).URL;r!==u(this,qt).baseURI&&(ty(r)?ae('#createUrl: ignore "data:"-URL for performance reasons.'):P(this,il,KT(r,"")))}return`url(${u(this,il)}#${t})`},k0=new WeakSet,iF=function(t){const r=u(this,qt).createElementNS(Di,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},rm=new WeakSet,tE=function(t){const r=u(this,qt).createElementNS(Di,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},fo=new WeakSet,Dc=function(t){const r=u(this,qt).createElementNS(Di,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),u(this,uo,Lc).append(r),r},ll=new WeakSet,sf=function(t,r,i){const s=u(this,qt).createElementNS(Di,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},cl=new WeakSet,of=function(t,r,i,s){const o=u(this,qt).createElementNS(Di,"feComponentTransfer");s.append(o),I(this,ll,sf).call(this,o,"feFuncR",t),I(this,ll,sf).call(this,o,"feFuncG",r),I(this,ll,sf).call(this,o,"feFuncB",i)},im=new WeakSet,nE=function(t,r){const i=u(this,qt).createElementNS(Di,"feComponentTransfer");r.append(i),I(this,ll,sf).call(this,i,"feFuncA",t)},ul=new WeakSet,af=function(t){return u(this,uo,Lc).style.color=t,XT(getComputedStyle(u(this,uo,Lc)).getPropertyValue("color"))};class sF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class I_ extends sF{async _fetch(e){const t=await Cd(e,"arraybuffer");return new Uint8Array(t)}}class oF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class __ extends oF{async _fetch(e){const t=await Cd(e,"arraybuffer");return new Uint8Array(t)}}dn&&ae("Please use the `legacy` build in Node.js environments.");async function JT(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class uX extends rF{}class hX extends tF{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class dX extends nF{async _fetch(e){return JT(e)}}class fX extends sF{async _fetch(e){return JT(e)}}class pX extends oF{async _fetch(e){return JT(e)}}const Ht={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rE(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class ZT{isModifyingCurrentTransform(){return!1}getPattern(){Re("Abstract method `getPattern` called.")}}class mX extends ZT{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Ht.STROKE||i===Ht.FILL){const o=t.current.getClippedPathBoundingBox(i,Ye(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=ne.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),rE(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else rE(e,this._bbox),s=this._createGradient(e);return s}}function XS(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const m=(l[t]+e.offsetX)*e.scaleX,y=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,A=(l[r+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,S=(l[i+1]+e.offsetY)*e.scaleY;if(y>=S)return;const b=c[s],p=c[s+1],w=c[s+2],T=c[o],k=c[o+1],_=c[o+2],R=c[a],M=c[a+1],L=c[a+2],j=Math.round(y),H=Math.round(S);let N,$,D,B,O,F,W,U;for(let K=j;K<=H;K++){if(K<A){const G=K<y?0:(y-K)/(y-A);N=m-(m-g)*G,$=b-(b-T)*G,D=p-(p-k)*G,B=w-(w-_)*G}else{let G;K>S?G=1:A===S?G=0:G=(A-K)/(A-S),N=g-(g-x)*G,$=T-(T-R)*G,D=k-(k-M)*G,B=_-(_-L)*G}let J;K<y?J=0:K>S?J=1:J=(y-K)/(y-S),O=m-(m-x)*J,F=b-(b-R)*J,W=p-(p-M)*J,U=w-(w-L)*J;const he=Math.round(Math.min(N,O)),Pe=Math.round(Math.max(N,O));let le=d*K+he*4;for(let G=he;G<=Pe;G++)J=(N-G)/(N-O),J<0?J=0:J>1&&(J=1),h[le++]=$-($-F)*J|0,h[le++]=D-(D-W)*J|0,h[le++]=B-(B-U)*J|0,h[le++]=255}}function gX(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let d=0;d<c;d++,h++)XS(n,t,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),XS(n,t,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)XS(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class yX extends ZT{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=c/d,y=h/f,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/m,scaleY:1/y},A=d+2*2,x=f+2*2,S=r.getCanvas("mesh",A,x),b=S.context,p=b.createImageData(d,f);if(t){const T=p.data;for(let k=0,_=T.length;k<_;k+=4)T[k]=t[0],T[k+1]=t[1],T[k+2]=t[2],T[k+3]=255}for(const T of this._figures)gX(p,T,g);return b.putImageData(p,2,2),{canvas:S.canvas,offsetX:a-2*m,offsetY:l-2*y,scaleX:m,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){rE(e,this._bbox);const s=new Float32Array(2);if(i===Ht.SHADING)ne.singularValueDecompose2dScale(Ye(e),s);else if(this.matrix){ne.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;ne.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=l}else ne.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===Ht.SHADING?null:this._background,t.cachedCanvases);return i!==Ht.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class vX extends ZT{getPattern(){return"hotpink"}}function wX(n){switch(n[0]){case"RadialAxial":return new mX(n);case"Mesh":return new yX(n);case"Dummy":return new vX}throw new Error(`Unknown IR type: ${n[0]}`)}const R_={COLORED:1,UNCOLORED:2},I0=class I0{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),kx("TilingType: "+s);const h=t[0],d=t[1],f=t[2],m=t[3],y=f-h,g=m-d,A=new Float32Array(2);ne.singularValueDecompose2dScale(this.matrix,A);const[x,S]=A;ne.singularValueDecompose2dScale(this.baseTransform,A);const b=x*A[0],p=S*A[1];let w=y,T=g,k=!1,_=!1;const R=Math.ceil(l*b),M=Math.ceil(c*p),L=Math.ceil(y*b),j=Math.ceil(g*p);R>=L?w=l:k=!0,M>=j?T=c:_=!0;const H=this.getSizeAndScale(w,this.ctx.canvas.width,b),N=this.getSizeAndScale(T,this.ctx.canvas.height,p),$=e.cachedCanvases.getCanvas("pattern",H.size,N.size),D=$.context,B=a.createCanvasGraphics(D);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,i,o),D.translate(-H.scale*h,-N.scale*d),B.transform(H.scale,0,0,N.scale,0,0),D.save(),this.clipBbox(B,h,d,f,m),B.baseTransform=Ye(B.ctx),B.executeOperatorList(r),B.endDrawing(),D.restore(),k||_){const O=$.canvas;k&&(w=l),_&&(T=c);const F=this.getSizeAndScale(w,this.ctx.canvas.width,b),W=this.getSizeAndScale(T,this.ctx.canvas.height,p),U=F.size,K=W.size,J=e.cachedCanvases.getCanvas("pattern-workaround",U,K),he=J.context,Pe=k?Math.floor(y/l):0,le=_?Math.floor(g/c):0;for(let G=0;G<=Pe;G++)for(let de=0;de<=le;de++)he.drawImage(O,U*G,K*de,U,K,0,0,U,K);return{canvas:J.canvas,scaleX:F.scale,scaleY:W.scale,offsetX:h,offsetY:d}}return{canvas:$.canvas,scaleX:H.scale,scaleY:N.scale,offsetX:h,offsetY:d}}getSizeAndScale(e,t,r){const i=Math.max(I0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),ne.axialAlignedBoundingBox([t,r,i,s],Ye(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case R_.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case R_.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new zq(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i){let s=r;i!==Ht.SHADING&&(s=ne.transform(s,t.baseTransform),this.matrix&&(s=ne.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};V(I0,"MAX_PATTERN_SIZE",3e3);let iE=I0;function bX({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Rt.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],h=r>>3,d=r&7,f=n.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<i;y++){for(const A=e+h;e<A;e++){const x=e<f?n[e]:255;t[m++]=x&128?c:l,t[m++]=x&64?c:l,t[m++]=x&32?c:l,t[m++]=x&16?c:l,t[m++]=x&8?c:l,t[m++]=x&4?c:l,t[m++]=x&2?c:l,t[m++]=x&1?c:l}if(d===0)continue;const g=e<f?n[e++]:255;for(let A=0;A<d;A++)t[m++]=g&1<<7-A?c:l}return{srcPos:e,destPos:m}}const M_=16,L_=100,xX=15,N_=10,An=16,QS=new DOMMatrix,Kn=new Float32Array(2),tu=new Float32Array([1/0,1/0,-1/0,-1/0]);function SX(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class AX{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function $y(n,e,t,r,i,s,o,a,l,c){const[h,d,f,m,y,g]=Ye(n);if(d===0&&f===0){const S=o*h+y,b=Math.round(S),p=a*m+g,w=Math.round(p),T=(o+l)*h+y,k=Math.abs(Math.round(T)-b)||1,_=(a+c)*m+g,R=Math.abs(Math.round(_)-w)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(m),b,w),n.drawImage(e,t,r,i,s,0,0,k,R),n.setTransform(h,d,f,m,y,g),[k,R]}if(h===0&&m===0){const S=a*f+y,b=Math.round(S),p=o*d+g,w=Math.round(p),T=(a+c)*f+y,k=Math.abs(Math.round(T)-b)||1,_=(o+l)*d+g,R=Math.abs(Math.round(_)-w)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,b,w),n.drawImage(e,t,r,i,s,0,0,R,k),n.setTransform(h,d,f,m,y,g),[R,k]}n.drawImage(e,t,r,i,s,o,a,l,c);const A=Math.hypot(h,d),x=Math.hypot(f,m);return[A*l,x*c]}class D_{constructor(e,t){V(this,"alphaIsShape",!1);V(this,"fontSize",0);V(this,"fontSizeScale",1);V(this,"textMatrix",null);V(this,"textMatrixScale",1);V(this,"fontMatrix",DA);V(this,"leading",0);V(this,"x",0);V(this,"y",0);V(this,"lineX",0);V(this,"lineY",0);V(this,"charSpacing",0);V(this,"wordSpacing",0);V(this,"textHScale",1);V(this,"textRenderingMode",Gt.FILL);V(this,"textRise",0);V(this,"fillColor","#000000");V(this,"strokeColor","#000000");V(this,"patternFill",!1);V(this,"patternStroke",!1);V(this,"fillAlpha",1);V(this,"strokeAlpha",1);V(this,"lineWidth",1);V(this,"activeSMask",null);V(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=tu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ht.FILL,t=null){const r=this.minMax.slice();if(e===Ht.STROKE){t||Re("Stroke bounding box must include transform."),ne.singularValueDecompose2dScale(t,Kn);const i=Kn[0]*this.lineWidth/2,s=Kn[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=ne.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(tu,0)}getClippedPathBoundingBox(e=Ht.FILL,t=null){return ne.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function O_(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%An,s=(t-i)/An,o=i===0?s:s+1,a=n.createImageData(r,An);let l=0,c;const h=e.data,d=a.data;let f,m,y,g;if(e.kind===Mf.GRAYSCALE_1BPP){const A=h.byteLength,x=new Uint32Array(d.buffer,0,d.byteLength>>2),S=x.length,b=r+7>>3,p=4294967295,w=Rt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(y=f<s?An:i,c=0,m=0;m<y;m++){const T=A-l;let k=0;const _=T>b?r:T*8-7,R=_&-8;let M=0,L=0;for(;k<R;k+=8)L=h[l++],x[c++]=L&128?p:w,x[c++]=L&64?p:w,x[c++]=L&32?p:w,x[c++]=L&16?p:w,x[c++]=L&8?p:w,x[c++]=L&4?p:w,x[c++]=L&2?p:w,x[c++]=L&1?p:w;for(;k<_;k++)M===0&&(L=h[l++],M=128),x[c++]=L&M?p:w,M>>=1}for(;c<S;)x[c++]=0;n.putImageData(a,0,f*An)}}else if(e.kind===Mf.RGBA_32BPP){for(m=0,g=r*An*4,f=0;f<s;f++)d.set(h.subarray(l,l+g)),l+=g,n.putImageData(a,0,m),m+=An;f<o&&(g=r*i*4,d.set(h.subarray(l,l+g)),n.putImageData(a,0,m))}else if(e.kind===Mf.RGB_24BPP)for(y=An,g=r*y,f=0;f<o;f++){for(f>=s&&(y=i,g=r*y),c=0,m=g;m--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(a,0,f*An)}else throw new Error(`bad image kind: ${e.kind}`)}function j_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%An,s=(t-i)/An,o=i===0?s:s+1,a=n.createImageData(r,An);let l=0;const c=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?An:i;({srcPos:l}=bX({src:c,srcPos:l,dest:h,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,d*An)}}function Hd(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zy(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function F_(n,e){if(e)return!0;ne.singularValueDecompose2dScale(n,Kn);const t=Math.fround(Jr.pixelRatio*Ls.PDF_TO_CSS_UNITS);return Kn[0]<=t&&Kn[1]<=t}const EX=["butt","round","square"],CX=["miter","round","bevel"],TX={},B_={};var sm,sE,om,oE,am,aE;const dP=class dP{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){C(this,sm);C(this,om);C(this,am);this.ctx=e,this.current=new D_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new AX(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ye(this.compositeCtx))}this.ctx.save(),zy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ye(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>N_&&typeof r=="function",h=c?Date.now()+xX:0;let d=0;const f=this.commonObjs,m=this.objs;let y;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(y=o[a],y!==up.dependency)this[y].apply(this,s[a]);else for(const g of s[a]){const A=g.startsWith("g_")?f:m;if(!A.has(g))return A.get(g,r),a}if(a++,a===l)return a;if(c&&++d>N_){if(Date.now()>h)return r(),a;d=0}}}endDrawing(){I(this,sm,sE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),I(this,om,oE).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",h,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,m=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),h=this.cachedCanvases.getCanvas(c,f,m),d=h.context,d.clearRect(0,0,f,m),d.drawImage(e,0,0,a,l,0,0,f,m),e=h.canvas,a=f,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ye(t);let l,c,h,d;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const M=l.get(c);if(M&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),j=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:L,offsetY:j}}h=M}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),j_(d.context,e));let f=ne.transform(a,[1/r,0,0,-1/i,0,0]);f=ne.transform(f,[1,0,0,1,0,-i]);const m=tu.slice();ne.axialAlignedBoundingBox([0,0,r,i],f,m);const[y,g,A,x]=m,S=Math.round(A-y)||1,b=Math.round(x-g)||1,p=this.cachedCanvases.getCanvas("fillCanvas",S,b),w=p.context,T=y,k=g;w.translate(-T,-k),w.transform(...f),h||(h=this._scaleImage(d.canvas,ei(w)),h=h.img,l&&o&&l.set(c,h)),w.imageSmoothingEnabled=F_(Ye(w),e.interpolate),$y(w,h,0,0,h.width,h.height,0,0,r,i),w.globalCompositeOperation="source-in";const _=ne.transform(ei(w),[1,0,0,1,-T,-k]);return w.fillStyle=o?s.getPattern(t,this,_,Ht.FILL):s,w.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,p.canvas)),{canvas:p.canvas,offsetX:Math.round(T),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=EX[e]}setLineJoin(e){this.ctx.lineJoin=CX[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),Hd(this.suspendedCtx,s),SX(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Hd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,h,d){let f=e.canvas,m=l-h,y=c-d;if(o)if(m<0||y<0||m+r>f.width||y+i>f.height){const A=this.cachedCanvases.getCanvas("maskExtension",r,i),x=A.context;x.drawImage(f,-m,-y),x.globalCompositeOperation="destination-atop",x.fillStyle=o,x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over",f=A.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(m,y,r,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(m,y,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,r,i),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,m,y,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode&&Hd(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Hd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let[i]=t;if(!r){i||(i=t[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const s=t[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case By.moveTo:s.moveTo(i[o++],i[o++]);break;case By.lineTo:s.lineTo(i[o++],i[o++]);break;case By.curveTo:s.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case By.closePath:s.closePath();break;default:ae(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=s}ne.axialAlignedBoundingBox(r,Ye(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,ei(r),Ht.STROKE),s){const o=new Path2D;o.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=o}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Ht.STROKE,Ye(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,ei(r),Ht.FILL),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),o&&r.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=TX}eoClip(){this.pendingClip=B_}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:c}of e)r.addPath(c,new DOMMatrix(s).preMultiplySelf(i).translate(o,a).scale(l,-l));t.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||DA,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ae("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<M_?c=M_:t>L_&&(c=L_),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,d=c&Gt.FILL_STROKE_MASK,f=!!(c&Gt.ADD_TO_PATH_FLAG),m=a.patternFill&&!l.missingFile,y=a.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||f||m||y)&&(g=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||m||y){o.save(),o.translate(t,r),o.scale(h,-h);let A;if((d===Gt.FILL||d===Gt.FILL_STROKE)&&(i?(A=o.getTransform(),o.setTransform(...i),o.fill(I(this,am,aE).call(this,g,A,i))):o.fill(g)),d===Gt.STROKE||d===Gt.FILL_STROKE)if(s){A||(A=o.getTransform()),o.setTransform(...s);const{a:x,b:S,c:b,d:p}=A,w=ne.inverseTransform(s),T=ne.transform([x,S,b,p,0,0],w);ne.singularValueDecompose2dScale(T,Kn),o.lineWidth*=Math.max(Kn[0],Kn[1])/h,o.stroke(I(this,am,aE).call(this,g,A,s))}else o.lineWidth/=h,o.stroke(g);o.restore()}else(d===Gt.FILL||d===Gt.FILL_STROKE)&&o.fillText(e,t,r),(d===Gt.STROKE||d===Gt.FILL_STROKE)&&o.strokeText(e,t,r);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ye(o),x:t,y:r,fontSize:h,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return ye(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=r.vertical,m=f?1:-1,y=r.defaultVMetrics,g=i*t.fontMatrix[0],A=t.textRenderingMode===Gt.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),t.textMatrix&&s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(h,-1):s.scale(h,1);let x,S;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,ei(s),Ht.FILL);x=Ye(s),s.restore(),s.fillStyle=k}if(t.patternStroke){s.save();const k=t.strokeColor.getPattern(s,this,ei(s),Ht.STROKE);S=Ye(s),s.restore(),s.strokeStyle=k}let b=t.lineWidth;const p=t.textMatrixScale;if(p===0||b===0){const k=t.textRenderingMode&Gt.FILL_STROKE_MASK;(k===Gt.STROKE||k===Gt.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=p;if(o!==1&&(s.scale(o,o),b/=o),s.lineWidth=b,r.isInvalidPDFjsFont){const k=[];let _=0;for(const R of e)k.push(R.unicode),_+=R.width;s.fillText(k.join(""),0,0),t.x+=_*g*h,s.restore(),this.compose();return}let w=0,T;for(T=0;T<d;++T){const k=e[T];if(typeof k=="number"){w+=m*k*i/1e3;continue}let _=!1;const R=(k.isSpace?l:0)+a,M=k.fontChar,L=k.accent;let j,H,N=k.width;if(f){const D=k.vmetric||y,B=-(k.vmetric?D[1]:N*.5)*g,O=D[2]*g;N=D?-D[0]:N,j=B/o,H=(w+O)/o}else j=w/o,H=0;if(r.remeasure&&N>0){const D=s.measureText(M).width*1e3/i*o;if(N<D&&this.isFontSubpixelAAEnabled){const B=N/D;_=!0,s.save(),s.scale(B,1),j/=B}else N!==D&&(j+=(N-D)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(A&&!L)s.fillText(M,j,H);else if(this.paintChar(M,j,H,x,S),L){const D=j+i*L.offset.x/o,B=H-i*L.offset.y/o;this.paintChar(L.fontChar,D,B,x,S)}}const $=f?N*g-R*c:N*g+R*c;w+=$,_&&s.restore()}f?t.y-=w:t.x+=w*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*o,d=r.fontMatrix||DA,f=e.length,m=r.textRenderingMode===Gt.INVISIBLE;let y,g,A,x;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),r.textMatrix&&t.transform(...r.textMatrix),t.translate(r.x,r.y+r.textRise),t.scale(h,o),y=0;y<f;++y){if(g=e[y],typeof g=="number"){x=a*g*s/1e3,this.ctx.translate(x,0),r.x+=x*h;continue}const S=(g.isSpace?c:0)+l,b=i.charProcOperatorList[g.operatorListId];b?this.contentVisible&&(this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(b),this.restore()):ae(`Type3 character "${g.operatorListId}" is not available.`);const p=[g.width,0];ne.applyTransform(p,d),A=p[0]*s+S,t.translate(A,0),r.x+=A*h}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){const a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ye(this.ctx),i={createCanvasGraphics:s=>new dP(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new iE(e,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=wX(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,ei(t),Ht.SHADING);const i=ei(t);if(i){const{width:s,height:o}=t.canvas,a=tu.slice();ne.axialAlignedBoundingBox([0,0,s,o],i,a);const[l,c,h,d]=a;this.ctx.fillRect(l,c,h-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Re("Should not call beginInlineImage")}beginImageData(){Re("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ye(this.ctx),t)){ne.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[r,i,s,o]=t,a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||kx("TODO: Support non-isolated groups."),e.knockout&&ae("Knockout groups not supported.");const r=Ye(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=tu.slice();ne.axialAlignedBoundingBox(e.bbox,Ye(t),i);const s=[0,0,t.canvas.width,t.canvas.height];i=ne.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-o,-a),f.transform(...r);let m=new Path2D;const[y,g,A,x]=e.bbox;if(m.rect(y,g,A-y,x-g),e.matrix){const S=new Path2D;S.addPath(m,new DOMMatrix(e.matrix)),m=S}f.clip(m),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Hd(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=tu.slice();ne.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,s),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(I(this,sm,sE).call(this),zy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a,ne.singularValueDecompose2dScale(Ye(this.ctx),Kn);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),h=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,h);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Kn[0],0,0,-Kn[1],0,a*Kn[1]),zy(this.ctx)}else{zy(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],o,a),this.ctx.clip(l)}}this.current=new D_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),I(this,om,oE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ye(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=o.length;h<d;h+=2){const f=ne.transform(l,[t,r,i,s,o[h],o[h+1]]);a.drawImage(c.canvas,f[4],f[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=h.context;d.save();const f=this.getObject(o,s);j_(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,ei(t),Ht.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),$y(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ae("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ae("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,h=i.length;c<h;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/t,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;O_(c,e),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,ei(i));i.imageSmoothingEnabled=F_(Ye(i),e.interpolate),$y(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;O_(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),$y(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===B_?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ye(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/c;else{const h=l*e,d=c*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)o=h/l,a=c/l;else{const d=e*l;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(s,o),QS.a=1/s,QS.d=1/o;const l=new Path2D;if(l.addPath(e,QS),a.length>0){const c=Math.max(s,o);r.setLineDash(a.map(h=>h/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};sm=new WeakSet,sE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},om=new WeakSet,oE=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},am=new WeakSet,aE=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let mu=dP;for(const n in up)mu.prototype[n]!==void 0&&(mu.prototype[up[n]]=mu.prototype[n]);var lm,cm;class yr{static get workerPort(){return u(this,lm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");P(this,lm,e)}static get workerSrc(){return u(this,cm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");P(this,cm,e)}}lm=new WeakMap,cm=new WeakMap,C(yr,lm,null),C(yr,cm,"");var Gu,um;class PX{constructor({parsedData:e,rawData:t}){C(this,Gu,void 0);C(this,um,void 0);P(this,Gu,e),P(this,um,t)}getRaw(){return u(this,um)}get(e){return u(this,Gu).get(e)??null}[Symbol.iterator](){return u(this,Gu).entries()}}Gu=new WeakMap,um=new WeakMap;const Oc=Symbol("INTERNAL");var hm,dm,fm,Ku;class kX{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){C(this,hm,!1);C(this,dm,!1);C(this,fm,!1);C(this,Ku,!0);P(this,hm,!!(e&Un.DISPLAY)),P(this,dm,!!(e&Un.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(u(this,fm))return u(this,Ku);if(!u(this,Ku))return!1;const{print:e,view:t}=this.usage;return u(this,hm)?(t==null?void 0:t.viewState)!=="OFF":u(this,dm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Oc&&Re("Internal method `_setVisible` called."),P(this,fm,r),P(this,Ku,t)}}hm=new WeakMap,dm=new WeakMap,fm=new WeakMap,Ku=new WeakMap;var po,_e,Yu,qu,pm,lE;class IX{constructor(e,t=Un.DISPLAY){C(this,pm);C(this,po,null);C(this,_e,new Map);C(this,Yu,null);C(this,qu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,P(this,qu,e.order);for(const r of e.groups)u(this,_e).set(r.id,new kX(t,r));if(e.baseState==="OFF")for(const r of u(this,_e).values())r._setVisible(Oc,!1);for(const r of e.on)u(this,_e).get(r)._setVisible(Oc,!0);for(const r of e.off)u(this,_e).get(r)._setVisible(Oc,!1);P(this,Yu,this.getHash())}}isVisible(e){if(u(this,_e).size===0)return!0;if(!e)return kx("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,_e).has(e.id)?u(this,_e).get(e.id).visible:(ae(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return I(this,pm,lE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,_e).has(t))return ae(`Optional content group not found: ${t}`),!0;if(u(this,_e).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,_e).has(t))return ae(`Optional content group not found: ${t}`),!0;if(!u(this,_e).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,_e).has(t))return ae(`Optional content group not found: ${t}`),!0;if(!u(this,_e).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,_e).has(t))return ae(`Optional content group not found: ${t}`),!0;if(u(this,_e).get(t).visible)return!1}return!0}return ae(`Unknown optional content policy ${e.policy}.`),!0}return ae(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=u(this,_e).get(e);if(!i){ae(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=u(this,_e).get(a))==null||s._setVisible(Oc,!1,!0));i._setVisible(Oc,!!t,!0),P(this,po,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=u(this,_e).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}P(this,po,null)}get hasInitialVisibility(){return u(this,Yu)===null||this.getHash()===u(this,Yu)}getOrder(){return u(this,_e).size?u(this,qu)?u(this,qu).slice():[...u(this,_e).keys()]:null}getGroup(e){return u(this,_e).get(e)||null}getHash(){if(u(this,po)!==null)return u(this,po);const e=new Yj;for(const[t,r]of u(this,_e))e.update(`${t}:${r.visible}`);return P(this,po,e.hexdigest())}[Symbol.iterator](){return u(this,_e).entries()}}po=new WeakMap,_e=new WeakMap,Yu=new WeakMap,qu=new WeakMap,pm=new WeakSet,lE=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=I(this,pm,lE).call(this,s);else if(u(this,_e).has(s))o=u(this,_e).get(s).visible;else return ae(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class _X{constructor(e,{disableRange:t=!1,disableStream:r=!1}){ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});ft(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new RX(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new MX(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class RX{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=_x(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class MX{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function LX(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=c(h),s(h)}if(t=o(n),t){const h=c(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=a(t);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),m=Zg(d);d=f.decode(m),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const d=[];let f;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=m.exec(h))!==null;){let[,g,A,x]=f;if(g=parseInt(g,10),g in d){if(g===0)break;continue}d[g]=[A,x]}const y=[];for(let g=0;g<d.length&&g in d;++g){let[A,x]=d[g];x=a(x),A&&(x=unescape(x),g===0&&(x=l(x))),y.push(x)}return y.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const m=d[f].indexOf('"');m!==-1&&(d[f]=d[f].slice(0,m),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),y=h.slice(d+1).replace(/^[^']*'/,"");return i(f,y)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,A){return String.fromCharCode(parseInt(A,16))}),i(f,y);try{y=atob(y)}catch{}return i(f,y)})}return""}function aF(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function Mx(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function lF({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function cF(n){const e=n.get("Content-Disposition");if(e){let t=LX(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(_x(t))return t}return null}function ry(n,e){return new hp(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function uF(n){return n===200||n===206}function hF(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function dF(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ae(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class NX{constructor(e){V(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=aF(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new DX(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new OX(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class DX{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,hF(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Mx(s.url),!uF(s.status))throw ry(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=lF({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=cF(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ms("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:dF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class OX{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,hF(s,this._withCredentials,this._abortController)).then(a=>{const l=Mx(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!uF(a.status))throw ry(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:dF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const JS=200,ZS=206;function jX(n){const e=n.response;return typeof e!="string"?e:Zg(e).buffer}class FX{constructor({url:e,httpHeaders:t,withCredentials:r}){V(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=aF(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=ZS):i.expectedStatus=JS,t.responseType="arraybuffer",ft(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||JS;if(!(s===JS&&r.expectedStatus===ZS)&&s!==r.expectedStatus){r.onError(i.status);return}const a=jX(i);if(s===ZS){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(ae('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class BX{constructor(e){this._source=e,this._manager=new FX(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new HX(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new VX(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class HX{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Mx(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=lF({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=cF(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ry(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class VX{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Mx((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=ry(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const $X=/^[a-z][a-z0-9\-+.]+:/i;function zX(n){if($X.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class WX{constructor(e){this.source=e,this.url=zX(e.url),ft(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new UX(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new GX(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class UX{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=ry(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ms("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class GX{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Vd=Symbol("INITIAL_DATA");var Nn,mm,cE;class fF{constructor(){C(this,mm);C(this,Nn,Object.create(null))}get(e,t=null){if(t){const i=I(this,mm,cE).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=u(this,Nn)[e];if(!r||r.data===Vd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=u(this,Nn)[e];return!!t&&t.data!==Vd}delete(e){const t=u(this,Nn)[e];return!t||t.data===Vd?!1:(delete u(this,Nn)[e],!0)}resolve(e,t=null){const r=I(this,mm,cE).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in u(this,Nn)){const{data:r}=u(this,Nn)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}P(this,Nn,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Nn)){const{data:t}=u(this,Nn)[e];t!==Vd&&(yield[e,t])}}}Nn=new WeakMap,mm=new WeakSet,cE=function(e){var t;return(t=u(this,Nn))[e]||(t[e]={...Promise.withResolvers(),data:Vd})};const KX=1e5,H_=30;var Z_,mo,xn,gm,ym,hl,es,vm,wm,dl,Xu,Qu,go,Ju,bm,Zu,fl,xm,Sm,Ue,eh,pl,Am,yo,th,_0,pF,R0,mF,Em,uE,nh,Cv,Cm,hE,M0,gF,L0,yF;let fp=(Ue=class{constructor({textContentSource:e,container:t,viewport:r}){C(this,_0);C(this,R0);C(this,Em);C(this,mo,Promise.withResolvers());C(this,xn,null);C(this,gm,!1);C(this,ym,!!((Z_=globalThis.FontInspector)!=null&&Z_.enabled));C(this,hl,null);C(this,es,null);C(this,vm,0);C(this,wm,0);C(this,dl,null);C(this,Xu,null);C(this,Qu,0);C(this,go,0);C(this,Ju,Object.create(null));C(this,bm,[]);C(this,Zu,null);C(this,fl,[]);C(this,xm,new WeakMap);C(this,Sm,null);var l;if(e instanceof ReadableStream)P(this,Zu,e);else if(typeof e=="object")P(this,Zu,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');P(this,xn,P(this,Xu,t)),P(this,go,r.scale*Jr.pixelRatio),P(this,Qu,r.rotation),P(this,es,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;P(this,Sm,[1,0,0,-1,-o,a+s]),P(this,wm,i),P(this,vm,s),I(l=Ue,M0,gF).call(l),ia(t,r),u(this,mo).promise.finally(()=>{u(Ue,th).delete(this),P(this,es,null),P(this,Ju,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Rt.platform;return ye(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,dl).read().then(({value:t,done:r})=>{if(r){u(this,mo).resolve();return}u(this,hl)??P(this,hl,t.lang),Object.assign(u(this,Ju),t.styles),I(this,_0,pF).call(this,t.items),e()},u(this,mo).reject)};return P(this,dl,u(this,Zu).getReader()),u(Ue,th).add(this),e(),u(this,mo).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Jr.pixelRatio,i=e.rotation;if(i!==u(this,Qu)&&(t==null||t(),P(this,Qu,i),ia(u(this,Xu),{rotation:i})),r!==u(this,go)){t==null||t(),P(this,go,r);const o={div:null,properties:null,ctx:I(s=Ue,nh,Cv).call(s,u(this,hl))};for(const a of u(this,fl))o.properties=u(this,xm).get(a),o.div=a,I(this,Em,uE).call(this,o)}}cancel(){var t;const e=new Ms("TextLayer task cancelled.");(t=u(this,dl))==null||t.cancel(e).catch(()=>{}),P(this,dl,null),u(this,mo).reject(e)}get textDivs(){return u(this,fl)}get textContentItemsStr(){return u(this,bm)}static cleanup(){if(!(u(this,th).size>0)){u(this,eh).clear();for(const{canvas:e}of u(this,pl).values())e.remove();u(this,pl).clear()}}},mo=new WeakMap,xn=new WeakMap,gm=new WeakMap,ym=new WeakMap,hl=new WeakMap,es=new WeakMap,vm=new WeakMap,wm=new WeakMap,dl=new WeakMap,Xu=new WeakMap,Qu=new WeakMap,go=new WeakMap,Ju=new WeakMap,bm=new WeakMap,Zu=new WeakMap,fl=new WeakMap,xm=new WeakMap,Sm=new WeakMap,eh=new WeakMap,pl=new WeakMap,Am=new WeakMap,yo=new WeakMap,th=new WeakMap,_0=new WeakSet,pF=function(e){var i,s;if(u(this,gm))return;(s=u(this,es)).ctx??(s.ctx=I(i=Ue,nh,Cv).call(i,u(this,hl)));const t=u(this,fl),r=u(this,bm);for(const o of e){if(t.length>KX){ae("Ignoring additional textDivs for performance reasons."),P(this,gm,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=u(this,xn);P(this,xn,document.createElement("span")),u(this,xn).classList.add("markedContent"),o.id!==null&&u(this,xn).setAttribute("id",`${o.id}`),a.append(u(this,xn))}else o.type==="endMarkedContent"&&P(this,xn,u(this,xn).parentNode);continue}r.push(o.str),I(this,R0,mF).call(this,o)}},R0=new WeakSet,mF=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,fl).push(t);const i=ne.transform(u(this,Sm),e.transform);let s=Math.atan2(i[1],i[0]);const o=u(this,Ju)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=u(this,ym)&&o.fontSubstitution||o.fontFamily;a=Ue.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*I(g=Ue,L0,yF).call(g,a,o,u(this,hl));let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const f="calc(var(--total-scale-factor) *",m=t.style;u(this,xn)===u(this,Xu)?(m.left=`${(100*h/u(this,wm)).toFixed(2)}%`,m.top=`${(100*d/u(this,vm)).toFixed(2)}%`):(m.left=`${f}${h.toFixed(2)}px)`,m.top=`${f}${d.toFixed(2)}px)`),m.fontSize=`${f}${(u(Ue,yo)*l).toFixed(2)}px)`,m.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,ym)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);A!==x&&Math.max(A,x)/Math.min(A,x)>1.5&&(y=!0)}if(y&&(r.canvasWidth=o.vertical?e.height:e.width),u(this,xm).set(t,r),u(this,es).div=t,u(this,es).properties=r,I(this,Em,uE).call(this,u(this,es)),r.hasText&&u(this,xn).append(t),r.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),u(this,xn).append(A)}},Em=new WeakSet,uE=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(u(Ue,yo)>1&&(o=`scale(${1/u(Ue,yo)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:h}=r;I(a=Ue,Cm,hE).call(a,i,h*u(this,go),l);const{width:d}=i.measureText(t.textContent);d>0&&(o=`scaleX(${c*u(this,go)/d}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},nh=new WeakSet,Cv=function(e=null){let t=u(this,pl).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,pl).set(e,t),u(this,Am).set(t,{size:0,family:""})}return t},Cm=new WeakSet,hE=function(e,t,r){const i=u(this,Am).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},M0=new WeakSet,gF=function(){if(u(this,yo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),P(this,yo,e.getBoundingClientRect().height),e.remove()},L0=new WeakSet,yF=function(e,t,r){const i=u(this,eh).get(e);if(i)return i;const s=I(this,nh,Cv).call(this,r);s.canvas.width=s.canvas.height=H_,I(this,Cm,hE).call(this,s,H_,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(Rt.platform.isFirefox&&ae("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),u(this,eh).set(e,c),c},C(Ue,nh),C(Ue,Cm),C(Ue,M0),C(Ue,L0),C(Ue,eh,new Map),C(Ue,pl,new Map),C(Ue,Am,new WeakMap),C(Ue,yo,null),C(Ue,th,new Set),Ue);class pp{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(pp.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const YX=100;function eP(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new dE,{docId:t}=e,r=n.url?iX(n.url):null,i=n.data?sX(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof tP?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof dd?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!ty(n.docBaseUrl)?n.docBaseUrl:null,m=Hy(n.cMapUrl),y=n.cMapPacked!==!1,g=n.CMapReaderFactory||(dn?dX:k_),A=Hy(n.iccUrl),x=Hy(n.standardFontDataUrl),S=n.StandardFontDataFactory||(dn?fX:I_),b=Hy(n.wasmUrl),p=n.WasmFactory||(dn?pX:__),w=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,_=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!dn,R=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!dn&&(Rt.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,L=typeof n.disableFontFace=="boolean"?n.disableFontFace:dn,j=n.fontExtraProperties===!0,H=n.enableXfa===!0,N=n.ownerDocument||globalThis.document,$=n.disableRange===!0,D=n.disableStream===!0,B=n.disableAutoFetch===!0,O=n.pdfBug===!0,F=n.CanvasFactory||(dn?hX:lX),W=n.FilterFactory||(dn?uX:cX),U=n.enableHWA===!0,K=n.useWasm!==!1,J=l?l.length:n.length??NaN,he=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!dn&&!L,Pe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===k_&&S===I_&&p===__&&m&&x&&b&&Qd(m,document.baseURI)&&Qd(x,document.baseURI)&&Qd(b,document.baseURI)),le=null;Hq(d);const G={canvasFactory:new F({ownerDocument:N,enableHWA:U}),filterFactory:new W({docId:t,ownerDocument:N}),cMapReaderFactory:Pe?null:new g({baseUrl:m,isCompressed:y}),standardFontDataFactory:Pe?null:new S({baseUrl:x}),wasmFactory:Pe?null:new p({baseUrl:b})};h||(h=dd.create({verbosity:d,port:yr.workerPort}),e._worker=h);const de={docId:t,apiVersion:"5.3.93",data:i,password:a,disableAutoFetch:B,rangeChunkSize:c,length:J,docBaseUrl:f,enableXfa:H,evaluatorOptions:{maxImageSize:T,disableFontFace:L,ignoreErrors:w,isEvalSupported:k,isOffscreenCanvasSupported:_,isImageDecoderSupported:R,canvasMaxAreaInBytes:M,fontExtraProperties:j,useSystemFonts:he,useWasm:K,useWorkerFetch:Pe,cMapUrl:m,iccUrl:A,standardFontDataUrl:x,wasmUrl:b}},ce={ownerDocument:N,pdfBug:O,styleElement:le,loadingParams:{disableAutoFetch:B,enableXfa:H}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const te=h.messageHandler.sendWithPromise("GetDocRequest",de,i?[i.buffer]:null);let ie;if(l)ie=new _X(l,{disableRange:$,disableStream:D});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const me=Qd(r)?NX:dn?WX:BX;ie=new me({url:r,length:J,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:$,disableStream:D})}return te.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const se=new nf(t,me,h.port),Se=new QX(se,e,ie,ce,G);e._transport=Se,se.send("Ready",null)})}).catch(e._capability.reject),e}var N0;const D0=class D0{constructor(){V(this,"_capability",Promise.withResolvers());V(this,"_transport",null);V(this,"_worker",null);V(this,"docId",`d${rn(D0,N0)._++}`);V(this,"destroyed",!1);V(this,"onPassword",null);V(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};N0=new WeakMap,C(D0,N0,0);let dE=D0;var ml,Tm,Pm,km,Im,eR;let tP=(eR=class{constructor(e,t,r=!1,i=null){C(this,ml,Promise.withResolvers());C(this,Tm,[]);C(this,Pm,[]);C(this,km,[]);C(this,Im,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){u(this,Im).push(e)}addProgressListener(e){u(this,km).push(e)}addProgressiveReadListener(e){u(this,Pm).push(e)}addProgressiveDoneListener(e){u(this,Tm).push(e)}onDataRange(e,t){for(const r of u(this,Im))r(e,t)}onDataProgress(e,t){u(this,ml).promise.then(()=>{for(const r of u(this,km))r(e,t)})}onDataProgressiveRead(e){u(this,ml).promise.then(()=>{for(const t of u(this,Pm))t(e)})}onDataProgressiveDone(){u(this,ml).promise.then(()=>{for(const e of u(this,Tm))e()})}transportReady(){u(this,ml).resolve()}requestDataRange(e,t){Re("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},ml=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,km=new WeakMap,Im=new WeakMap,eR);class qX{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ye(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ts,gl,lf;class XX{constructor(e,t,r,i=!1){C(this,gl);C(this,ts,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new C_:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new fF,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new ey({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ye(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Ei.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:d=!1}){var p,w;(p=this._stats)==null||p.time("Overall");const f=this._transport.getRenderingIntent(r,i,h,d),{renderingIntent:m,cacheKey:y}=f;P(this,ts,!1),a||(a=this._transport.getOptionalContentConfig(m));let g=this._intentStates.get(y);g||(g=Object.create(null),this._intentStates.set(y,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const A=!!(m&Un.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(f));const x=T=>{var k;g.renderTasks.delete(S),A&&P(this,ts,!0),I(this,gl,lf).call(this),T?(S.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new fE({callback:x,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(S);const b=S.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([T,k])=>{var _;if(this.destroyed){x();return}if((_=this._stats)==null||_.time("Rendering"),!(k.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:T,optionalContentConfig:k}),S.operatorListChanged()}).catch(x),b}getOperatorList({intent:e="display",annotationMode:t=Ei.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>pp.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),P(this,ts,!1),Promise.all(e)}cleanup(e=!1){P(this,ts,!0);const t=I(this,gl,lf).call(this);return e&&t&&this._stats&&(this._stats=new C_),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&I(this,gl,lf).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();I(this,gl,lf).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof Ix){let i=YX;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ms(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ts=new WeakMap,gl=new WeakSet,lf=function(){if(!u(this,ts)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),P(this,ts,!1),!0};var vo,Lr,ns,yl,O0,vl,wl,rh,Tv,j0,vF,F0,wF,bl,cf,ih,Pv;const $e=class $e{constructor({name:e=null,port:t=null,verbosity:r=Vq()}={}){C(this,rh);C(this,j0);C(this,F0);C(this,bl);C(this,vo,Promise.withResolvers());C(this,Lr,null);C(this,ns,null);C(this,yl,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(u($e,wl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");u($e,wl).set(t,this),I(this,j0,vF).call(this,t)}else I(this,F0,wF).call(this)}get promise(){return u(this,vo).promise}get port(){return u(this,ns)}get messageHandler(){return u(this,Lr)}destroy(){var e,t;this.destroyed=!0,(e=u(this,yl))==null||e.terminate(),P(this,yl,null),u($e,wl).delete(u(this,ns)),P(this,ns,null),(t=u(this,Lr))==null||t.destroy(),P(this,Lr,null)}static create(e){const t=u(this,wl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new $e(e)}static get workerSrc(){if(yr.workerSrc)return yr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ye(this,"_setupFakeWorkerGlobal",(async()=>u(this,ih,Pv)?u(this,ih,Pv):(await Bq(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};vo=new WeakMap,Lr=new WeakMap,ns=new WeakMap,yl=new WeakMap,O0=new WeakMap,vl=new WeakMap,wl=new WeakMap,rh=new WeakSet,Tv=function(){u(this,vo).resolve(),u(this,Lr).send("configure",{verbosity:this.verbosity})},j0=new WeakSet,vF=function(e){P(this,ns,e),P(this,Lr,new nf("main","worker",e)),u(this,Lr).on("ready",()=>{}),I(this,rh,Tv).call(this)},F0=new WeakSet,wF=function(){if(u($e,vl)||u($e,ih,Pv)){I(this,bl,cf).call(this);return}let{workerSrc:e}=$e;try{$e._isSameOrigin(window.location,e)||(e=$e._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new nf("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?u(this,vo).reject(new Error("Worker was destroyed")):I(this,bl,cf).call(this)},s=new AbortController;t.addEventListener("error",()=>{u(this,yl)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}P(this,Lr,r),P(this,ns,t),P(this,yl,t),I(this,rh,Tv).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{I(this,bl,cf).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{kx("The worker has been disabled.")}I(this,bl,cf).call(this)},bl=new WeakSet,cf=function(){u($e,vl)||(ae("Setting up fake worker."),P($e,vl,!0)),$e._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){u(this,vo).reject(new Error("Worker was destroyed"));return}const t=new aX;P(this,ns,t);const r=`fake${rn($e,O0)._++}`,i=new nf(r+"_worker",r,t);e.setup(i,t),P(this,Lr,new nf(r,r+"_worker",t)),I(this,rh,Tv).call(this)}).catch(e=>{u(this,vo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ih=new WeakSet,Pv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C($e,ih),C($e,O0,0),C($e,vl,!1),C($e,wl,new WeakMap),dn&&(P($e,vl,!0),yr.workerSrc||(yr.workerSrc="./pdf.worker.mjs")),$e._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},$e._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},$e.fromPort=e=>{if(Xq("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return $e.create(e)};let dd=$e;var rs,fi,sh,oh,is,xl,uf;class QX{constructor(e,t,r,i,s){C(this,xl);C(this,rs,new Map);C(this,fi,new Map);C(this,sh,new Map);C(this,oh,new Map);C(this,is,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new fF,this.fontLoader=new nX({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ye(this,"annotationStorage",new QT)}getRenderingIntent(e,t=Ei.ENABLE,r=null,i=!1,s=!1){let o=Un.DISPLAY,a=ZA;switch(e){case"any":o=Un.ANY;break;case"display":break;case"print":o=Un.PRINT;break;default:ae(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Un.PRINT&&r instanceof Xj?r:this.annotationStorage;switch(t){case Ei.DISABLE:o+=Un.ANNOTATIONS_DISABLE;break;case Ei.ENABLE:break;case Ei.ENABLE_FORMS:o+=Un.ANNOTATIONS_FORMS;break;case Ei.ENABLE_STORAGE:o+=Un.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ae(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Un.IS_EDITING),s&&(o+=Un.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[o,a.hash,h];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,is))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,fi).values())e.push(i._destroy());u(this,fi).clear(),u(this,sh).clear(),u(this,oh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),u(this,rs).clear(),this.filterFactory.destroy(),fp.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ms("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}ft(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}ft(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new qX(r,this))}),e.on("DocException",r=>{t._capability.reject(vn(r))}),e.on("PasswordRequest",r=>{P(this,is,Promise.withResolvers());try{if(!t.onPassword)throw vn(r);const i=s=>{s instanceof Error?u(this,is).reject(s):u(this,is).resolve({password:s})};t.onPassword(i,r.code)}catch(i){u(this,is).reject(i)}return u(this,is).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,fi).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const h=s.error;ae(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,l=new rX(s,a);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;ft(c,"The imageRef must be defined.");for(const h of u(this,fi).values())for(const[,d]of h.objs)if((d==null?void 0:d.ref)===c)return d.dataLen?(this.commonObjs.resolve(r,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=u(this,fi).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ae("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=u(this,sh).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,oh).set(s.refStr,e);const o=new XX(t,s,this,this._params.pdfBug);return u(this,fi).set(t,o),o});return u(this,sh).set(t,i),i}getPageIndex(e){return eE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return I(this,xl,uf).call(this,"GetFieldObjects")}hasJSActions(){return I(this,xl,uf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return I(this,xl,uf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return I(this,xl,uf).call(this,"GetOptionalContentConfig").then(t=>new IX(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,rs).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new PX(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,rs).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,fi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,rs).clear(),this.filterFactory.destroy(!0),fp.cleanup()}}cachedPageNumber(e){if(!eE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,oh).get(t)??null}}rs=new WeakMap,fi=new WeakMap,sh=new WeakMap,oh=new WeakMap,is=new WeakMap,xl=new WeakSet,uf=function(e,t=null){const r=u(this,rs).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return u(this,rs).set(e,i),i};var wo;class JX{constructor(e){C(this,wo,null);V(this,"onContinue",null);V(this,"onError",null);P(this,wo,e)}get promise(){return u(this,wo).capability.promise}cancel(e=0){u(this,wo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,wo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,wo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}wo=new WeakMap;var bo,Sl;const ka=class ka{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){C(this,bo,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new JX(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(u(ka,Sl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ka,Sl).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new mu(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(this,bo)&&(window.cancelAnimationFrame(u(this,bo)),P(this,bo,null)),u(ka,Sl).delete(this._canvas),e||(e=new Ix(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?P(this,bo,window.requestAnimationFrame(()=>{P(this,bo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ka,Sl).delete(this._canvas),this.callback())))}};bo=new WeakMap,Sl=new WeakMap,C(ka,Sl,new WeakSet);let fE=ka;const bF="5.3.93",xF="cbeef3233";function V_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function $d(n){return Math.max(0,Math.min(255,255*n))}class $_{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=$d(e),[e,e,e]}static G_HTML([e]){const t=V_(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map($d)}static RGB_HTML(e){return`#${e.map(V_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[$d(1-Math.min(1,e+i)),$d(1-Math.min(1,r+i)),$d(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class ZX{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Re("Abstract method `_createSVG` called.")}}class mp extends ZX{_createSVG(e){return document.createElementNS(Di,e)}}class nP{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var d,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);o.append(m),a&&pp.shouldBuildText(i.name)&&c.push(m)}return{textDivs:c}}const h=[[i,-1,o]];for(;h.length>0;){const[m,y,g]=h.at(-1);if(y+1===m.children.length){h.pop();continue}const A=m.children[++h.at(-1)[1]];if(A===null)continue;const{name:x}=A;if(x==="#text"){const b=document.createTextNode(A.value);c.push(b),g.append(b);continue}const S=(d=A==null?void 0:A.attributes)!=null&&d.xmlns?document.createElementNS(A.attributes.xmlns,x):document.createElement(x);if(g.append(S),A.attributes&&this.setAttributes({html:S,element:A,storage:t,intent:s,linkService:r}),((f=A.children)==null?void 0:f.length)>0)h.push([A,-1,S]);else if(A.value){const b=document.createTextNode(A.value);a&&pp.shouldBuildText(x)&&c.push(b),S.append(b)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const e7=9,pc=new WeakSet;class z_{static create(e){switch(e.data.annotationType){case rt.LINK:return new SF(e);case rt.TEXT:return new t7(e);case rt.WIDGET:switch(e.data.fieldType){case"Tx":return new n7(e);case"Btn":return e.data.radioButton?new CF(e):e.data.checkBox?new i7(e):new s7(e);case"Ch":return new o7(e);case"Sig":return new r7(e)}return new Cc(e);case rt.POPUP:return new mE(e);case rt.FREETEXT:return new _F(e);case rt.LINE:return new l7(e);case rt.SQUARE:return new c7(e);case rt.CIRCLE:return new u7(e);case rt.POLYLINE:return new RF(e);case rt.CARET:return new d7(e);case rt.INK:return new rP(e);case rt.POLYGON:return new h7(e);case rt.HIGHLIGHT:return new MF(e);case rt.UNDERLINE:return new f7(e);case rt.SQUIGGLY:return new p7(e);case rt.STRIKEOUT:return new m7(e);case rt.STAMP:return new LF(e);case rt.FILEATTACHMENT:return new g7(e);default:return new lt(e)}}}var Al,ah,lh,_m,pE;const fP=class fP{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){C(this,_m);C(this,Al,null);C(this,ah,!1);C(this,lh,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return fP._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;u(this,Al)||P(this,Al,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&I(this,_m,pE).call(this,t),(r=u(this,lh))==null||r.popup.updateEdited(e)}resetEdited(){var e;u(this,Al)&&(I(this,_m,pE).call(this,u(this,Al).rect),(e=u(this,lh))==null||e.popup.resetEdited(),P(this,Al,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Cc||(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof mE){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(g>0||A>0){const S=`calc(${g}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;o.borderRadius=S}else if(this instanceof CF){const S=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=S}switch(t.borderStyle.style){case Mc.SOLID:o.borderStyle="solid";break;case Mc.DASHED:o.borderStyle="dashed";break;case Mc.BEVELED:ae("Unimplemented border style: beveled");break;case Mc.INSET:ae("Unimplemented border style: inset");break;case Mc.UNDERLINE:o.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(P(this,ah,!0),o.borderColor=ne.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):o.borderWidth=0}const c=ne.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:m}=i.rawDims;o.left=`${100*(c[0]-f)/h}%`,o.top=`${100*(c[1]-m)/d}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(o.width=`${100*a/h}%`,o.height=`${100*l/d}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=$_[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:$_[`${o}_rgb`](a)})};return ye(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,A,x,S]=e.subarray(2,6);if(i===g&&s===A&&t===x&&r===S)return}const{style:o}=this.container;let a;if(u(this,ah)){const{borderColor:g,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=h.createElement("defs");d.append(f);const m=h.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),f.append(m);for(let g=2,A=e.length;g<A;g+=8){const x=e[g],S=e[g+1],b=e[g+2],p=e[g+3],w=h.createElement("rect"),T=(b-t)/l,k=(s-S)/c,_=(x-b)/l,R=(S-p)/c;w.setAttribute("x",T),w.setAttribute("y",k),w.setAttribute("width",_),w.setAttribute("height",R),m.append(w),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${k}" width="${_}" height="${R}"/>`)}u(this,ah)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,t=P(this,lh,new mE({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Re("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!pc.has(c)){ae(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&pc.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Al=new WeakMap,ah=new WeakMap,lh=new WeakMap,_m=new WeakSet,pE=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let lt=fP;var ss,Ea,B0,AF,H0,EF;class SF extends lt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});C(this,ss);C(this,B0);C(this,H0);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(I(this,B0,AF).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(I(this,H0,EF).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&I(this,ss,Ea).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),I(this,ss,Ea).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),I(this,ss,Ea).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),I(this,ss,Ea).call(this),!this._fieldObjects){ae('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const m of s){const y=this._fieldObjects[m]||[];for(const{id:g}of y)f.add(g)}for(const m of Object.values(this._fieldObjects))for(const y of m)f.has(y.id)===a&&l.push(y)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:m}=f;switch(h.push(m),f.type){case"text":{const g=f.defaultValue||"";c.setValue(m,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;c.setValue(m,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";c.setValue(m,{value:g});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!pc.has(y)){ae(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ss=new WeakSet,Ea=function(){this.container.setAttribute("data-internal-link","")},B0=new WeakSet,AF=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},I(this,ss,Ea).call(this)},H0=new WeakSet,EF=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),I(this,ss,Ea).call(this)};class t7 extends lt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Cc extends lt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Rt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ne.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||e7,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(GS*i))||1,d=c/h;o=Math.min(i,l(d/GS))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/GS))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=ne.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class n7 extends Cc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),pc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(r.title=d),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",m=>{e.setValue(t,{value:m.target.value}),this.setPropertyOnSiblings(r,"value",m.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue??"";r.value=h.userValue=y,h.formattedValue=null});let f=m=>{const{formattedValue:y}=h;y!=null&&(m.target.value=y),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{var A;if(h.focused)return;const{target:g}=y;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const g={value(A){h.userValue=A.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),A.target.value=h.userValue},formattedValue(A){const{formattedValue:x}=A.detail;h.formattedValue=x,x!=null&&A.target!==document.activeElement&&(A.target.value=x),e.setValue(t,{formattedValue:x})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var p;const{charLimit:x}=A.detail,{target:S}=A;if(x===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",x);let b=h.userValue;!b||b.length<=x||(b=b.slice(0,x),S.value=h.userValue=b,e.setValue(t,{value:b}),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(g,y)}),r.addEventListener("keydown",y=>{var x;h.commitKey=1;let g=-1;if(y.key==="Escape"?g=0:y.key==="Enter"&&!this.data.multiLine?g=2:y.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:A}=y.target;h.lastCommittedValue!==A&&(h.lastCommittedValue=A,h.userValue=A,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:g,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const m=f;f=null,r.addEventListener("blur",y=>{var A,x;if(!h.focused||!y.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(h.focused=!1);const{value:g}=y.target;h.userValue=g,h.lastCommittedValue!==g&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),m(y)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",y=>{var T;h.lastCommittedValue=null;const{data:g,target:A}=y,{value:x,selectionStart:S,selectionEnd:b}=A;let p=S,w=b;switch(y.inputType){case"deleteWordBackward":{const k=x.substring(0,S).match(/\w*[^\w]*$/);k&&(p-=k[0].length);break}case"deleteWordForward":{const k=x.substring(S).match(/^[^\w]*\w*/);k&&(w+=k[0].length);break}case"deleteContentBackward":S===b&&(p-=1);break;case"deleteContentForward":S===b&&(w+=1);break}y.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,change:g||"",willCommit:!1,selStart:p,selEnd:w}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class r7 extends Cc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class i7 extends Cc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return pc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const h=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class CF extends Cc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(pc.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class s7 extends SF{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class o7 extends Cc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");pc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:m}=i;return m?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const m=f.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const g of i.options)g.selected=y.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const m=i.options,y=f.detail.remove;m[y].selected=!1,i.remove(y),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:m,displayValue:y,exportValue:g}=f.detail.insert,A=i.children[m],x=document.createElement("option");x.textContent=y,x.value=g,A?A.before(x):i.append(x),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:m}=f.detail;for(;i.length!==0;)i.remove(0);for(const y of m){const{displayValue:g,exportValue:A}=y,x=document.createElement("option");x.textContent=g,x.value=A,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const m=new Set(f.detail.indices);for(const y of f.target.options)y.selected=m.has(y.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{var m;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class mE extends lt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:lt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new a7({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${qT}${i}`).join(",")),this.container}}var ch,V0,$0,uh,hh,Ze,os,El,Rm,Mm,dh,as,Nr,ls,Lm,cs,Nm,Cl,Tl,fh,kv,Dm,gE,z0,TF,W0,PF,U0,kF,G0,IF,ph,Iv,mh,_v,Om,yE;class a7{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:h,open:d}){C(this,fh);C(this,Dm);C(this,z0);C(this,W0);C(this,U0);C(this,G0);C(this,ph);C(this,mh);C(this,Om);C(this,ch,I(this,U0,kF).bind(this));C(this,V0,I(this,Om,yE).bind(this));C(this,$0,I(this,mh,_v).bind(this));C(this,uh,I(this,ph,Iv).bind(this));C(this,hh,null);C(this,Ze,null);C(this,os,null);C(this,El,null);C(this,Rm,null);C(this,Mm,null);C(this,dh,null);C(this,as,!1);C(this,Nr,null);C(this,ls,null);C(this,Lm,null);C(this,cs,null);C(this,Nm,null);C(this,Cl,null);C(this,Tl,!1);var f;P(this,Ze,e),P(this,Nm,i),P(this,os,o),P(this,cs,a),P(this,Mm,l),P(this,hh,t),P(this,Lm,c),P(this,dh,h),P(this,Rm,r),P(this,El,Rx.toDateObject(s)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",u(this,uh)),m.addEventListener("mouseenter",u(this,$0)),m.addEventListener("mouseleave",u(this,V0)),m.classList.add("popupTriggerArea");for(const m of r)(f=m.container)==null||f.addEventListener("keydown",u(this,ch));u(this,Ze).hidden=!0,d&&I(this,ph,Iv).call(this)}render(){if(u(this,Nr))return;const e=P(this,Nr,document.createElement("div"));if(e.className="popup",u(this,hh)){const s=e.style.outlineColor=ne.makeHexColor(...u(this,hh));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=u(this,Nm),e.append(t),u(this,El)){const s=document.createElement("time");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,El).valueOf()})),s.dateTime=u(this,El).toISOString(),t.append(s)}const i=u(this,fh,kv);if(i)nP.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(u(this,os));e.append(s)}u(this,Ze).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;u(this,Cl)||P(this,Cl,{contentsObj:u(this,os),richText:u(this,cs)}),e&&P(this,ls,null),t&&(P(this,cs,I(this,W0,PF).call(this,t)),P(this,os,null)),(r=u(this,Nr))==null||r.remove(),P(this,Nr,null)}resetEdited(){var e;u(this,Cl)&&({contentsObj:rn(this,os)._,richText:rn(this,cs)._}=u(this,Cl),P(this,Cl,null),(e=u(this,Nr))==null||e.remove(),P(this,Nr,null),P(this,ls,null))}forceHide(){P(this,Tl,this.isVisible),u(this,Tl)&&(u(this,Ze).hidden=!0)}maybeShow(){u(this,Tl)&&(u(this,Nr)||I(this,mh,_v).call(this),P(this,Tl,!1),u(this,Ze).hidden=!1)}get isVisible(){return u(this,Ze).hidden===!1}}ch=new WeakMap,V0=new WeakMap,$0=new WeakMap,uh=new WeakMap,hh=new WeakMap,Ze=new WeakMap,os=new WeakMap,El=new WeakMap,Rm=new WeakMap,Mm=new WeakMap,dh=new WeakMap,as=new WeakMap,Nr=new WeakMap,ls=new WeakMap,Lm=new WeakMap,cs=new WeakMap,Nm=new WeakMap,Cl=new WeakMap,Tl=new WeakMap,fh=new WeakSet,kv=function(){const e=u(this,cs),t=u(this,os);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,cs).html||null},Dm=new WeakSet,gE=function(){var e,t,r;return((r=(t=(e=u(this,fh,kv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},z0=new WeakSet,TF=function(){var e,t,r;return((r=(t=(e=u(this,fh,kv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},W0=new WeakSet,PF=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,z0,TF),fontSize:u(this,Dm,gE)?`calc(${u(this,Dm,gE)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},U0=new WeakSet,kF=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,as))&&I(this,ph,Iv).call(this)},G0=new WeakSet,IF=function(){if(u(this,ls)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=u(this,Mm);let o=!!u(this,dh),a=o?u(this,dh):u(this,Lm);for(const y of u(this,Rm))if(!a||ne.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const l=ne.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=5,h=o?a[2]-a[0]+c:0,d=l[0]+h,f=l[1];P(this,ls,[100*(d-i)/t,100*(f-s)/r]);const{style:m}=u(this,Ze);m.left=`${u(this,ls)[0]}%`,m.top=`${u(this,ls)[1]}%`},ph=new WeakSet,Iv=function(){P(this,as,!u(this,as)),u(this,as)?(I(this,mh,_v).call(this),u(this,Ze).addEventListener("click",u(this,uh)),u(this,Ze).addEventListener("keydown",u(this,ch))):(I(this,Om,yE).call(this),u(this,Ze).removeEventListener("click",u(this,uh)),u(this,Ze).removeEventListener("keydown",u(this,ch)))},mh=new WeakSet,_v=function(){u(this,Nr)||this.render(),this.isVisible?u(this,as)&&u(this,Ze).classList.add("focused"):(I(this,G0,IF).call(this),u(this,Ze).hidden=!1,u(this,Ze).style.zIndex=parseInt(u(this,Ze).style.zIndex)+1e3)},Om=new WeakSet,yE=function(){u(this,Ze).classList.remove("focused"),!(u(this,as)||!this.isVisible)&&(u(this,Ze).hidden=!0,u(this,Ze).style.zIndex=parseInt(u(this,Ze).style.zIndex)-1e3)};class _F extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=oe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var jm;class l7 extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,jm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=P(this,jm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,jm)}addHighlightArea(){this.container.classList.add("highlightArea")}}jm=new WeakMap;var Fm;class c7 extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Fm,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=P(this,Fm,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Fm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fm=new WeakMap;var Bm;class u7 extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Bm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=P(this,Bm,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Bm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bm=new WeakMap;var Hm;class RF extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Hm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,f=r.length;d<f;d+=2){const m=r[d]-t[0],y=t[3]-r[d+1];c.push(`${m},${y}`)}c=c.join(" ");const h=P(this,Hm,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Hm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hm=new WeakMap;class h7 extends RF{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class d7 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Vm,Pl,$m,vE;class rP extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,$m);C(this,Vm,null);C(this,Pl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?oe.HIGHLIGHT:oe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:c}=I(this,$m,vE).call(this,r,t),h=this.svgFactory.create(l,c,!0),d=P(this,Vm,this.svgFactory.createElement("svg:g"));h.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let f=0,m=i.length;f<m;f++){const y=this.svgFactory.createElement(this.svgElementName);u(this,Pl).push(y),y.setAttribute("points",i[f].join(",")),d.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,o=u(this,Vm);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,l=u(this,Pl).length;a<l;a++)u(this,Pl)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:l,height:c}=I(this,$m,vE).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return u(this,Pl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vm=new WeakMap,Pl=new WeakMap,$m=new WeakSet,vE=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class MF extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=oe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class f7 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class p7 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class m7 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class LF extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=oe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var zm,Wm,wE;class g7 extends lt{constructor(t){var i;super(t,{isRenderable:!0});C(this,Wm);C(this,zm,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",I(this,Wm,wE).bind(this)),P(this,zm,i);const{isMac:s}=Rt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&I(this,Wm,wE).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,zm)}addHighlightArea(){this.container.classList.add("highlightArea")}}zm=new WeakMap,Wm=new WeakSet,wE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Um,kl,xo,Gm,Km,bE,Ym,xE,qm;let iP=(qm=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){C(this,Km);C(this,Ym);C(this,Um,null);C(this,kl,null);C(this,xo,new Map);C(this,Gm,null);this.div=e,P(this,Um,t),P(this,kl,r),P(this,Gm,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return u(this,xo).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;ia(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new mp,annotationStorage:e.annotationStorage||new QT,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===rt.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const c=z_.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),await I(this,Km,bE).call(this,h,a.id,s.elements),c._isEditable&&(u(this,xo).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}I(this,Ym,xE).call(this)}async addLinkAnnotations(e,t){const r={data:null,layer:this.div,linkService:t,svgFactory:new mp,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=qm._defaultBorderStyle),r.data=i;const s=z_.create(r);if(!s.isRenderable)continue;const o=s.render();await I(this,Km,bE).call(this,o,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ia(t,{rotation:e.rotation}),I(this,Ym,xE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,xo).values())}getEditableAnnotation(e){return u(this,xo).get(e)}static get _defaultBorderStyle(){return ye(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Mc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Um=new WeakMap,kl=new WeakMap,xo=new WeakMap,Gm=new WeakMap,Km=new WeakSet,bE=async function(e,t,r){var a,l;const i=e.firstChild||e,s=i.id=`${qT}${t}`,o=await((a=u(this,Gm))==null?void 0:a.getAriaAttributes(s));if(o)for(const[c,h]of o)i.setAttribute(c,h);r?r.at(-1).container.after(e):(this.div.append(e),(l=u(this,Um))==null||l.moveElementInDOM(this.div,e,i,!1))},Ym=new WeakSet,xE=function(){var t;if(!u(this,kl))return;const e=this.div;for(const[r,i]of u(this,kl)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=u(this,xo).get(r);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}u(this,kl).clear()},qm);const Wy=/\r\n?|\n/g;var Dr,Dn,Xm,Il,On,K0,NF,Y0,DF,q0,OF,gh,Rv,yh,Mv,vh,Lv,X0,jF,Qm,AE,Q0,FF;const Me=class Me extends Oe{constructor(t){super({...t,name:"freeTextEditor"});C(this,K0);C(this,Y0);C(this,q0);C(this,gh);C(this,vh);C(this,X0);C(this,Q0);C(this,Dr,void 0);C(this,Dn,"");C(this,Xm,`${this.id}-editor`);C(this,Il,null);C(this,On,void 0);P(this,Dr,t.color||Me._defaultColor||Oe._defaultLineColor),P(this,On,t.fontSize||Me._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Me.prototype,r=o=>o.isEmpty(),i=sa.TRANSLATE_SMALL,s=sa.TRANSLATE_BIG;return ye(this,"_keyboardManager",new ny([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Oe.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case xe.FREETEXT_SIZE:Me._defaultFontSize=r;break;case xe.FREETEXT_COLOR:Me._defaultColor=r;break}}updateParams(t,r){switch(t){case xe.FREETEXT_SIZE:I(this,K0,NF).call(this,r);break;case xe.FREETEXT_COLOR:I(this,Y0,DF).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[xe.FREETEXT_SIZE,Me._defaultFontSize],[xe.FREETEXT_COLOR,Me._defaultColor||Oe._defaultLineColor]]}get propertiesToUpdate(){return[[xe.FREETEXT_SIZE,u(this,On)],[xe.FREETEXT_COLOR,u(this,Dr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Me._internalPadding*t,-(Me._internalPadding+u(this,On))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),P(this,Il,new AbortController);const t=this._uiManager.combinedSignal(u(this,Il));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Xm)),this._isDraggable=!0,(t=u(this,Il))==null||t.abort(),P(this,Il,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Dn),r=P(this,Dn,I(this,q0,OF).call(this).trimEnd());if(t===r)return;const i=s=>{if(P(this,Dn,s),!s){this.remove();return}I(this,vh,Lv).call(this),this._uiManager.rebuild(this),I(this,gh,Rv).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),I(this,gh,Rv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Me._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Xm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,On)}px * var(--total-scale-factor))`,i.color=u(this,Dr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,m]=this.pageTranslation;let y,g;switch(this.rotation){case 0:y=t+(a[0]-f)/h,g=r+this.height-(a[1]-m)/d;break;case 90:y=t+(a[0]-f)/h,g=r-(a[1]-m)/d,[l,c]=[c,-l];break;case 180:y=t-this.width+(a[0]-f)/h,g=r-(a[1]-m)/d,[l,c]=[-l,-c];break;case 270:y=t+(a[0]-f-this.height*d)/h,g=r+(a[1]-m-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(y*s,g*o,l,c)}else this._moveAfterPaste(t,r);I(this,vh,Lv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,g,A;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=I(y=Me,Qm,AE).call(y,r.getData("text")||"").replaceAll(Wy,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(Wy,"")),x!==this.editorDiv){let S=h;for(const b of this.editorDiv.childNodes){if(b===x){S=d;continue}S.push(I(g=Me,yh,Mv).call(g,b))}}h.push(l.nodeValue.slice(0,c).replaceAll(Wy,""))}else if(l===this.editorDiv){let x=h,S=0;for(const b of this.editorDiv.childNodes)S++===c&&(x=d),x.push(I(A=Me,yh,Mv).call(A,b))}P(this,Dn,`${h.join(`
`)}${s}${d.join(`
`)}`),I(this,vh,Lv).call(this);const f=new Range;let m=Math.sumPrecise(h.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const S=x.nodeValue.length;if(m<=S){f.setStart(x,m),f.setEnd(x,m);break}m-=S}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var a;let s=null;if(t instanceof _F){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f,popupRef:m},textContent:y,textPosition:g,parent:{page:{pageNumber:A}}}=t;if(!y||y.length===0)return null;s=t={annotationType:oe.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:g,pageIndex:A-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:m}}const o=await super.deserialize(t,r,i);return P(o,On,t.fontSize),P(o,Dr,ne.makeHexColor(...t.color)),P(o,Dn,I(a=Me,Qm,AE).call(a,t.value)),o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Me._internalPadding*this.parentScale,i=this.getRect(r,r),s=Oe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Dr)),o={annotationType:oe.FREETEXT,color:s,fontSize:u(this,On),value:I(this,X0,jF).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!I(this,Q0,FF).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${u(this,On)}px * var(--total-scale-factor))`,i.color=u(this,Dr),r.replaceChildren();for(const o of u(this,Dn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=Me._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:u(this,Dn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Dr=new WeakMap,Dn=new WeakMap,Xm=new WeakMap,Il=new WeakMap,On=new WeakMap,K0=new WeakSet,NF=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-u(this,On))*this.parentScale),P(this,On,s),I(this,gh,Rv).call(this)},i=u(this,On);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Y0=new WeakSet,DF=function(t){const r=s=>{P(this,Dr,this.editorDiv.style.color=s)},i=u(this,Dr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},q0=new WeakSet,OF=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(I(i=Me,yh,Mv).call(i,s)),r=s);return t.join(`
`)},gh=new WeakSet,Rv=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},yh=new WeakSet,Mv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Wy,"")},vh=new WeakSet,Lv=function(){if(this.editorDiv.replaceChildren(),!!u(this,Dn))for(const t of u(this,Dn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},X0=new WeakSet,jF=function(){return u(this,Dn).replaceAll(" "," ")},Qm=new WeakSet,AE=function(t){return t.replaceAll(" "," ")},Q0=new WeakSet,FF=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},C(Me,yh),C(Me,Qm),V(Me,"_freeTextDefaultContent",""),V(Me,"_internalPadding",0),V(Me,"_defaultColor",null),V(Me,"_defaultFontSize",10),V(Me,"_type","freetext"),V(Me,"_editorType",oe.FREETEXT);let SE=Me;class Y{toSVGPath(){Re("Abstract method `toSVGPath` must be implemented.")}get box(){Re("Abstract getter `box` must be implemented.")}serialize(e,t){Re("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,o){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}V(Y,"PRECISION",1e-4);var jn,Or,wh,bh,pi,ge,_l,Rl,Jm,Zm,xh,Sh,So,eg,J0,Z0,Ml,hf,eb,BF,tb,HF,nb,VF,rb,$F,ib,zF,sb,WF;const Hi=class Hi{constructor({x:e,y:t},r,i,s,o,a=0){C(this,Ml);C(this,eb);C(this,tb);C(this,nb);C(this,rb);C(this,ib);C(this,sb);C(this,jn,void 0);C(this,Or,[]);C(this,wh,void 0);C(this,bh,void 0);C(this,pi,[]);C(this,ge,new Float32Array(18));C(this,_l,void 0);C(this,Rl,void 0);C(this,Jm,void 0);C(this,Zm,void 0);C(this,xh,void 0);C(this,Sh,void 0);C(this,So,[]);P(this,jn,r),P(this,Sh,s*i),P(this,bh,o),u(this,ge).set([NaN,NaN,NaN,NaN,e,t],6),P(this,wh,a),P(this,Zm,u(Hi,eg)*i),P(this,Jm,u(Hi,Z0)*i),P(this,xh,i),u(this,So).push(e,t)}isEmpty(){return isNaN(u(this,ge)[8])}add({x:e,y:t}){var R;P(this,_l,e),P(this,Rl,t);const[r,i,s,o]=u(this,jn);let[a,l,c,h]=u(this,ge).subarray(8,12);const d=e-c,f=t-h,m=Math.hypot(d,f);if(m<u(this,Jm))return!1;const y=m-u(this,Zm),g=y/m,A=g*d,x=g*f;let S=a,b=l;a=c,l=h,c+=A,h+=x,(R=u(this,So))==null||R.push(e,t);const p=-x/y,w=A/y,T=p*u(this,Sh),k=w*u(this,Sh);return u(this,ge).set(u(this,ge).subarray(2,8),0),u(this,ge).set([c+T,h+k],4),u(this,ge).set(u(this,ge).subarray(14,18),12),u(this,ge).set([c-T,h-k],16),isNaN(u(this,ge)[6])?(u(this,pi).length===0&&(u(this,ge).set([a+T,l+k],2),u(this,pi).push(NaN,NaN,NaN,NaN,(a+T-r)/s,(l+k-i)/o),u(this,ge).set([a-T,l-k],14),u(this,Or).push(NaN,NaN,NaN,NaN,(a-T-r)/s,(l-k-i)/o)),u(this,ge).set([S,b,a,l,c,h],6),!this.isEmpty()):(u(this,ge).set([S,b,a,l,c,h],6),Math.abs(Math.atan2(b-l,S-a)-Math.atan2(x,A))<Math.PI/2?([a,l,c,h]=u(this,ge).subarray(2,6),u(this,pi).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+h)/2-i)/o),[a,l,S,b]=u(this,ge).subarray(14,18),u(this,Or).push(NaN,NaN,NaN,NaN,((S+a)/2-r)/s,((b+l)/2-i)/o),!0):([S,b,a,l,c,h]=u(this,ge).subarray(0,6),u(this,pi).push(((S+5*a)/6-r)/s,((b+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),[c,h,a,l,S,b]=u(this,ge).subarray(12,18),u(this,Or).push(((S+5*a)/6-r)/s,((b+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,pi),t=u(this,Or);if(isNaN(u(this,ge)[6])&&!this.isEmpty())return I(this,eb,BF).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);I(this,nb,VF).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return I(this,tb,HF).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new UF(e,t,r,i,s,o)}getOutlines(){var d;const e=u(this,pi),t=u(this,Or),r=u(this,ge),[i,s,o,a]=u(this,jn),l=new Float32Array((((d=u(this,So))==null?void 0:d.length)??0)+2);for(let f=0,m=l.length-2;f<m;f+=2)l[f]=(u(this,So)[f]-i)/o,l[f+1]=(u(this,So)[f+1]-s)/a;if(l[l.length-2]=(u(this,_l)-i)/o,l[l.length-1]=(u(this,Rl)-s)/a,isNaN(r[6])&&!this.isEmpty())return I(this,rb,$F).call(this,l);const c=new Float32Array(u(this,pi).length+24+u(this,Or).length);let h=e.length;for(let f=0;f<h;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}h=I(this,sb,WF).call(this,c,h);for(let f=t.length-6;f>=6;f-=6)for(let m=0;m<6;m+=2){if(isNaN(t[f+m])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=t[f+m],c[h+1]=t[f+m+1],h+=2}return I(this,ib,zF).call(this,c,h),this.newFreeDrawOutline(c,l,u(this,jn),u(this,xh),u(this,wh),u(this,bh))}};jn=new WeakMap,Or=new WeakMap,wh=new WeakMap,bh=new WeakMap,pi=new WeakMap,ge=new WeakMap,_l=new WeakMap,Rl=new WeakMap,Jm=new WeakMap,Zm=new WeakMap,xh=new WeakMap,Sh=new WeakMap,So=new WeakMap,eg=new WeakMap,J0=new WeakMap,Z0=new WeakMap,Ml=new WeakSet,hf=function(){const e=u(this,ge).subarray(4,6),t=u(this,ge).subarray(16,18),[r,i,s,o]=u(this,jn);return[(u(this,_l)+(e[0]-t[0])/2-r)/s,(u(this,Rl)+(e[1]-t[1])/2-i)/o,(u(this,_l)+(t[0]-e[0])/2-r)/s,(u(this,Rl)+(t[1]-e[1])/2-i)/o]},eb=new WeakSet,BF=function(){const[e,t,r,i]=u(this,jn),[s,o,a,l]=I(this,Ml,hf).call(this);return`M${(u(this,ge)[2]-e)/r} ${(u(this,ge)[3]-t)/i} L${(u(this,ge)[4]-e)/r} ${(u(this,ge)[5]-t)/i} L${s} ${o} L${a} ${l} L${(u(this,ge)[16]-e)/r} ${(u(this,ge)[17]-t)/i} L${(u(this,ge)[14]-e)/r} ${(u(this,ge)[15]-t)/i} Z`},tb=new WeakSet,HF=function(e){const t=u(this,Or);e.push(`L${t[4]} ${t[5]} Z`)},nb=new WeakSet,VF=function(e){const[t,r,i,s]=u(this,jn),o=u(this,ge).subarray(4,6),a=u(this,ge).subarray(16,18),[l,c,h,d]=I(this,Ml,hf).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${h} ${d} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},rb=new WeakSet,$F=function(e){const t=u(this,ge),[r,i,s,o]=u(this,jn),[a,l,c,h]=I(this,Ml,hf).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(d,e,u(this,jn),u(this,xh),u(this,wh),u(this,bh))},ib=new WeakSet,zF=function(e,t){const r=u(this,Or);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},sb=new WeakSet,WF=function(e,t){const r=u(this,ge).subarray(4,6),i=u(this,ge).subarray(16,18),[s,o,a,l]=u(this,jn),[c,h,d,f]=I(this,Ml,hf).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},C(Hi,eg,8),C(Hi,J0,2),C(Hi,Z0,u(Hi,eg)+u(Hi,J0));let Bw=Hi;var Ah,Ll,us,tg,Fn,ng,st,ob,GF;class UF extends Y{constructor(t,r,i,s,o,a){super();C(this,ob);C(this,Ah,void 0);C(this,Ll,new Float32Array(4));C(this,us,void 0);C(this,tg,void 0);C(this,Fn,void 0);C(this,ng,void 0);C(this,st,void 0);P(this,st,t),P(this,Fn,r),P(this,Ah,i),P(this,ng,s),P(this,us,o),P(this,tg,a),this.lastPoint=[NaN,NaN],I(this,ob,GF).call(this,a);const[l,c,h,d]=u(this,Ll);for(let f=0,m=t.length;f<m;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-c)/d;for(let f=0,m=r.length;f<m;f+=2)r[f]=(r[f]-l)/h,r[f+1]=(r[f+1]-c)/d}toSVGPath(){const t=[`M${u(this,st)[4]} ${u(this,st)[5]}`];for(let r=6,i=u(this,st).length;r<i;r+=6){if(isNaN(u(this,st)[r])){t.push(`L${u(this,st)[r+4]} ${u(this,st)[r+5]}`);continue}t.push(`C${u(this,st)[r]} ${u(this,st)[r+1]} ${u(this,st)[r+2]} ${u(this,st)[r+3]} ${u(this,st)[r+4]} ${u(this,st)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,h;switch(o){case 0:c=Y._rescale(u(this,st),t,s,a,-l),h=Y._rescale(u(this,Fn),t,s,a,-l);break;case 90:c=Y._rescaleAndSwap(u(this,st),t,r,a,l),h=Y._rescaleAndSwap(u(this,Fn),t,r,a,l);break;case 180:c=Y._rescale(u(this,st),i,r,-a,l),h=Y._rescale(u(this,Fn),i,r,-a,l);break;case 270:c=Y._rescaleAndSwap(u(this,st),i,s,-a,-l),h=Y._rescaleAndSwap(u(this,Fn),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,Ll)}newOutliner(t,r,i,s,o,a=0){return new Bw(t,r,i,s,o,a)}getNewOutline(t,r){const[i,s,o,a]=u(this,Ll),[l,c,h,d]=u(this,Ah),f=o*h,m=a*d,y=i*h+l,g=s*d+c,A=this.newOutliner({x:u(this,Fn)[0]*f+y,y:u(this,Fn)[1]*m+g},u(this,Ah),u(this,ng),t,u(this,tg),r??u(this,us));for(let x=2;x<u(this,Fn).length;x+=2)A.add({x:u(this,Fn)[x]*f+y,y:u(this,Fn)[x+1]*m+g});return A.getOutlines()}}Ah=new WeakMap,Ll=new WeakMap,us=new WeakMap,tg=new WeakMap,Fn=new WeakMap,ng=new WeakMap,st=new WeakMap,ob=new WeakSet,GF=function(t){const r=u(this,st);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,l=s;const c=t?Math.max:Math.min;for(let d=6,f=r.length;d<f;d+=6){const m=r[d+4],y=r[d+5];if(isNaN(r[d]))ne.pointBoundingBox(m,y,o),l<y?(a=m,l=y):l===y&&(a=c(a,m));else{const g=[1/0,1/0,-1/0,-1/0];ne.bezierBoundingBox(i,s,...r.slice(d,d+6),g),ne.rectBoundingBox(...g,o),l<g[3]?(a=g[2],l=g[3]):l===g[3]&&(a=c(a,g[2]))}i=m,s=y}const h=u(this,Ll);h[0]=o[0]-u(this,us),h[1]=o[1]-u(this,us),h[2]=o[2]-o[0]+2*u(this,us),h[3]=o[3]-o[1]+2*u(this,us),this.lastPoint=[a,l]};var rg,ig,Ao,jr,ab,KF,Eh,Nv,lb,YF,cb,qF,sg,CE;class EE{constructor(e,t=0,r=0,i=!0){C(this,ab);C(this,Eh);C(this,lb);C(this,cb);C(this,sg);C(this,rg,void 0);C(this,ig,void 0);C(this,Ao,[]);C(this,jr,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:g,width:A,height:x}of e){const S=Math.floor((y-t)/a)*a,b=Math.ceil((y+A+t)/a)*a,p=Math.floor((g-t)/a)*a,w=Math.ceil((g+x+t)/a)*a,T=[S,p,w,!0],k=[b,p,w,!1];u(this,Ao).push(T,k),ne.rectBoundingBox(S,p,b,w,s)}const l=s[2]-s[0]+2*r,c=s[3]-s[1]+2*r,h=s[0]-r,d=s[1]-r,f=u(this,Ao).at(i?-1:-2),m=[f[0],f[2]];for(const y of u(this,Ao)){const[g,A,x]=y;y[0]=(g-h)/l,y[1]=(A-d)/c,y[2]=(x-d)/c}P(this,rg,new Float32Array([h,d,l,c])),P(this,ig,m)}getOutlines(){u(this,Ao).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of u(this,Ao))t[3]?(e.push(...I(this,sg,CE).call(this,t)),I(this,lb,YF).call(this,t)):(I(this,cb,qF).call(this,t),e.push(...I(this,sg,CE).call(this,t)));return I(this,ab,KF).call(this,e)}}rg=new WeakMap,ig=new WeakMap,Ao=new WeakMap,jr=new WeakMap,ab=new WeakSet,KF=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,h,d]=o;r.delete(o);let f=a,m=l;for(s=[a,c],i.push(s);;){let y;if(r.has(h))y=h;else if(r.has(d))y=d;else break;r.delete(y),[a,l,c,h,d]=y,f!==a&&(s.push(f,m,a,m===l?l:c),f=a),m=m===l?c:l}s.push(f,m)}return new y7(i,u(this,rg),u(this,ig))},Eh=new WeakSet,Nv=function(e){const t=u(this,jr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},lb=new WeakSet,YF=function([,e,t]){const r=I(this,Eh,Nv).call(this,e);u(this,jr).splice(r,0,[e,t])},cb=new WeakSet,qF=function([,e,t]){const r=I(this,Eh,Nv).call(this,e);for(let i=r;i<u(this,jr).length;i++){const[s,o]=u(this,jr)[i];if(s!==e)break;if(s===e&&o===t){u(this,jr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=u(this,jr)[i];if(s!==e)break;if(s===e&&o===t){u(this,jr).splice(i,1);return}}},sg=new WeakSet,CE=function(e){const[t,r,i]=e,s=[[t,r,i]],o=I(this,Eh,Nv).call(this,i);for(let a=0;a<o;a++){const[l,c]=u(this,jr)[a];for(let h=0,d=s.length;h<d;h++){const[,f,m]=s[h];if(!(c<=f||m<=l)){if(f>=l){if(m>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,m>c&&s.push([t,c,m])}}}return s};var og,Ch;class y7 extends Y{constructor(t,r,i){super();C(this,og,void 0);C(this,Ch,void 0);P(this,Ch,t),P(this,og,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of u(this,Ch)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const h of u(this,Ch)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*c;a.push(d)}return a}get box(){return u(this,og)}get classNamesForOutlining(){return["highlightOutline"]}}og=new WeakMap,Ch=new WeakMap;class TE extends Bw{newFreeDrawOutline(e,t,r,i,s,o){return new v7(e,t,r,i,s,o)}}class v7 extends UF{newOutliner(e,t,r,i,s,o=0){return new TE(e,t,r,i,s,o)}}var Bn,Nl,Th,gt,ag,Ph,hs,lg,Eo,Fr,kh,cg,ug,PE,hg,kE,dg,IE,ds,Ca,ub,XF,mi,zs;const wn=class wn{constructor({editor:e=null,uiManager:t=null}){C(this,ug);C(this,hg);C(this,dg);C(this,ds);C(this,ub);C(this,mi);C(this,Bn,null);C(this,Nl,null);C(this,Th,void 0);C(this,gt,null);C(this,ag,!1);C(this,Ph,!1);C(this,hs,null);C(this,lg,void 0);C(this,Eo,null);C(this,Fr,null);C(this,kh,void 0);var r,i;e?(P(this,Ph,!1),P(this,kh,xe.HIGHLIGHT_COLOR),P(this,hs,e)):(P(this,Ph,!0),P(this,kh,xe.HIGHLIGHT_DEFAULT_COLOR)),P(this,Fr,(e==null?void 0:e._uiManager)||t),P(this,lg,u(this,Fr)._eventBus),P(this,Th,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=u(this,Fr))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),u(wn,cg)||P(wn,cg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ye(this,"_keyboardManager",new ny([[["Escape","mac+Escape"],wn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wn.prototype._moveToPrevious],[["Home","mac+Home"],wn.prototype._moveToBeginning],[["End","mac+End"],wn.prototype._moveToEnd]]))}renderButton(){const e=P(this,Bn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",u(this,hs)&&(e.ariaControls=`${u(this,hs).id}_colorpicker_dropdown`);const t=u(this,Fr)._signal;e.addEventListener("click",I(this,ds,Ca).bind(this),{signal:t}),e.addEventListener("keydown",I(this,dg,IE).bind(this),{signal:t});const r=P(this,Nl,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=u(this,Th),e.append(r),e}renderMainDropdown(){const e=P(this,gt,I(this,ug,PE).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===u(this,Bn)){I(this,ds,Ca).call(this,e);return}const t=e.target.getAttribute("data-color");t&&I(this,hg,kE).call(this,t,e)}_moveToNext(e){var t,r;if(!u(this,mi,zs)){I(this,ds,Ca).call(this,e);return}if(e.target===u(this,Bn)){(t=u(this,gt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=u(this,gt))==null?void 0:t.firstChild)||e.target===u(this,Bn)){u(this,mi,zs)&&this._hideDropdownFromKeyboard();return}u(this,mi,zs)||I(this,ds,Ca).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!u(this,mi,zs)){I(this,ds,Ca).call(this,e);return}(t=u(this,gt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,mi,zs)){I(this,ds,Ca).call(this,e);return}(t=u(this,gt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,gt))==null||e.classList.add("hidden"),u(this,Bn).ariaExpanded="false",(t=u(this,Eo))==null||t.abort(),P(this,Eo,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,Ph)){if(!u(this,mi,zs)){(e=u(this,hs))==null||e.unselect();return}this.hideDropdown(),u(this,Bn).focus({preventScroll:!0,focusVisible:u(this,ag)})}}updateColor(e){if(u(this,Nl)&&(u(this,Nl).style.backgroundColor=e),!u(this,gt))return;const t=u(this,Fr).highlightColors.values();for(const r of u(this,gt).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=u(this,Bn))==null||e.remove(),P(this,Bn,null),P(this,Nl,null),(t=u(this,gt))==null||t.remove(),P(this,gt,null)}};Bn=new WeakMap,Nl=new WeakMap,Th=new WeakMap,gt=new WeakMap,ag=new WeakMap,Ph=new WeakMap,hs=new WeakMap,lg=new WeakMap,Eo=new WeakMap,Fr=new WeakMap,kh=new WeakMap,cg=new WeakMap,ug=new WeakSet,PE=function(){const e=document.createElement("div"),t=u(this,Fr)._signal;e.addEventListener("contextmenu",Ar,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),u(this,hs)&&(e.id=`${u(this,hs).id}_colorpicker_dropdown`);for(const[r,i]of u(this,Fr).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",u(wn,cg)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===u(this,Th),s.addEventListener("click",I(this,hg,kE).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",I(this,dg,IE).bind(this),{signal:t}),e},hg=new WeakSet,kE=function(e,t){t.stopPropagation(),u(this,lg).dispatch("switchannotationeditorparams",{source:this,type:u(this,kh),value:e})},dg=new WeakSet,IE=function(e){wn._keyboardManager.exec(this,e)},ds=new WeakSet,Ca=function(e){if(u(this,mi,zs)){this.hideDropdown();return}if(P(this,ag,e.detail===0),u(this,Eo)||(P(this,Eo,new AbortController),window.addEventListener("pointerdown",I(this,ub,XF).bind(this),{signal:u(this,Fr).combinedSignal(u(this,Eo))})),u(this,Bn).ariaExpanded="true",u(this,gt)){u(this,gt).classList.remove("hidden");return}const t=P(this,gt,I(this,ug,PE).call(this));u(this,Bn).append(t)},ub=new WeakSet,XF=function(e){var t;(t=u(this,gt))!=null&&t.contains(e.target)||this.hideDropdown()},mi=new WeakSet,zs=function(){return u(this,gt)&&!u(this,gt).classList.contains("hidden")},C(wn,cg,null);let gp=wn;var Ih,fg,fs,Dl,pg,Sn,mg,gg,Ol,hr,Hn,jt,_h,ps,Xt,Rh,dr,yg,vg,_E,Mh,Dv,hb,QF,db,JF,fb,ZF,wg,RE,ms,Ta,Co,jc,pb,eB,Lh,Ov,jl,df,mb,tB,gb,nB,yb,rB,vb,iB,wb,sB;const Ee=class Ee extends Oe{constructor(t){super({...t,name:"highlightEditor"});C(this,vg);C(this,Mh);C(this,hb);C(this,db);C(this,fb);C(this,wg);C(this,ms);C(this,pb);C(this,Lh);C(this,jl);C(this,mb);C(this,gb);C(this,wb);C(this,Ih,null);C(this,fg,0);C(this,fs,void 0);C(this,Dl,null);C(this,pg,null);C(this,Sn,null);C(this,mg,null);C(this,gg,0);C(this,Ol,null);C(this,hr,null);C(this,Hn,null);C(this,jt,!1);C(this,_h,null);C(this,ps,void 0);C(this,Xt,null);C(this,Rh,"");C(this,dr,void 0);C(this,yg,"");this.color=t.color||Ee._defaultColor,P(this,dr,t.thickness||Ee._defaultThickness),P(this,ps,t.opacity||Ee._defaultOpacity),P(this,fs,t.boxes||null),P(this,yg,t.methodOfCreation||""),P(this,Rh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(P(this,jt,!0),I(this,Mh,Dv).call(this,t),I(this,ms,Ta).call(this)):u(this,fs)&&(P(this,Ih,t.anchorNode),P(this,fg,t.anchorOffset),P(this,mg,t.focusNode),P(this,gg,t.focusOffset),I(this,vg,_E).call(this),I(this,ms,Ta).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ee.prototype;return ye(this,"_keyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,jt)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,dr),methodOfCreation:u(this,yg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Oe.initialize(t,r),Ee._defaultColor||(Ee._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case xe.HIGHLIGHT_DEFAULT_COLOR:Ee._defaultColor=r;break;case xe.HIGHLIGHT_THICKNESS:Ee._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return u(this,_h)}updateParams(t,r){switch(t){case xe.HIGHLIGHT_COLOR:I(this,hb,QF).call(this,r);break;case xe.HIGHLIGHT_THICKNESS:I(this,db,JF).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[xe.HIGHLIGHT_DEFAULT_COLOR,Ee._defaultColor],[xe.HIGHLIGHT_THICKNESS,Ee._defaultThickness]]}get propertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,this.color||Ee._defaultColor],[xe.HIGHLIGHT_THICKNESS,u(this,dr)||Ee._defaultThickness],[xe.HIGHLIGHT_FREE,u(this,jt)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",P(this,pg,new gp({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(I(this,jl,df).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,I(this,jl,df).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){I(this,wg,RE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(I(this,ms,Ta).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?I(this,wg,RE).call(this):t&&(I(this,ms,Ta).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;u(this,jt)?(t=(t-this.rotation+360)%360,i=I(s=Ee,Co,jc).call(s,u(this,hr).box,t)):i=I(o=Ee,Co,jc).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(u(this,Hn),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(u(this,Xt),{bbox:I(a=Ee,Co,jc).call(a,u(this,Sn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,Rh)&&(t.setAttribute("aria-label",u(this,Rh)),t.setAttribute("role","mark")),u(this,jt)?t.classList.add("free"):this.div.addEventListener("keydown",I(this,pb,eB).bind(this),{signal:this._uiManager._signal});const r=P(this,Ol,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,Dl);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Ej(this,u(this,Ol),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,Xt),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,Xt),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:I(this,Lh,Ov).call(this,!0);break;case 1:case 3:I(this,Lh,Ov).call(this,!1);break}}select(){var t;super.select(),u(this,Xt)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,Xt),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,Xt)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,Xt),{rootClass:{selected:!1}}),u(this,jt)||I(this,Lh,Ov).call(this,!1))}get _mustFixPosition(){return!u(this,jt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,Hn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,Xt),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:h}=i.getBoundingClientRect(),d=new AbortController,f=t.combinedSignal(d),m=y=>{d.abort(),I(this,vb,iB).call(this,t,y)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",ot,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ar,{signal:f}),i.addEventListener("pointermove",I(this,yb,rB).bind(this,t),{signal:f}),this._freeHighlight=new TE({x:s,y:o},[a,l,c,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var g,A,x,S;let s=null;if(t instanceof MF){const{data:{quadPoints:b,rect:p,rotation:w,id:T,color:k,opacity:_,popupRef:R},parent:{page:{pageNumber:M}}}=t;s=t={annotationType:oe.HIGHLIGHT,color:Array.from(k),opacity:_,quadPoints:b,boxes:null,pageIndex:M-1,rect:p.slice(0),rotation:w,annotationElementId:T,id:T,deleted:!1,popupRef:R}}else if(t instanceof rP){const{data:{inkLists:b,rect:p,rotation:w,id:T,color:k,borderStyle:{rawWidth:_},popupRef:R},parent:{page:{pageNumber:M}}}=t;s=t={annotationType:oe.HIGHLIGHT,color:Array.from(k),thickness:_,inkLists:b,boxes:null,pageIndex:M-1,rect:p.slice(0),rotation:w,annotationElementId:T,id:T,deleted:!1,popupRef:R}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,h=await super.deserialize(t,r,i);h.color=ne.makeHexColor(...o),P(h,ps,c||1),l&&P(h,dr,t.thickness),h._initialData=s;const[d,f]=h.pageDimensions,[m,y]=h.pageTranslation;if(a){const b=P(h,fs,[]);for(let p=0;p<a.length;p+=8)b.push({x:(a[p]-m)/d,y:1-(a[p+1]-y)/f,width:(a[p+2]-a[p])/d,height:(a[p+1]-a[p+5])/f});I(g=h,vg,_E).call(g),I(A=h,ms,Ta).call(A),h.rotate(h.rotation)}else if(l){P(h,jt,!0);const b=l[0],p={x:b[0]-m,y:f-(b[1]-y)},w=new TE(p,[0,0,d,f],1,u(h,dr)/2,!0,.001);for(let _=0,R=b.length;_<R;_+=2)p.x=b[_]-m,p.y=f-(b[_+1]-y),w.add(p);const{id:T,clipPathId:k}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:w.toSVGPath()}},!0,!0);I(x=h,Mh,Dv).call(x,{highlightOutlines:w.getOutlines(),highlightId:T,clipPathId:k}),I(S=h,ms,Ta).call(S),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=Oe._colorManager.convert(this.color),s={annotationType:oe.HIGHLIGHT,color:i,opacity:u(this,ps),thickness:u(this,dr),quadPoints:I(this,mb,tB).call(this),outlines:I(this,gb,nB).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:I(this,jl,df).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!I(this,wb,sB).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ih=new WeakMap,fg=new WeakMap,fs=new WeakMap,Dl=new WeakMap,pg=new WeakMap,Sn=new WeakMap,mg=new WeakMap,gg=new WeakMap,Ol=new WeakMap,hr=new WeakMap,Hn=new WeakMap,jt=new WeakMap,_h=new WeakMap,ps=new WeakMap,Xt=new WeakMap,Rh=new WeakMap,dr=new WeakMap,yg=new WeakMap,vg=new WeakSet,_E=function(){const t=new EE(u(this,fs),.001);P(this,hr,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,hr).box;const r=new EE(u(this,fs),.0025,.001,this._uiManager.direction==="ltr");P(this,Sn,r.getOutlines());const{lastPoint:i}=u(this,Sn);P(this,_h,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Mh=new WeakSet,Dv=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var d,f;P(this,hr,t);const s=1.5;if(P(this,Sn,t.getNewOutline(u(this,dr)/2+s,.0025)),r>=0)P(this,Hn,r),P(this,Dl,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),P(this,Xt,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Sn).box,path:{d:u(this,Sn).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,Hn),{bbox:I(d=Ee,Co,jc).call(d,u(this,hr).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,Xt),{bbox:I(f=Ee,Co,jc).call(f,u(this,Sn).box,m),path:{d:u(this,Sn).toSVGPath()}})}const[o,a,l,c]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[m,y]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*y/m,this.height=c*m/y;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*y/m,this.height=c*m/y;break}}const{lastPoint:h}=u(this,Sn);P(this,_h,[(h[0]-o)/l,(h[1]-a)/c])},hb=new WeakSet,QF=function(t){const r=(o,a)=>{var l,c;this.color=o,P(this,ps,a),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,Hn),{root:{fill:o,"fill-opacity":a}}),(c=u(this,pg))==null||c.updateColor(o)},i=this.color,s=u(this,ps);this.addCommands({cmd:r.bind(this,t,Ee._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},db=new WeakSet,JF=function(t){const r=u(this,dr),i=s=>{P(this,dr,s),I(this,fb,ZF).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},fb=new WeakSet,ZF=function(t){if(!u(this,jt))return;I(this,Mh,Dv).call(this,{highlightOutlines:u(this,hr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},wg=new WeakSet,RE=function(){u(this,Hn)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Hn)),P(this,Hn,null),this.parent.drawLayer.remove(u(this,Xt)),P(this,Xt,null))},ms=new WeakSet,Ta=function(t=this.parent){u(this,Hn)===null&&({id:rn(this,Hn)._,clipPathId:rn(this,Dl)._}=t.drawLayer.draw({bbox:u(this,hr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,ps)},rootClass:{highlight:!0,free:u(this,jt)},path:{d:u(this,hr).toSVGPath()}},!1,!0),P(this,Xt,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,jt)},bbox:u(this,Sn).box,path:{d:u(this,Sn).toSVGPath()}},u(this,jt))),u(this,Ol)&&(u(this,Ol).style.clipPath=u(this,Dl)))},Co=new WeakSet,jc=function([t,r,i,s],o){switch(o){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},pb=new WeakSet,eB=function(t){Ee._keyboardManager.exec(this,t)},Lh=new WeakSet,Ov=function(t){if(!u(this,Ih))return;const r=window.getSelection();t?r.setPosition(u(this,Ih),u(this,fg)):r.setPosition(u(this,mg),u(this,gg))},jl=new WeakSet,df=function(){return u(this,jt)?this.rotation:0},mb=new WeakSet,tB=function(){if(u(this,jt))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=u(this,fs),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:h,width:d,height:f}of o){const m=c*t+i,y=(1-h)*r+s;a[l]=a[l+4]=m,a[l+1]=a[l+3]=y,a[l+2]=a[l+6]=m+d*t,a[l+5]=a[l+7]=y-f*r,l+=8}return a},gb=new WeakSet,nB=function(t){return u(this,hr).serialize(t,I(this,jl,df).call(this))},yb=new WeakSet,rB=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},vb=new WeakSet,iB=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},wb=new WeakSet,sB=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},C(Ee,Co),C(Ee,yb),C(Ee,vb),V(Ee,"_defaultColor",null),V(Ee,"_defaultOpacity",1),V(Ee,"_defaultThickness",12),V(Ee,"_type","highlight"),V(Ee,"_editorType",oe.HIGHLIGHT),V(Ee,"_freeHighlightId",-1),V(Ee,"_freeHighlight",null),V(Ee,"_freeHighlightClipId","");let Hw=Ee;var Fl;class oB{constructor(){C(this,Fl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){u(this,Fl)[e]=t}toSVGProperties(){const e=u(this,Fl);return P(this,Fl,Object.create(null)),{root:e}}reset(){P(this,Fl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Re("Not implemented")}}Fl=new WeakMap;var Vn,Nh,At,Bl,Hl,To,Po,ko,Vl,bg,ME,xg,LE,Sg,NE,$l,ff,bb,aB,Dh,jv,zl,pf,Io,Fc;const Q=class Q extends Oe{constructor(t){super(t);C(this,bg);C(this,xg);C(this,Sg);C(this,$l);C(this,bb);C(this,Dh);C(this,zl);C(this,Io);C(this,Vn,null);C(this,Nh,void 0);V(this,"_drawId",null);P(this,Nh,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(I(this,bg,ME).call(this,t),I(this,$l,ff).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Re("Not implemented")}static get typesMap(){Re("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(u(Q,At).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,o=s[r],a=l=>{var h;s.updateProperty(r,l);const c=u(this,Vn).updateProperty(r,l);c&&I(this,zl,pf).call(this,c),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties(u(this,Vn).getPathResizingSVGProperties(I(this,Dh,jv).call(this)),{bbox:I(this,Io,Fc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties(u(this,Vn).getPathResizedSVGProperties(I(this,Dh,jv).call(this)),{bbox:I(this,Io,Fc).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:I(this,Io,Fc).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties(u(this,Vn).getPathTranslatedSVGProperties(I(this,Dh,jv).call(this),this.parentDimensions),{bbox:I(this,Io,Fc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,Nh)&&(P(this,Nh,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){I(this,Sg,NE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(I(this,$l,ff).call(this),I(this,zl,pf).call(this,u(this,Vn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),I(this,Sg,NE).call(this)):t&&(this._uiManager.addShouldRescale(this),I(this,$l,ff).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Q._mergeSVGProperties({bbox:I(this,Io,Fc).call(this)},u(this,Vn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&I(this,zl,pf).call(this,u(this,Vn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,o){Re("Not implemented")}static startDrawing(t,r,i,s){var A;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:h}=s;if(u(Q,Po)&&u(Q,Po)!==h)return;const{viewport:{rotation:d}}=t,{width:f,height:m}=o.getBoundingClientRect(),y=P(Q,Bl,new AbortController),g=t.combinedSignal(y);if(u(Q,To)||P(Q,To,c),u(Q,Po)??P(Q,Po,h),window.addEventListener("pointerup",x=>{var S;u(Q,To)===x.pointerId?this._endDraw(x):(S=u(Q,ko))==null||S.delete(x.pointerId)},{signal:g}),window.addEventListener("pointercancel",x=>{var S;u(Q,To)===x.pointerId?this._currentParent.endDrawingSession():(S=u(Q,ko))==null||S.delete(x.pointerId)},{signal:g}),window.addEventListener("pointerdown",x=>{u(Q,Po)===x.pointerType&&((u(Q,ko)||P(Q,ko,new Set)).add(x.pointerId),u(Q,At).isCancellable()&&(u(Q,At).removeLastElement(),u(Q,At).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Ar,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",x=>{x.timeStamp===u(Q,Vl)&&ot(x)},{signal:g}),t.toggleDrawing(),(A=r._editorUndoBar)==null||A.hide(),u(Q,At)){t.drawLayer.updateProperties(this._currentDrawId,u(Q,At).startNew(a,l,f,m,d));return}r.updateUIForDefaultProperties(this),P(Q,At,this.createDrawerInstance(a,l,f,m,d)),P(Q,Hl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(Q,Hl).toSVGProperties(),u(Q,At).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(P(Q,Vl,-1),!u(Q,At))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(u(Q,To)===s){if(((o=u(Q,ko))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(Q,At).add(r,i)),P(Q,Vl,t.timeStamp),ot(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,P(Q,At,null),P(Q,Hl,null),P(Q,Po,null),P(Q,Vl,NaN)),u(Q,Bl)&&(u(Q,Bl).abort(),P(Q,Bl,null),P(Q,To,NaN),P(Q,ko,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,u(Q,At).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=u(Q,At),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:xe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(xe.DRAW_STEP),!u(Q,At).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(Q,At).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:u(Q,Hl),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,o,a){Re("Not implemented")}static async deserialize(t,r,i){var d,f;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=r.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,t),h=await super.deserialize(t,r,i);return h.createDrawingOptions(t),I(d=h,bg,ME).call(d,{drawOutlines:c}),I(f=h,$l,ff).call(f),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return u(this,Vn).serialize([r,i,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Vn=new WeakMap,Nh=new WeakMap,At=new WeakMap,Bl=new WeakMap,Hl=new WeakMap,To=new WeakMap,Po=new WeakMap,ko=new WeakMap,Vl=new WeakMap,bg=new WeakSet,ME=function({drawOutlines:t,drawId:r,drawingOptions:i}){P(this,Vn,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=I(this,xg,LE).call(this,t,this.parent),I(this,zl,pf).call(this,t.box)},xg=new WeakSet,LE=function(t,r){const{id:i}=r.drawLayer.draw(Q._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},Sg=new WeakSet,NE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},$l=new WeakSet,ff=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=I(this,xg,LE).call(this,u(this,Vn),t)}},bb=new WeakSet,aB=function([t,r,i,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},Dh=new WeakSet,jv=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},zl=new WeakSet,pf=function(t){if([this.x,this.y,this.width,this.height]=I(this,bb,aB).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},Io=new WeakSet,Fc=function(){const{x:t,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,t,i*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-t-s*(c/l),i*(l/c),s*(c/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),t-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-t,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-t,i*(l/c),s*(c/l)];default:return[t,r,i,s]}},V(Q,"_currentDrawId",-1),V(Q,"_currentParent",null),C(Q,At,null),C(Q,Bl,null),C(Q,Hl,null),C(Q,To,NaN),C(Q,Po,null),C(Q,ko,null),C(Q,Vl,NaN),V(Q,"_INNER_MARGIN",3);let Vw=Q;var gi,Et,Ct,Wl,Oh,an,Ft,fr,Ul,Gl,Kl,jh,Fv;class w7{constructor(e,t,r,i,s,o){C(this,jh);C(this,gi,new Float64Array(6));C(this,Et,void 0);C(this,Ct,void 0);C(this,Wl,void 0);C(this,Oh,void 0);C(this,an,void 0);C(this,Ft,"");C(this,fr,0);C(this,Ul,new iy);C(this,Gl,void 0);C(this,Kl,void 0);P(this,Gl,r),P(this,Kl,i),P(this,Wl,s),P(this,Oh,o),[e,t]=I(this,jh,Fv).call(this,e,t);const a=P(this,Et,[NaN,NaN,NaN,NaN,e,t]);P(this,an,[e,t]),P(this,Ct,[{line:a,points:u(this,an)}]),u(this,gi).set(a,0)}updateProperty(e,t){e==="stroke-width"&&P(this,Oh,t)}isEmpty(){return!u(this,Ct)||u(this,Ct).length===0}isCancellable(){return u(this,an).length<=10}add(e,t){[e,t]=I(this,jh,Fv).call(this,e,t);const[r,i,s,o]=u(this,gi).subarray(2,6),a=e-s,l=t-o;return Math.hypot(u(this,Gl)*a,u(this,Kl)*l)<=2?null:(u(this,an).push(e,t),isNaN(r)?(u(this,gi).set([s,o,e,t],2),u(this,Et).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,gi)[0])&&u(this,Et).splice(6,6),u(this,gi).set([r,i,s,o,e,t],0),u(this,Et).push(...Y.createBezierPoints(r,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(u(this,an).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){P(this,Gl,r),P(this,Kl,i),P(this,Wl,s),[e,t]=I(this,jh,Fv).call(this,e,t);const o=P(this,Et,[NaN,NaN,NaN,NaN,e,t]);P(this,an,[e,t]);const a=u(this,Ct).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),u(this,Ct).push({line:o,points:u(this,an)}),u(this,gi).set(o,0),P(this,fr,0),this.toSVGPath(),null}getLastElement(){return u(this,Ct).at(-1)}setLastElement(e){return u(this,Ct)?(u(this,Ct).push(e),P(this,Et,e.line),P(this,an,e.points),P(this,fr,0),{path:{d:this.toSVGPath()}}):u(this,Ul).setLastElement(e)}removeLastElement(){if(!u(this,Ct))return u(this,Ul).removeLastElement();u(this,Ct).pop(),P(this,Ft,"");for(let e=0,t=u(this,Ct).length;e<t;e++){const{line:r,points:i}=u(this,Ct)[e];P(this,Et,r),P(this,an,i),P(this,fr,0),this.toSVGPath()}return{path:{d:u(this,Ft)}}}toSVGPath(){const e=Y.svgRound(u(this,Et)[4]),t=Y.svgRound(u(this,Et)[5]);if(u(this,an).length===2)return P(this,Ft,`${u(this,Ft)} M ${e} ${t} Z`),u(this,Ft);if(u(this,an).length<=6){const i=u(this,Ft).lastIndexOf("M");P(this,Ft,`${u(this,Ft).slice(0,i)} M ${e} ${t}`),P(this,fr,6)}if(u(this,an).length===4){const i=Y.svgRound(u(this,Et)[10]),s=Y.svgRound(u(this,Et)[11]);return P(this,Ft,`${u(this,Ft)} L ${i} ${s}`),P(this,fr,12),u(this,Ft)}const r=[];u(this,fr)===0&&(r.push(`M ${e} ${t}`),P(this,fr,6));for(let i=u(this,fr),s=u(this,Et).length;i<s;i+=6){const[o,a,l,c,h,d]=u(this,Et).slice(i,i+6).map(Y.svgRound);r.push(`C${o} ${a} ${l} ${c} ${h} ${d}`)}return P(this,Ft,u(this,Ft)+r.join(" ")),P(this,fr,u(this,Et).length),u(this,Ft)}getOutlines(e,t,r,i){const s=u(this,Ct).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),u(this,Ul).build(u(this,Ct),e,t,r,u(this,Wl),u(this,Oh),i),P(this,gi,null),P(this,Et,null),P(this,Ct,null),P(this,Ft,null),u(this,Ul)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}gi=new WeakMap,Et=new WeakMap,Ct=new WeakMap,Wl=new WeakMap,Oh=new WeakMap,an=new WeakMap,Ft=new WeakMap,fr=new WeakMap,Ul=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,jh=new WeakSet,Fv=function(e,t){return Y._normalizePoint(e,t,u(this,Gl),u(this,Kl),u(this,Wl))};var ln,Ag,Eg,$n,yi,vi,Fh,Bh,Yl,Br,ji,xb,lB,Sb,cB,Ab,uB;class iy extends Y{constructor(){super(...arguments);C(this,Br);C(this,xb);C(this,Sb);C(this,Ab);C(this,ln,void 0);C(this,Ag,0);C(this,Eg,void 0);C(this,$n,void 0);C(this,yi,void 0);C(this,vi,void 0);C(this,Fh,void 0);C(this,Bh,void 0);C(this,Yl,void 0)}build(t,r,i,s,o,a,l){P(this,yi,r),P(this,vi,i),P(this,Fh,s),P(this,Bh,o),P(this,Yl,a),P(this,Eg,l??0),P(this,$n,t),I(this,Sb,cB).call(this)}get thickness(){return u(this,Yl)}setLastElement(t){return u(this,$n).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,$n).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of u(this,$n)){if(t.push(`M${Y.svgRound(r[4])} ${Y.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${Y.svgRound(r[10])} ${Y.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,l,c,h,d]=r.subarray(i,i+6).map(Y.svgRound);t.push(`C${o} ${a} ${l} ${c} ${h} ${d}`)}}return t.join("")}serialize([t,r,i,s],o){const a=[],l=[],[c,h,d,f]=I(this,xb,lB).call(this);let m,y,g,A,x,S,b,p,w;switch(u(this,Bh)){case 0:w=Y._rescale,m=t,y=r+s,g=i,A=-s,x=t+c*i,S=r+(1-h-f)*s,b=t+(c+d)*i,p=r+(1-h)*s;break;case 90:w=Y._rescaleAndSwap,m=t,y=r,g=i,A=s,x=t+h*i,S=r+c*s,b=t+(h+f)*i,p=r+(c+d)*s;break;case 180:w=Y._rescale,m=t+i,y=r,g=-i,A=s,x=t+(1-c-d)*i,S=r+h*s,b=t+(1-c)*i,p=r+(h+f)*s;break;case 270:w=Y._rescaleAndSwap,m=t+i,y=r+s,g=-i,A=-s,x=t+(1-h-f)*i,S=r+(1-c-d)*s,b=t+(1-h)*i,p=r+(1-c)*s;break}for(const{line:T,points:k}of u(this,$n))a.push(w(T,m,y,g,A,o?new Array(T.length):null)),l.push(w(k,m,y,g,A,o?new Array(k.length):null));return{lines:a,points:l,rect:[x,S,b,p]}}static deserialize(t,r,i,s,o,{paths:{lines:a,points:l},rotation:c,thickness:h}){const d=[];let f,m,y,g,A;switch(c){case 0:A=Y._rescale,f=-t/i,m=r/s+1,y=1/i,g=-1/s;break;case 90:A=Y._rescaleAndSwap,f=-r/s,m=-t/i,y=1/s,g=1/i;break;case 180:A=Y._rescale,f=t/i+1,m=-r/s,y=-1/i,g=1/s;break;case 270:A=Y._rescaleAndSwap,f=r/s+1,m=t/i+1,y=-1/s,g=-1/i;break}if(!a){a=[];for(const S of l){const b=S.length;if(b===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(b===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const p=new Float32Array(3*(b-2));a.push(p);let[w,T,k,_]=S.subarray(0,4);p.set([NaN,NaN,NaN,NaN,w,T],0);for(let R=4;R<b;R+=2){const M=S[R],L=S[R+1];p.set(Y.createBezierPoints(w,T,k,_,M,L),(R-2)*3),[w,T,k,_]=[k,_,M,L]}}}for(let S=0,b=a.length;S<b;S++)d.push({line:A(a[S].map(p=>p??NaN),f,m,y,g),points:A(l[S].map(p=>p??NaN),f,m,y,g)});const x=new this.prototype.constructor;return x.build(d,i,s,1,c,h,o),x}get box(){return u(this,ln)}updateProperty(t,r){return t==="stroke-width"?I(this,Ab,uB).call(this,r):null}updateParentDimensions([t,r],i){const[s,o]=I(this,Br,ji).call(this);P(this,yi,t),P(this,vi,r),P(this,Fh,i);const[a,l]=I(this,Br,ji).call(this),c=a-s,h=l-o,d=u(this,ln);return d[0]-=c,d[1]-=h,d[2]+=2*c,d[3]+=2*h,d}updateRotation(t){return P(this,Ag,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,ln).map(Y.svgRound).join(" ")}get defaultProperties(){const[t,r]=u(this,ln);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=u(this,ln);let i=0,s=0,o=0,a=0,l=0,c=0;switch(u(this,Ag)){case 90:s=r/t,o=-t/r,l=t;break;case 180:i=-1,a=-1,l=t,c=r;break;case 270:s=-r/t,o=t/r,c=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${Y.svgRound(l)} ${Y.svgRound(c)})`}getPathResizingSVGProperties([t,r,i,s]){const[o,a]=I(this,Br,ji).call(this),[l,c,h,d]=u(this,ln);if(Math.abs(h-o)<=Y.PRECISION||Math.abs(d-a)<=Y.PRECISION){const A=t+i/2-(l+h/2),x=r+s/2-(c+d/2);return{path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`,transform:`${this.rotationTransform} translate(${A} ${x})`}}}const f=(i-2*o)/(h-2*o),m=(s-2*a)/(d-2*a),y=h/i,g=d/s;return{path:{"transform-origin":`${Y.svgRound(l)} ${Y.svgRound(c)}`,transform:`${this.rotationTransform} scale(${y} ${g}) translate(${Y.svgRound(o)} ${Y.svgRound(a)}) scale(${f} ${m}) translate(${Y.svgRound(-o)} ${Y.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[o,a]=I(this,Br,ji).call(this),l=u(this,ln),[c,h,d,f]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(d-o)<=Y.PRECISION||Math.abs(f-a)<=Y.PRECISION){const x=t+i/2-(c+d/2),S=r+s/2-(h+f/2);for(const{line:b,points:p}of u(this,$n))Y._translate(b,x,S,b),Y._translate(p,x,S,p);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(i-2*o)/(d-2*o),y=(s-2*a)/(f-2*a),g=-m*(c+o)+t+o,A=-y*(h+a)+r+a;if(m!==1||y!==1||g!==0||A!==0)for(const{line:x,points:S}of u(this,$n))Y._rescale(x,g,A,m,y,x),Y._rescale(S,g,A,m,y,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,o]=i,a=u(this,ln),l=t-a[0],c=r-a[1];if(u(this,yi)===s&&u(this,vi)===o)for(const{line:h,points:d}of u(this,$n))Y._translate(h,l,c,h),Y._translate(d,l,c,d);else{const h=u(this,yi)/s,d=u(this,vi)/o;P(this,yi,s),P(this,vi,o);for(const{line:f,points:m}of u(this,$n))Y._rescale(f,l,c,h,d,f),Y._rescale(m,l,c,h,d,m);a[2]*=h,a[3]*=d}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(r)}`}}}get defaultSVGProperties(){const t=u(this,ln);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t[0])} ${Y.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ln=new WeakMap,Ag=new WeakMap,Eg=new WeakMap,$n=new WeakMap,yi=new WeakMap,vi=new WeakMap,Fh=new WeakMap,Bh=new WeakMap,Yl=new WeakMap,Br=new WeakSet,ji=function(t=u(this,Yl)){const r=u(this,Eg)+t/2*u(this,Fh);return u(this,Bh)%180===0?[r/u(this,yi),r/u(this,vi)]:[r/u(this,vi),r/u(this,yi)]},xb=new WeakSet,lB=function(){const[t,r,i,s]=u(this,ln),[o,a]=I(this,Br,ji).call(this,0);return[t+o,r+a,i-2*o,s-2*a]},Sb=new WeakSet,cB=function(){const t=P(this,ln,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of u(this,$n)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)ne.pointBoundingBox(s[l],s[l+1],t);continue}let o=s[4],a=s[5];for(let l=6,c=s.length;l<c;l+=6){const[h,d,f,m,y,g]=s.subarray(l,l+6);ne.bezierBoundingBox(o,a,h,d,f,m,y,g,t),o=y,a=g}}const[r,i]=I(this,Br,ji).call(this);t[0]=Qt(t[0]-r,0,1),t[1]=Qt(t[1]-i,0,1),t[2]=Qt(t[2]+r,0,1),t[3]=Qt(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},Ab=new WeakSet,uB=function(t){const[r,i]=I(this,Br,ji).call(this);P(this,Yl,t);const[s,o]=I(this,Br,ji).call(this),[a,l]=[s-r,o-i],c=u(this,ln);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class Lx extends oB{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Oe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Lx(this._viewParameters);return e.updateAll(this),e}}var Eb,hB;const ru=class ru extends Vw{constructor(t){super({...t,name:"inkEditor"});C(this,Eb);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Oe.initialize(t,r),this._defaultDrawingOptions=new Lx(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return ye(this,"typesMap",new Map([[xe.INK_THICKNESS,"stroke-width"],[xe.INK_COLOR,"stroke"],[xe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,o){return new w7(t,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,o,a){return iy.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){let s=null;if(t instanceof rP){const{data:{inkLists:a,rect:l,rotation:c,id:h,color:d,opacity:f,borderStyle:{rawWidth:m},popupRef:y},parent:{page:{pageNumber:g}}}=t;s=t={annotationType:oe.INK,color:Array.from(d),thickness:m,opacity:f,paths:{points:a},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:c,annotationElementId:h,id:h,deleted:!1,popupRef:y}}const o=await super.deserialize(t,r,i);return o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=ru.getDefaultDrawingOptions({stroke:ne.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:oe.INK,color:Oe._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.isCopy=!0,c):this.annotationElementId&&!I(this,Eb,hB).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};Eb=new WeakSet,hB=function(t){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==o},V(ru,"_type","ink"),V(ru,"_editorType",oe.INK),V(ru,"_defaultDrawingOptions",null);let DE=ru;class OE extends iy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Uy=8,zd=3;var ql,Cg,jE,Hr,Cb,dB,Tb,fB,Tg,FE,Hh,Bv,Pb,pB,kb,mB,Ib,gB,Pg,BE,kg,HE,_b,yB;class ht{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,o,a,l){let c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=200,f=h.font=`${r} ${i} ${d}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:A,fontBoundingBoxAscent:x,fontBoundingBoxDescent:S,width:b}=h.measureText(e),p=1.5,w=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||0,b)*p),T=Math.ceil(Math.max(Math.abs(g)+Math.abs(A)||d,Math.abs(x)+Math.abs(S)||d)*p);c=new OffscreenCanvas(w,T),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=f,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,w,T),h.fillStyle="black",h.fillText(e,w*(p-1)/2,T*(3-p)/2);const k=I(this,Pg,BE).call(this,h.getImageData(0,0,w,T).data),_=I(this,Ib,gB).call(this,k),R=I(this,kg,HE).call(this,_),M=I(this,Tg,FE).call(this,k,w,T,R);return this.processDrawnLines({lines:{curves:M,width:w,height:T},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[o,a,l]=I(this,_b,yB).call(this,e),[c,h]=I(this,kb,mB).call(this,o,a,l,Math.hypot(a,l)*u(this,ql).sigmaSFactor,u(this,ql).sigmaR,u(this,ql).kernelSize),d=I(this,kg,HE).call(this,h),f=I(this,Tg,FE).call(this,c,a,l,d);return this.processDrawnLines({lines:{curves:f,width:a,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:h}=e,d=e.thickness??0,f=[],m=Math.min(t/c,r/h),y=m/t,g=m/r,A=[];for(const{points:S}of l){const b=o?I(this,Pb,pB).call(this,S):S;if(!b)continue;A.push(b);const p=b.length,w=new Float32Array(p),T=new Float32Array(3*(p===2?2:p-2));if(f.push({line:T,points:w}),p===2){w[0]=b[0]*y,w[1]=b[1]*g,T.set([NaN,NaN,NaN,NaN,w[0],w[1]],0);continue}let[k,_,R,M]=b;k*=y,_*=g,R*=y,M*=g,w.set([k,_,R,M],0),T.set([NaN,NaN,NaN,NaN,k,_],0);for(let L=4;L<p;L+=2){const j=w[L]=b[L]*y,H=w[L+1]=b[L+1]*g;T.set(Y.createBezierPoints(k,_,R,M,j,H),(L-2)*3),[k,_,R,M]=[R,M,j,H]}}if(f.length===0)return null;const x=a?new OE:new iy;return x.build(f,t,r,1,i,a?0:d,s),{outline:x,newCurves:A,areContours:a,thickness:d,width:c,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const b of e){l+=b.length;for(let p=2,w=b.length;p<w;p++){const T=b[p]-b[p-2];o=Math.min(o,T),a=Math.max(a,T)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const h=e.length,d=Uy+zd*h,f=new Uint32Array(d);let m=0;f[m++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*c.BYTES_PER_ELEMENT,f[m++]=0,f[m++]=i,f[m++]=s,f[m++]=t?0:1,f[m++]=Math.max(0,Math.floor(r??0)),f[m++]=h,f[m++]=c.BYTES_PER_ELEMENT;for(const b of e)f[m++]=b.length-2,f[m++]=b[0],f[m++]=b[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(f);const A=c.prototype.constructor;for(const b of e){const p=new A(b.length-2);for(let w=2,T=b.length;w<T;w++)p[w-2]=b[w]-b[w-2];g.write(p)}g.close();const x=await new Response(y.readable).arrayBuffer(),S=new Uint8Array(x);return pj(S)}static async decompressSignature(e){try{const t=qq(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const b of r)o||(o=new Uint8Array(new Uint32Array(b.buffer,0,4)[0])),o.set(b,a),a+=b.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const h=l[2],d=l[3],f=l[4]===0,m=l[5],y=l[6],g=l[7],A=[],x=(Uy+zd*y)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(g){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(o.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(o.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(o.buffer,x);break}a=0;for(let b=0;b<y;b++){const p=l[zd*b+Uy],w=new Float32Array(p+2);A.push(w);for(let T=0;T<zd-1;T++)w[T]=l[zd*b+Uy+T+1];for(let T=0;T<p;T++)w[T+2]=w[T]+S[a++]}return{areContours:f,thickness:m,outlines:A,width:h,height:d}}catch(t){return ae(`decompressSignature: ${t}`),null}}}ql=new WeakMap,Cg=new WeakSet,jE=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Hr=new WeakMap,Cb=new WeakSet,dB=function(e,t,r,i,s,o,a){const l=I(this,Cg,jE).call(this,r,i,s,o);for(let c=0;c<8;c++){const h=(-c+l-a+16)%8,d=u(this,Hr)[2*h],f=u(this,Hr)[2*h+1];if(e[(r+d)*t+(i+f)]!==0)return h}return-1},Tb=new WeakSet,fB=function(e,t,r,i,s,o,a){const l=I(this,Cg,jE).call(this,r,i,s,o);for(let c=0;c<8;c++){const h=(c+l+a+16)%8,d=u(this,Hr)[2*h],f=u(this,Hr)[2*h+1];if(e[(r+d)*t+(i+f)]!==0)return h}return-1},Tg=new WeakSet,FE=function(e,t,r,i){const s=e.length,o=new Int32Array(s);for(let h=0;h<s;h++)o[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)o[h*t]=o[h*t+t-1]=0;for(let h=0;h<t;h++)o[h]=o[t*r-1-h]=0;let a=1,l;const c=[];for(let h=1;h<r-1;h++){l=1;for(let d=1;d<t-1;d++){const f=h*t+d,m=o[f];if(m===0)continue;let y=h,g=d;if(m===1&&o[f-1]===0)a+=1,g-=1;else if(m>=1&&o[f+1]===0)a+=1,g+=1,m>1&&(l=m);else{m!==1&&(l=Math.abs(m));continue}const A=[d,h],x=g===d+1,S={isHole:x,points:A,id:a,parent:0};c.push(S);let b;for(const L of c)if(L.id===l){b=L;break}b?b.isHole?S.parent=x?b.parent:l:S.parent=x?l:b.parent:S.parent=x?l:0;const p=I(this,Cb,dB).call(this,o,t,h,d,y,g,0);if(p===-1){o[f]=-a,o[f]!==1&&(l=Math.abs(o[f]));continue}let w=u(this,Hr)[2*p],T=u(this,Hr)[2*p+1];const k=h+w,_=d+T;y=k,g=_;let R=h,M=d;for(;;){const L=I(this,Tb,fB).call(this,o,t,R,M,y,g,1);w=u(this,Hr)[2*L],T=u(this,Hr)[2*L+1];const j=R+w,H=M+T;A.push(H,j);const N=R*t+M;if(o[N+1]===0?o[N]=-a:o[N]===1&&(o[N]=a),j===h&&H===d&&R===k&&M===_){o[f]!==1&&(l=Math.abs(o[f]));break}else y=R,g=M,R=j,M=H}}}return c},Hh=new WeakSet,Bv=function(e,t,r,i){if(r-t<=4){for(let k=t;k<r-2;k+=2)i.push(e[k],e[k+1]);return}const s=e[t],o=e[t+1],a=e[r-4]-s,l=e[r-3]-o,c=Math.hypot(a,l),h=a/c,d=l/c,f=h*o-d*s,m=l/a,y=1/c,g=Math.atan(m),A=Math.cos(g),x=Math.sin(g),S=y*(Math.abs(A)+Math.abs(x)),b=y*(1-S+S**2),p=Math.max(Math.atan(Math.abs(x+A)*b),Math.atan(Math.abs(x-A)*b));let w=0,T=t;for(let k=t+2;k<r-2;k+=2){const _=Math.abs(f-h*e[k+1]+d*e[k]);_>w&&(T=k,w=_)}w>(c*p)**2?(I(this,Hh,Bv).call(this,e,t,T+2,i),I(this,Hh,Bv).call(this,e,T,r,i)):i.push(s,o)},Pb=new WeakSet,pB=function(e){const t=[],r=e.length;return I(this,Hh,Bv).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},kb=new WeakSet,mB=function(e,t,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let g=0;g<o;g++){const A=(g-c)**2;for(let x=0;x<o;x++)a[g*o+x]=Math.exp((A+(x-c)**2)/l)}const h=new Float32Array(256),d=-2*s**2;for(let g=0;g<256;g++)h[g]=Math.exp(g**2/d);const f=e.length,m=new Uint8Array(f),y=new Uint32Array(256);for(let g=0;g<r;g++)for(let A=0;A<t;A++){const x=g*t+A,S=e[x];let b=0,p=0;for(let T=0;T<o;T++){const k=g+T-c;if(!(k<0||k>=r))for(let _=0;_<o;_++){const R=A+_-c;if(R<0||R>=t)continue;const M=e[k*t+R],L=a[T*o+_]*h[Math.abs(M-S)];b+=M*L,p+=L}}const w=m[x]=Math.round(b/p);y[w]++}return[m,y]},Ib=new WeakSet,gB=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},Pg=new WeakSet,BE=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){if(e[(a<<2)+3]===0){i=r[a]=255;continue}const h=r[a]=e[a<<2];h>i&&(i=h),h<s&&(s=h)}const o=255/(i-s);for(let a=0;a<t;a++)r[a]=(r[a]-s)*o;return r},kg=new WeakSet,HE=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-o>i&&(i=t-o,a=t-1),r=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},_b=new WeakSet,yB=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=u(this,ql);let o=r,a=i;if(r>s||i>s){let f=r,m=i,y=Math.log2(Math.max(r,i)/s);const g=Math.floor(y);y=y===g?g-1:g;for(let x=0;x<y;x++){o=Math.ceil(f/2),a=Math.ceil(m/2);const S=new OffscreenCanvas(o,a);S.getContext("2d").drawImage(e,0,0,f,m,0,0,o,a),f=o,m=a,e!==t&&e.close(),e=S.transferToImageBitmap()}const A=Math.min(s/o,s/a);o=Math.round(o*A),a=Math.round(a*A)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const h=c.getImageData(0,0,o,a).data;return[I(this,Pg,BE).call(this,h),o,a]},C(ht,Cg),C(ht,Cb),C(ht,Tb),C(ht,Tg),C(ht,Hh),C(ht,Pb),C(ht,kb),C(ht,Ib),C(ht,Pg),C(ht,kg),C(ht,_b),C(ht,ql,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),C(ht,Hr,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class sP extends oB{constructor(){super(),super.updateProperties({fill:Oe._defaultLineColor,"stroke-width":0})}clone(){const e=new sP;return e.updateAll(this),e}}class oP extends Lx{constructor(e){super(e),super.updateProperties({stroke:Oe._defaultLineColor,"stroke-width":1})}clone(){const e=new oP(this._viewParameters);return e.updateAll(this),e}}var _o,wi,Ro,Xl;const _n=class _n extends Vw{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});C(this,_o,!1);C(this,wi,null);C(this,Ro,null);C(this,Xl,null);this._willKeepAspectRatio=!0,P(this,Ro,t.signatureData||null),P(this,wi,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Oe.initialize(t,r),this._defaultDrawingOptions=new sP,this._defaultDrawnSignatureOptions=new oP(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return ye(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,wi)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(u(this,Ro)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:h}=u(this,Ro),{rawDims:{pageWidth:d,pageHeight:f},rotation:m}=this.parent.viewport,y=ht.processDrawnLines({lines:s,pageWidth:d,pageHeight:f,rotation:m,innerMargin:_n._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(y,h,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){P(this,Xl,t),this.addEditToolbar()}getUuid(){return u(this,Xl)}get description(){return u(this,wi)}set description(t){P(this,wi,t),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:o}=u(this,Ro),a=Math.max(s,o),l=ht.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:o,y:a}=this,{outline:l}=P(this,Ro,t);P(this,_o,l instanceof OE),this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;u(this,_o)?c=_n.getDefaultDrawingOptions():(c=_n._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[h,d]=this.parentDimensions,[,f]=this.pageDimensions;let m=r/f;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(h*this.width,d*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return ht.process(t,r,i,s,_n._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return ht.extractContoursFromText(t,r,i,s,o,_n._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return ht.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:_n._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=_n.getDefaultDrawingOptions():(this._drawingOptions=_n._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:oe.SIGNATURE,isSignature:!0,areContours:u(this,_o),color:[0,0,0],thickness:u(this,_o)?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.paths={lines:r,points:i},a.uuid=u(this,Xl),a.isCopy=!0):a.lines=r,u(this,wi)&&(a.accessibilityData={type:"Figure",alt:u(this,wi)}),a}static deserializeDraw(t,r,i,s,o,a){return a.areContours?OE.deserialize(t,r,i,s,o,a):iy.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){var o;const s=await super.deserialize(t,r,i);return P(s,_o,t.areContours),P(s,wi,((o=t.accessibilityData)==null?void 0:o.alt)||""),P(s,Xl,t.uuid),s}};_o=new WeakMap,wi=new WeakMap,Ro=new WeakMap,Xl=new WeakMap,V(_n,"_type","signature"),V(_n,"_editorType",oe.SIGNATURE),V(_n,"_defaultDrawingOptions",null);let VE=_n;var We,Tt,Mo,gs,Lo,Vh,ys,Ql,bi,zn,$h,Jl,mf,Zl,gf,zh,Hv,Wh,Vv,Uh,$v,Ig,zE,Gh,zv,Rb,vB;class $E extends Oe{constructor(t){super({...t,name:"stampEditor"});C(this,Jl);C(this,Zl);C(this,zh);C(this,Wh);C(this,Uh);C(this,Ig);C(this,Gh);C(this,Rb);C(this,We,null);C(this,Tt,null);C(this,Mo,null);C(this,gs,null);C(this,Lo,null);C(this,Vh,"");C(this,ys,null);C(this,Ql,!1);C(this,bi,null);C(this,zn,!1);C(this,$h,!1);P(this,gs,t.bitmapUrl),P(this,Lo,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Oe.initialize(t,r)}static isHandlingMimeForPasting(t){return jw.includes(t)}static paste(t,r){r.pasteEditor({mode:oe.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;u(this,Tt)&&(P(this,We,null),this._uiManager.imageManager.deleteId(u(this,Tt)),(t=u(this,ys))==null||t.remove(),P(this,ys,null),u(this,bi)&&(clearTimeout(u(this,bi)),P(this,bi,null))),super.remove()}rebuild(){if(!this.parent){u(this,Tt)&&I(this,zh,Hv).call(this);return}super.rebuild(),this.div!==null&&(u(this,Tt)&&u(this,ys)===null&&I(this,zh,Hv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,Mo)||u(this,We)||u(this,gs)||u(this,Lo)||u(this,Tt)||u(this,Ql))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),u(this,Ql)||(u(this,We)?I(this,Wh,Vv).call(this):I(this,zh,Hv).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(P(this,Tt,i),s&&P(this,We,s),P(this,Ql,!1),I(this,Wh,Vv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,bi)!==null&&clearTimeout(u(this,bi)),P(this,bi,setTimeout(()=>{P(this,bi,null),I(this,Ig,zE).call(this)},200))}copyCanvas(t,r,i=!1){var m;t||(t=224);const{width:s,height:o}=u(this,We),a=new Jr;let l=u(this,We),c=s,h=o,d=null;if(r){if(s>r||o>r){const _=Math.min(r/s,r/o);c=Math.floor(s*_),h=Math.floor(o*_)}d=document.createElement("canvas");const y=d.width=Math.ceil(c*a.sx),g=d.height=Math.ceil(h*a.sy);u(this,zn)||(l=I(this,Uh,$v).call(this,y,g));const A=d.getContext("2d");A.filter=this._uiManager.hcmFilter;let x="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",S="#42414d");const b=15,p=b*a.sx,w=b*a.sy,T=new OffscreenCanvas(p*2,w*2),k=T.getContext("2d");k.fillStyle=x,k.fillRect(0,0,p*2,w*2),k.fillStyle=S,k.fillRect(0,0,p,w),k.fillRect(p,w,p,w),A.fillStyle=A.createPattern(T,"repeat"),A.fillRect(0,0,y,g),A.drawImage(l,0,0,l.width,l.height,0,0,y,g)}let f=null;if(i){let y,g;if(a.symmetric&&l.width<t&&l.height<t)y=l.width,g=l.height;else if(l=u(this,We),s>t||o>t){const S=Math.min(t/s,t/o);y=Math.floor(s*S),g=Math.floor(o*S),u(this,zn)||(l=I(this,Uh,$v).call(this,y,g))}const x=new OffscreenCanvas(y,g).getContext("2d",{willReadFrequently:!0});x.drawImage(l,0,0,l.width,l.height,0,0,y,g),f={width:y,height:g,data:x.getImageData(0,0,y,g).data}}return{canvas:d,width:c,height:h,imageData:f}}static async deserialize(t,r,i){var A;let s=null,o=!1;if(t instanceof LF){const{data:{rect:x,rotation:S,id:b,structParent:p,popupRef:w},container:T,parent:{page:{pageNumber:k}},canvas:_}=t;let R,M;_?(delete t.canvas,{id:R,bitmap:M}=i.imageManager.getFromCanvas(T.id,_),_.remove()):(o=!0,t._hasNoCanvas=!0);const L=((A=await r._structTree.getAriaAttributes(`${qT}${b}`))==null?void 0:A.get("aria-label"))||"";s=t={annotationType:oe.STAMP,bitmapId:R,bitmap:M,pageIndex:k-1,rect:x.slice(0),rotation:S,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:L},isSvg:!1,structParent:p,popupRef:w}}const a=await super.deserialize(t,r,i),{rect:l,bitmap:c,bitmapUrl:h,bitmapId:d,isSvg:f,accessibilityData:m}=t;o?(i.addMissingCanvas(t.id,a),P(a,Ql,!0)):d&&i.imageManager.isValidId(d)?(P(a,Tt,d),c&&P(a,We,c)):P(a,gs,h),P(a,zn,f);const[y,g]=a.pageDimensions;return a.width=(l[2]-l[0])/y,a.height=(l[3]-l[1])/g,m&&(a.altTextData=m),a._initialData=s,P(a,$h,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:oe.STAMP,bitmapId:u(this,Tt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,zn),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=I(this,Gh,zv).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=I(this,Rb,vB).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=u(this,zn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(u(this,Tt)))r.stamps.set(u(this,Tt),{area:a,serialized:i}),i.bitmap=I(this,Gh,zv).call(this,!1);else if(u(this,zn)){const l=r.stamps.get(u(this,Tt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=I(this,Gh,zv).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}We=new WeakMap,Tt=new WeakMap,Mo=new WeakMap,gs=new WeakMap,Lo=new WeakMap,Vh=new WeakMap,ys=new WeakMap,Ql=new WeakMap,bi=new WeakMap,zn=new WeakMap,$h=new WeakMap,Jl=new WeakSet,mf=function(t,r=!1){if(!t){this.remove();return}P(this,We,t.bitmap),r||(P(this,Tt,t.id),P(this,zn,t.isSvg)),t.file&&P(this,Vh,t.file.name),I(this,Wh,Vv).call(this)},Zl=new WeakSet,gf=function(){if(P(this,Mo,null),this._uiManager.enableWaiting(!1),!!u(this,ys)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,We)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,We)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},zh=new WeakSet,Hv=function(){if(u(this,Tt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Tt)).then(i=>I(this,Jl,mf).call(this,i,!0)).finally(()=>I(this,Zl,gf).call(this));return}if(u(this,gs)){const i=u(this,gs);P(this,gs,null),this._uiManager.enableWaiting(!0),P(this,Mo,this._uiManager.imageManager.getFromUrl(i).then(s=>I(this,Jl,mf).call(this,s)).finally(()=>I(this,Zl,gf).call(this)));return}if(u(this,Lo)){const i=u(this,Lo);P(this,Lo,null),this._uiManager.enableWaiting(!0),P(this,Mo,this._uiManager.imageManager.getFromFile(i).then(s=>I(this,Jl,mf).call(this,s)).finally(()=>I(this,Zl,gf).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=jw.join(",");const r=this._uiManager._signal;P(this,Mo,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),I(this,Jl,mf).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>I(this,Zl,gf).call(this))),t.click()},Wh=new WeakSet,Vv=function(){var d;const{div:t}=this;let{width:r,height:i}=u(this,We);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const f=Math.min(a*s/r,a*o/i);r*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const h=P(this,ys,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=r/s,this.height=i/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),I(this,Ig,zE).call(this),u(this,$h)||(this.parent.addUndoableEditor(this),P(this,$h,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Vh)&&this.div.setAttribute("aria-description",u(this,Vh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Uh=new WeakSet,$v=function(t,r){const{width:i,height:s}=u(this,We);let o=i,a=s,l=u(this,We);for(;o>2*t||a>2*r;){const c=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,h,0,0,o,a),l=d.transferToImageBitmap()}return l},Ig=new WeakSet,zE=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,o=new Jr,a=Math.ceil(i*t*o.sx),l=Math.ceil(s*r*o.sy),c=u(this,ys);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const h=u(this,zn)?u(this,We):I(this,Uh,$v).call(this,a,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,a,l)},Gh=new WeakSet,zv=function(t){if(t){if(u(this,zn)){const s=this._uiManager.imageManager.getSvgUrl(u(this,Tt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,We),r.getContext("2d").drawImage(u(this,We),0,0),r.toDataURL()}if(u(this,zn)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Ls.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ls.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(u(this,We),0,0,u(this,We).width,u(this,We).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(u(this,We))},Rb=new WeakSet,vB=function(t){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},V($E,"_type","stamp"),V($E,"_editorType",oe.STAMP);var ec,Kh,xi,No,vs,Wn,Do,Yh,tc,Vr,ws,Pt,bs,Oo,qh,Z,jo,Mb,wB,pr,ni,_g,WE,Rg,UE,Xh,Wv;const Pr=class Pr{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:h}){C(this,Mb);C(this,pr);C(this,_g);C(this,Rg);C(this,Xh);C(this,ec,void 0);C(this,Kh,!1);C(this,xi,null);C(this,No,null);C(this,vs,null);C(this,Wn,new Map);C(this,Do,!1);C(this,Yh,!1);C(this,tc,!1);C(this,Vr,null);C(this,ws,null);C(this,Pt,null);C(this,bs,null);C(this,Oo,null);C(this,qh,-1);C(this,Z,void 0);const d=[...u(Pr,jo).values()];if(!Pr._initialized){Pr._initialized=!0;for(const f of d)f.initialize(h,e)}e.registerEditorTypes(d),P(this,Z,e),this.pageIndex=t,this.div=r,P(this,ec,s),P(this,xi,o),this.viewport=c,P(this,Pt,l),this.drawLayer=a,this._structTree=i,u(this,Z).addLayer(this)}get isEmpty(){return u(this,Wn).size===0}get isInvisible(){return this.isEmpty&&u(this,Z).getMode()===oe.NONE}updateToolbar(e){u(this,Z).updateToolbar(e)}updateMode(e=u(this,Z).getMode()){switch(I(this,Xh,Wv).call(this),e){case oe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case oe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case oe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of u(Pr,jo).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Pt))==null?void 0:t.div)}setEditingState(e){u(this,Z).setEditingState(e)}addCommands(e){u(this,Z).addCommands(e)}cleanUndoStack(e){u(this,Z).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,xi))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;P(this,tc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(r=u(this,Oo))==null||r.abort(),P(this,Oo,null);const e=new Set;for(const i of u(this,Wn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(u(this,Z).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!u(this,xi)){P(this,tc,!1);return}const t=u(this,xi).getEditableAnnotations();for(const i of t){if(i.hide(),u(this,Z).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}P(this,tc,!1)}disable(){var i;if(P(this,Yh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),u(this,Pt)&&!u(this,Oo)){P(this,Oo,new AbortController);const s=u(this,Z).combinedSignal(u(this,Oo));u(this,Pt).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:c,timeStamp:h}=o,d=u(this,qh);if(h-d>500){P(this,qh,h);return}P(this,qh,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const m=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const g=new RegExp(`^${cj}[0-9]+$`);for(const x of m)if(g.test(x.id)){y=x.id;break}if(!y)return;const A=u(this,Wn).get(y);(A==null?void 0:A.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),A.dblclick())},{signal:s,capture:!0})}const e=new Map,t=new Map;for(const s of u(this,Wn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(u(this,xi)){const s=u(this,xi).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(u(this,Z).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(u(this,Z).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}I(this,Xh,Wv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of u(Pr,jo).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),P(this,Yh,!1)}getEditableAnnotation(e){var t;return((t=u(this,xi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,Z).getActive()!==e&&u(this,Z).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Pt))!=null&&e.div&&!u(this,bs)){P(this,bs,new AbortController);const t=u(this,Z).combinedSignal(u(this,bs));u(this,Pt).div.addEventListener("pointerdown",I(this,Mb,wB).bind(this),{signal:t}),u(this,Pt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Pt))!=null&&e.div&&u(this,bs)&&(u(this,bs).abort(),P(this,bs,null),u(this,Pt).div.classList.remove("highlighting"))}enableClick(){if(u(this,No))return;P(this,No,new AbortController);const e=u(this,Z).combinedSignal(u(this,No));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,No))==null||e.abort(),P(this,No,null)}attach(e){u(this,Wn).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,Z).isDeletedAnnotationElement(t)&&u(this,Z).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,Wn).delete(e.id),(t=u(this,ec))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Yh)&&e.annotationElementId&&u(this,Z).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,Z).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,Z).addDeletedAnnotationElement(e.annotationElementId),Oe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,Z).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,tc)),u(this,Z).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,vs)&&(e._focusEventsAllowed=!1,P(this,vs,setTimeout(()=>{P(this,vs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,Z)._signal}),t.focus())},0))),e._structTreeParentId=(r=u(this,ec))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return u(this,Z).getId()}combinedSignal(e){return u(this,Z).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,pr,ni))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await u(this,Z).updateMode(e.mode);const{offsetX:r,offsetY:i}=I(this,Rg,UE).call(this),s=this.getNextId(),o=I(this,_g,WE).call(this,{parent:this,id:s,x:r,y:i,uiManager:u(this,Z),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=u(Pr,jo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,Z)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=I(this,_g,WE).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,Z),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(e={}){this.createAndAddNewEditor(I(this,Rg,UE).call(this),!0,e)}setSelected(e){u(this,Z).setSelected(e)}toggleSelected(e){u(this,Z).toggleSelected(e)}unselect(e){u(this,Z).unselect(e)}pointerup(e){var i;const{isMac:t}=Rt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!u(this,Do)||(P(this,Do,!1),(i=u(this,pr,ni))!=null&&i.isDrawer&&u(this,pr,ni).supportMultipleDrawings))return;if(!u(this,Kh)){P(this,Kh,!0);return}const r=u(this,Z).getMode();if(r===oe.STAMP||r===oe.SIGNATURE){u(this,Z).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(u(this,Z).getMode()===oe.HIGHLIGHT&&this.enableTextSelection(),u(this,Do)){P(this,Do,!1);return}const{isMac:t}=Rt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(P(this,Do,!0),(i=u(this,pr,ni))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=u(this,Z).getActive();P(this,Kh,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),u(this,Vr)){u(this,pr,ni).startDrawing(this,u(this,Z),!1,e);return}u(this,Z).setCurrentDrawingSession(this),P(this,Vr,new AbortController);const t=u(this,Z).combinedSignal(u(this,Vr));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(P(this,ws,null),this.commitOrRemove())},{signal:t}),u(this,pr,ni).startDrawing(this,u(this,Z),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&P(this,ws,t);return}u(this,ws)&&setTimeout(()=>{var t;(t=u(this,ws))==null||t.focus(),P(this,ws,null)},0)}endDrawingSession(e=!1){return u(this,Vr)?(u(this,Z).setCurrentDrawingSession(null),u(this,Vr).abort(),P(this,Vr,null),P(this,ws,null),u(this,pr,ni).endDrawing(e)):null}findNewParent(e,t,r){const i=u(this,Z).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return u(this,Vr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,Vr)&&u(this,pr,ni).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,Z).getActive())==null?void 0:e.parent)===this&&(u(this,Z).commitOrRemove(),u(this,Z).setActiveEditor(null)),u(this,vs)&&(clearTimeout(u(this,vs)),P(this,vs,null));for(const r of u(this,Wn).values())(t=u(this,ec))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,Wn).clear(),u(this,Z).removeLayer(this)}render({viewport:e}){this.viewport=e,ia(this.div,e);for(const t of u(this,Z).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,Z).commitOrRemove(),I(this,Xh,Wv).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ia(this.div,{rotation:r}),t!==r)for(const i of u(this,Wn).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,Z).viewParameters.realScale}};ec=new WeakMap,Kh=new WeakMap,xi=new WeakMap,No=new WeakMap,vs=new WeakMap,Wn=new WeakMap,Do=new WeakMap,Yh=new WeakMap,tc=new WeakMap,Vr=new WeakMap,ws=new WeakMap,Pt=new WeakMap,bs=new WeakMap,Oo=new WeakMap,qh=new WeakMap,Z=new WeakMap,jo=new WeakMap,Mb=new WeakSet,wB=function(e){u(this,Z).unselectAll();const{target:t}=e;if(t===u(this,Pt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Pt).div.contains(t)){const{isMac:r}=Rt.platform;if(e.button!==0||e.ctrlKey&&r)return;u(this,Z).showAllEditors("highlight",!0,!0),u(this,Pt).div.classList.add("free"),this.toggleDrawing(),Hw.startHighlighting(this,u(this,Z).direction==="ltr",{target:u(this,Pt).div,x:e.x,y:e.y}),u(this,Pt).div.addEventListener("pointerup",()=>{u(this,Pt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,Z)._signal}),e.preventDefault()}},pr=new WeakSet,ni=function(){return u(Pr,jo).get(u(this,Z).getMode())},_g=new WeakSet,WE=function(e){const t=u(this,pr,ni);return t?new t.prototype.constructor(e):null},Rg=new WeakSet,UE=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,h=(o+l)/2-t,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},Xh=new WeakSet,Wv=function(){for(const e of u(this,Wn).values())e.isEmpty()&&e.remove()},V(Pr,"_initialized",!1),C(Pr,jo,new Map([SE,DE,$E,Hw,VE].map(e=>[e._editorType,e])));let $w=Pr;var $r,cn,nc,Mg,Lb,bB,Lg,GE,Nb,xB,Ng,KE;const pt=class pt{constructor({pageIndex:e}){C(this,Lg);C(this,Nb);C(this,Ng);C(this,$r,null);C(this,cn,new Map);C(this,nc,new Map);this.pageIndex=e}setParent(e){if(!u(this,$r)){P(this,$r,e);return}if(u(this,$r)!==e){if(u(this,cn).size>0)for(const t of u(this,cn).values())t.remove(),e.append(t);P(this,$r,e)}}static get _svgFactory(){return ye(this,"_svgFactory",new mp)}draw(e,t=!1,r=!1){const i=rn(pt,Mg)._++,s=I(this,Lg,GE).call(this),o=pt._svgFactory.createElement("defs");s.append(o);const a=pt._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,nc).set(i,a);const c=r?I(this,Nb,xB).call(this,o,l):null,h=pt._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(s,e),u(this,cn).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=rn(pt,Mg)._++,i=I(this,Lg,GE).call(this),s=pt._svgFactory.createElement("defs");i.append(s);const o=pt._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const d=pt._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=pt._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const m=pt._svgFactory.createElement("use");d.append(m),m.setAttribute("href",`#${a}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const c=pt._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const h=c.cloneNode();return i.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),u(this,cn).set(r,i),r}finalizeDraw(e,t){u(this,nc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:o}=t,a=typeof e=="number"?u(this,cn).get(e):e;if(a){if(r&&I(this,Ng,KE).call(this,a,r),i&&I(l=pt,Lb,bB).call(l,a,i),s){const{classList:c}=a;for(const[h,d]of Object.entries(s))c.toggle(h,d)}if(o){const h=a.firstChild.firstChild;I(this,Ng,KE).call(this,h,o)}}}updateParent(e,t){if(t===this)return;const r=u(this,cn).get(e);r&&(u(t,$r).append(r),u(this,cn).delete(e),u(t,cn).set(e,r))}remove(e){u(this,nc).delete(e),u(this,$r)!==null&&(u(this,cn).get(e).remove(),u(this,cn).delete(e))}destroy(){P(this,$r,null);for(const e of u(this,cn).values())e.remove();u(this,cn).clear(),u(this,nc).clear()}};$r=new WeakMap,cn=new WeakMap,nc=new WeakMap,Mg=new WeakMap,Lb=new WeakSet,bB=function(e,[t,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Lg=new WeakSet,GE=function(){const e=pt._svgFactory.create(1,1,!0);return u(this,$r).append(e),e.setAttribute("aria-hidden",!0),e},Nb=new WeakSet,xB=function(e,t){const r=pt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=pt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},Ng=new WeakSet,KE=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},C(pt,Lb),C(pt,Mg,0);let zw=pt;globalThis._pdfjsTestingUtils={HighlightOutliner:EE};globalThis.pdfjsLib={AbortException:Ms,AnnotationEditorLayer:$w,AnnotationEditorParamsType:xe,AnnotationEditorType:oe,AnnotationEditorUIManager:sa,AnnotationLayer:iP,AnnotationMode:Ei,AnnotationType:rt,build:xF,ColorPicker:gp,createValidAbsoluteUrl:GT,DOMSVGFactory:mp,DrawLayer:zw,FeatureTest:Rt,fetchData:Cd,getDocument:eP,getFilenameFromUrl:mj,getPdfFilenameFromUrl:gj,getUuid:YT,getXfaPageViewport:yj,GlobalWorkerOptions:yr,ImageKind:Mf,InvalidPDFException:Ow,isDataScheme:ty,isPdfFile:_x,isValidExplicitDest:Qj,MathClamp:Qt,noContextMenu:Ar,normalizeUnicode:fj,OPS:up,OutputScale:Jr,PasswordResponses:hj,PDFDataRangeTransport:tP,PDFDateString:Rx,PDFWorker:dd,PermissionFlag:uj,PixelsPerInch:Ls,RenderingCancelledException:Ix,ResponseException:hp,setLayerDimensions:ia,shadow:ye,SignatureExtractor:ht,stopEvent:ot,SupportedImageMimeTypes:jw,TextLayer:fp,TouchManager:dp,updateUrlHash:KT,Util:ne,VerbosityLevel:Jg,version:bF,XfaLayer:nP};const b7=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ms,AnnotationEditorLayer:$w,AnnotationEditorParamsType:xe,AnnotationEditorType:oe,AnnotationEditorUIManager:sa,AnnotationLayer:iP,AnnotationMode:Ei,AnnotationType:rt,ColorPicker:gp,DOMSVGFactory:mp,DrawLayer:zw,FeatureTest:Rt,GlobalWorkerOptions:yr,ImageKind:Mf,InvalidPDFException:Ow,MathClamp:Qt,OPS:up,OutputScale:Jr,PDFDataRangeTransport:tP,PDFDateString:Rx,PDFWorker:dd,PasswordResponses:hj,PermissionFlag:uj,PixelsPerInch:Ls,RenderingCancelledException:Ix,ResponseException:hp,SignatureExtractor:ht,SupportedImageMimeTypes:jw,TextLayer:fp,TouchManager:dp,Util:ne,VerbosityLevel:Jg,XfaLayer:nP,build:xF,createValidAbsoluteUrl:GT,fetchData:Cd,getDocument:eP,getFilenameFromUrl:mj,getPdfFilenameFromUrl:gj,getUuid:YT,getXfaPageViewport:yj,isDataScheme:ty,isPdfFile:_x,isValidExplicitDest:Qj,noContextMenu:Ar,normalizeUnicode:fj,setLayerDimensions:ia,shadow:ye,stopEvent:ot,updateUrlHash:KT,version:bF},Symbol.toStringTag,{value:"Module"}));var W_=Object.prototype.hasOwnProperty;function U_(n,e,t){for(t of n.keys())if(gu(t,e))return t}function gu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&gu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=U_(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=U_(e,i),!i)||!gu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(W_.call(n,t)&&++r&&!W_.call(e,t)||!(t in e)||!gu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function sy(n){let e=!1;return{promise:new Promise((r,i)=>{n.then(s=>!e&&r(s)).catch(s=>!e&&i(s))}),cancel(){e=!0}}}const x7=["onCopy","onCut","onPaste"],S7=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],A7=["onFocus","onBlur"],E7=["onInput","onInvalid","onReset","onSubmit"],C7=["onLoad","onError"],T7=["onKeyDown","onKeyPress","onKeyUp"],P7=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],k7=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],I7=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],_7=["onSelect"],R7=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],M7=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],L7=["onScroll"],N7=["onWheel"],D7=["onAnimationStart","onAnimationEnd","onAnimationIteration"],O7=["onTransitionEnd"],j7=["onToggle"],F7=["onChange"],B7=[...x7,...S7,...A7,...E7,...C7,...T7,...P7,...k7,...I7,..._7,...R7,...M7,...L7,...N7,...D7,...O7,...F7,...j7];function SB(n,e){const t={};for(const r of B7){const i=n[r];i&&(e?t[r]=s=>i(s,e(r)):t[r]=i)}return t}var H7=!0,e1="Invariant failed";function Le(n,e){if(!n){if(H7)throw new Error(e1);var t=typeof e=="function"?e():e,r=t?"".concat(e1,": ").concat(t):e1;throw new Error(r)}}var V7=function(){},$7=V7;const Zt=pd($7),z7=E.createContext(null),AB=z7,W7="noopener noreferrer nofollow";class U7{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Le(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){Le(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Le(this.pdfDocument,"PDF document not loaded."),Le(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Le(Array.isArray(t),`"${t}" is not a valid destination array.`);const r=t[0];new Promise(i=>{Le(this.pdfDocument,"PDF document not loaded."),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Le(!1,`"${r}" is not a valid page reference.`)}):typeof r=="number"?i(r):Le(!1,`"${r}" is not a valid destination reference.`)}).then(i=>{const s=i+1;Le(this.pdfViewer,"PDF viewer is not initialized."),Le(s>=1&&s<=this.pagesCount,`"${s}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Le(this.pdfViewer,"PDF viewer is not initialized."),Le(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||W7,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function yu({children:n,type:e}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const G7={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},G_=G7;function K7(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function fd(){return E.useReducer(K7,{value:void 0,error:void 0})}const Nx=typeof window<"u",EB=Nx&&window.location.protocol==="file:";function Y7(n){return typeof n<"u"}function ya(n){return Y7(n)&&n!==null}function q7(n){return typeof n=="string"}function X7(n){return n instanceof ArrayBuffer}function Q7(n){return Le(Nx,"isBlob can only be used in a browser environment"),n instanceof Blob}function YE(n){return q7(n)&&/^data:/.test(n)}function K_(n){Le(YE(n),"Invalid data URI.");const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function J7(){return Nx&&window.devicePixelRatio||1}const CB="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Y_(){Zt(!EB,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${CB}`)}function Z7(){Zt(!EB,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${CB}`)}function mc(n){n!=null&&n.cancel&&n.cancel()}function qE(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function eQ(n){return n.name==="RenderingCancelledException"}function tQ(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:nQ}=b7,rQ=(n,e)=>{switch(e){case G_.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case G_.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function q_(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const iQ=E.forwardRef(function({children:e,className:t,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:s,file:o,inputRef:a,imageResourcesPath:l,loading:c="Loading PDF…",noData:h="No PDF file specified.",onItemClick:d,onLoadError:f,onLoadProgress:m,onLoadSuccess:y,onPassword:g=rQ,onSourceError:A,onSourceSuccess:x,options:S,renderMode:b,rotate:p,scale:w,...T},k){const[_,R]=fd(),{value:M,error:L}=_,[j,H]=fd(),{value:N,error:$}=j,D=E.useRef(new U7),B=E.useRef([]),O=E.useRef(void 0),F=E.useRef(void 0);o&&o!==O.current&&q_(o)&&(Zt(!gu(o,O.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),O.current=o),S&&S!==F.current&&(Zt(!gu(S,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=S);const W=E.useRef({scrollPageIntoView:se=>{const{dest:Se,pageNumber:je,pageIndex:Ve=je-1}=se;if(d){d({dest:Se,pageIndex:Ve,pageNumber:je});return}const nr=B.current[Ve];if(nr){nr.scrollIntoView();return}Zt(!1,`An internal link leading to page ${je} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});E.useImperativeHandle(k,()=>({linkService:D,pages:B,viewer:W}),[]);function U(){x&&x()}function K(){L&&(Zt(!1,L.toString()),A&&A(L))}function J(){R({type:"RESET"})}E.useEffect(J,[o,R]);const he=E.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return YE(o)?{data:K_(o)}:(Y_(),{url:o});if(o instanceof nQ)return{range:o};if(X7(o))return{data:o};if(Nx&&Q7(o))return{data:await tQ(o)};if(Le(typeof o=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),Le(q_(o),"Invalid parameter object: need either .data, .range or .url"),"url"in o&&typeof o.url=="string"){if(YE(o.url)){const{url:se,...Se}=o;return{data:K_(se),...Se}}Y_()}return o},[o]);E.useEffect(()=>{const se=sy(he());return se.promise.then(Se=>{R({type:"RESOLVE",value:Se})}).catch(Se=>{R({type:"REJECT",error:Se})}),()=>{mc(se)}},[he,R]),E.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){K();return}U()}},[M]);function Pe(){N&&(y&&y(N),B.current=new Array(N.numPages),D.current.setDocument(N))}function le(){$&&(Zt(!1,$.toString()),f&&f($))}E.useEffect(function(){H({type:"RESET"})},[H,M]),E.useEffect(function(){if(!M)return;const Se=S?{...M,...S}:M,je=eP(Se);m&&(je.onProgress=m),g&&(je.onPassword=g);const Ve=je,nr=Ve.promise.then(ma=>{H({type:"RESOLVE",value:ma})}).catch(ma=>{Ve.destroyed||H({type:"REJECT",error:ma})});return()=>{nr.finally(()=>Ve.destroy())}},[S,H,M]),E.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){le();return}Pe()}},[N]),E.useEffect(function(){D.current.setViewer(W.current),D.current.setExternalLinkRel(i),D.current.setExternalLinkTarget(s)},[i,s]);const G=E.useCallback((se,Se)=>{B.current[se]=Se},[]),de=E.useCallback(se=>{delete B.current[se]},[]),ce=E.useMemo(()=>({imageResourcesPath:l,linkService:D.current,onItemClick:d,pdf:N,registerPage:G,renderMode:b,rotate:p,scale:w,unregisterPage:de}),[l,d,N,G,b,p,w,de]),te=E.useMemo(()=>SB(T,()=>N),[T,N]);function ie(){function se(je){return!!(je!=null&&je.pdf)}if(!se(ce))throw new Error("pdf is undefined");const Se=typeof e=="function"?e(ce):e;return v.jsx(AB.Provider,{value:ce,children:Se})}function me(){return o?N==null?v.jsx(yu,{type:"loading",children:typeof c=="function"?c():c}):N===!1?v.jsx(yu,{type:"error",children:typeof r=="function"?r():r}):ie():v.jsx(yu,{type:"no-data",children:typeof h=="function"?h():h})}return v.jsx("div",{className:wd("react-pdf__Document",t),ref:a,...te,children:me()})}),sQ=iQ;function TB(){return E.useContext(AB)}function PB(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){for(var o=0,a=t;o<a.length;o++){var l=a[o];typeof l=="function"?l(s):l&&(l.current=s)}}}const oQ=E.createContext(null),kB=oQ;function Dx(){return E.useContext(kB)}function aQ(){const n=TB(),e=Dx();Le(e,"Unable to find Page context.");const t={...n,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:d,rotate:f,scale:m=1}=t;Le(h,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),Le(c,"Attempted to load page annotations, but no page was specified."),Le(i,"Attempted to load page annotations, but no linkService was specified.");const[y,g]=fd(),{value:A,error:x}=y,S=E.useRef(null);Zt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function b(){A&&o&&o(A)}function p(){x&&(Zt(!1,x.toString()),s&&s(x))}E.useEffect(function(){g({type:"RESET"})},[g,c]),E.useEffect(function(){if(!c)return;const R=sy(c.getAnnotations()),M=R;return R.promise.then(L=>{g({type:"RESOLVE",value:L})}).catch(L=>{g({type:"REJECT",error:L})}),()=>{mc(M)}},[g,c]),E.useEffect(()=>{if(A!==void 0){if(A===!1){p();return}b()}},[A]);function w(){l&&l()}function T(_){Zt(!1,`${_}`),a&&a(_)}const k=E.useMemo(()=>c.getViewport({scale:m,rotation:f}),[c,f,m]);return E.useEffect(function(){if(!h||!c||!i||!A)return;const{current:R}=S;if(!R)return;const M=k.clone({dontFlip:!0}),L={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:R,l10n:null,page:c,structTreeLayer:null,viewport:M},j={annotations:A,annotationStorage:h.annotationStorage,div:R,imageResourcesPath:r,linkService:i,page:c,renderForms:d,viewport:M};R.innerHTML="";try{new iP(L).render(j),w()}catch(H){T(H)}return()=>{}},[A,r,i,c,h,d,k]),v.jsx("div",{className:wd("react-pdf__Page__annotations","annotationLayer"),ref:S})}const IB={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},lQ=/^H(\d+)$/;function cQ(n){return n in IB}function Ox(n){return"children"in n}function _B(n){return Ox(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function uQ(n){const e={};if(Ox(n)){const{role:t}=n,r=t.match(lQ);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(cQ(t)){const i=IB[t];i&&(e.role=i)}}return e}function RB(n){const e={};if(Ox(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),_B(n)){const[t]=n.children;if(t){const r=RB(t);return{...e,...r}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function hQ(n){return n?{...uQ(n),...RB(n)}:null}function MB({className:n,node:e}){const t=E.useMemo(()=>hQ(e),[e]),r=E.useMemo(()=>!Ox(e)||_B(e)?null:e.children.map((i,s)=>v.jsx(MB,{node:i},s)),[e]);return v.jsx("span",{className:n,...t,children:r})}function dQ(){const n=Dx();Le(n,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=fd(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function h(){o&&(Zt(!1,o.toString()),e&&e(o))}return E.useEffect(function(){i({type:"RESET"})},[i,l]),E.useEffect(function(){if(a||!l)return;const f=sy(l.getStructTree()),m=f;return f.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>mc(m)},[a,l,i]),E.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}c()}},[s]),s?v.jsx(MB,{className:"react-pdf__Page__structTree structTree",node:s}):null}const X_=Ei;function fQ(n){const e=Dx();Le(e,"Unable to find Page context.");const t={...e,...n},{_className:r,canvasBackground:i,devicePixelRatio:s=J7(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:m}=n;Le(l,"Attempted to render page canvas, but no page was specified.");const y=E.useRef(null);function g(){l&&a&&a(qE(l,f))}function A(p){eQ(p)||(Zt(!1,p.toString()),o&&o(p))}const x=E.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),S=E.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);E.useEffect(function(){if(!l)return;l.cleanup();const{current:w}=y;if(!w)return;w.width=x.width,w.height=x.height,w.style.width=`${Math.floor(S.width)}px`,w.style.height=`${Math.floor(S.height)}px`,w.style.visibility="hidden";const T={annotationMode:c?X_.ENABLE_FORMS:X_.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:x};i&&(T.background=i);const k=l.render(T),_=k;return k.promise.then(()=>{w.style.visibility="",g()}).catch(A),()=>mc(_)},[i,l,c,x,S]);const b=E.useCallback(()=>{const{current:p}=y;p&&(p.width=0,p.height=0)},[]);return E.useEffect(()=>b,[b]),v.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:PB(m,y),style:{display:"block",userSelect:"none"},children:h?v.jsx(dQ,{}):null})}function pQ(n){return"str"in n}function mQ(){const n=Dx();Le(n,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:h}=n;Le(o,"Attempted to load page text content, but no page was specified.");const[d,f]=fd(),{value:m,error:y}=d,g=E.useRef(null);Zt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){m&&r&&r(m)}function x(){y&&(Zt(!1,y.toString()),t&&t(y))}E.useEffect(function(){f({type:"RESET"})},[o,f]),E.useEffect(function(){if(!o)return;const _=sy(o.getTextContent()),R=_;return _.promise.then(M=>{f({type:"RESOLVE",value:M})}).catch(M=>{f({type:"REJECT",error:M})}),()=>mc(R)},[o,f]),E.useEffect(()=>{if(m!==void 0){if(m===!1){x();return}A()}},[m]);const S=E.useCallback(()=>{s&&s()},[s]),b=E.useCallback(k=>{Zt(!1,k.toString()),i&&i(k)},[i]);function p(){const k=g.current;k&&k.classList.add("selecting")}function w(){const k=g.current;k&&k.classList.remove("selecting")}const T=E.useMemo(()=>o.getViewport({scale:h,rotation:c}),[o,c,h]);return E.useLayoutEffect(function(){if(!o||!m)return;const{current:_}=g;if(!_)return;_.innerHTML="";const R=o.streamTextContent({includeMarkedContent:!0}),M={container:_,textContentSource:R,viewport:T},L=new fp(M),j=L;return L.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",_.append(H);const N=_.querySelectorAll('[role="presentation"]');if(e){let $=0;m.items.forEach((D,B)=>{if(!pQ(D))return;const O=N[$];if(!O)return;const F=e({pageIndex:a,pageNumber:l,itemIndex:B,...D});O.innerHTML=F,$+=D.str&&D.hasEOL?2:1})}S()}).catch(b),()=>mc(j)},[e,b,S,o,a,l,m,T]),v.jsx("div",{className:wd("react-pdf__Page__textContent","textLayer"),onMouseUp:w,onMouseDown:p,ref:g})}const Q_=1;function gQ(n){const t={...TB(),...n},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:m,inputRef:y,loading:g="Loading page…",noData:A="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:S,onGetStructTreeError:b,onGetStructTreeSuccess:p,onGetTextError:w,onGetTextSuccess:T,onLoadError:k,onLoadSuccess:_,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:M,onRenderError:L,onRenderSuccess:j,onRenderTextLayerError:H,onRenderTextLayerSuccess:N,pageIndex:$,pageNumber:D,pdf:B,registerPage:O,renderAnnotationLayer:F=!0,renderForms:W=!1,renderMode:U="canvas",renderTextLayer:K=!0,rotate:J,scale:he=Q_,unregisterPage:Pe,width:le,...G}=t,[de,ce]=fd(),{value:te,error:ie}=de,me=E.useRef(null);Le(B,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const se=ya(D)?D-1:$??null,Se=D??(ya($)?$+1:null),je=J??(te?te.rotate:null),Ve=E.useMemo(()=>{if(!te)return null;let js=1;const Tc=he??Q_;if(le||m){const Fs=te.getViewport({scale:1,rotation:je});le?js=le/Fs.width:m&&(js=m/Fs.height)}return Tc*js},[m,te,je,he,le]);E.useEffect(function(){return()=>{ya(se)&&i&&Pe&&Pe(se)}},[i,B,se,Pe]);function nr(){if(_){if(!te||!Ve)return;_(qE(te,Ve))}if(i&&O){if(!ya(se)||!me.current)return;O(se,me.current)}}function ma(){ie&&(Zt(!1,ie.toString()),k&&k(ie))}E.useEffect(function(){ce({type:"RESET"})},[ce,B,se]),E.useEffect(function(){if(!B||!Se)return;const Tc=sy(B.getPage(Se)),Fs=Tc;return Tc.promise.then(Fx=>{ce({type:"RESOLVE",value:Fx})}).catch(Fx=>{ce({type:"REJECT",error:Fx})}),()=>mc(Fs)},[ce,B,Se]),E.useEffect(()=>{if(te!==void 0){if(te===!1){ma();return}nr()}},[te,Ve]);const Os=E.useMemo(()=>ya(se)&&Se&&ya(je)&&ya(Ve)?{_className:r,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:x,onGetAnnotationsSuccess:S,onGetStructTreeError:b,onGetStructTreeSuccess:p,onGetTextError:w,onGetTextSuccess:T,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:M,onRenderError:L,onRenderSuccess:j,onRenderTextLayerError:H,onRenderTextLayerSuccess:N,page:te,pageIndex:se,pageNumber:Se,renderForms:W,renderTextLayer:K,rotate:je,scale:Ve}:null,[r,s,h,d,x,S,b,p,w,T,R,M,L,j,H,N,te,se,Se,W,K,je,Ve]),rH=E.useMemo(()=>SB(G,()=>te&&(Ve?qE(te,Ve):void 0)),[G,te,Ve]),ay=`${se}@${Ve}/${je}`;function iH(){switch(U){case"custom":return Le(c,'renderMode was set to "custom", but no customRenderer was passed.'),v.jsx(c,{},`${ay}_custom`);case"none":return null;case"canvas":default:return v.jsx(fQ,{canvasRef:o},`${ay}_canvas`)}}function sH(){return K?v.jsx(mQ,{},`${ay}_text`):null}function oH(){return F?v.jsx(aQ,{},`${ay}_annotations`):null}function aH(){function js(Fs){return!!(Fs!=null&&Fs.page)}if(!js(Os))throw new Error("page is undefined");const Tc=typeof a=="function"?a(Os):a;return v.jsxs(kB.Provider,{value:Os,children:[iH(),sH(),oH(),Tc]})}function lH(){return Se?B===null||te===void 0||te===null?v.jsx(yu,{type:"loading",children:typeof g=="function"?g():g}):B===!1||te===!1?v.jsx(yu,{type:"error",children:typeof f=="function"?f():f}):aH():v.jsx(yu,{type:"no-data",children:typeof A=="function"?A():A})}return v.jsx("div",{className:wd(r,l),"data-page-number":Se,ref:PB(y,me),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ve}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...rH,children:lH()})}Z7();yr.workerSrc="pdf.worker.mjs";var XE={exports:{}};(function(n,e){(function(t,r){r(e)})(dH,function(t){class r{constructor(p,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=p}setDensity(p){this.createdDensity=p,this.nowDrawingDensity=p}setDrawingDensity(p){this.nowDrawingDensity=p}setPosition(p){this.state.position=p}setAngle(p){this.state.angle=p}setArea(p){this.state.area=p}setHardDrawingAngle(p){this.state.hardDrawingAngle=p}setHardAngle(p){this.state.hardAngle=p,this.state.hardDrawingAngle=p}setOrientation(p){this.orientation=p}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(p,w,T){super(p,T),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(p){const w=this.render.getContext(),T=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,_=this.render.getRect().height;w.save(),w.translate(T.x,T.y),w.beginPath();for(let R of this.state.area)R!==null&&(R=this.render.convertToGlobal(R),w.lineTo(R.x-T.x,R.y-T.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,k,_):this.drawLoader(w,{x:0,y:0},k,_),w.restore()}simpleDraw(p){const w=this.render.getRect(),T=this.render.getContext(),k=w.pageWidth,_=w.height,R=p===1?w.left+w.pageWidth:w.left,M=w.top;this.isLoad?T.drawImage(this.image,R,M,k,_):this.drawLoader(T,{x:R,y:M},k,_)}drawLoader(p,w,T,k){p.beginPath(),p.strokeStyle="rgb(200, 200, 200)",p.fillStyle="rgb(255, 255, 255)",p.lineWidth=1,p.rect(w.x+1,w.y+1,T-1,k-1),p.stroke(),p.fill();const _={x:w.x+T/2,y:w.y+k/2};p.beginPath(),p.lineWidth=10,p.arc(_.x,_.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),p.stroke(),p.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(p,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=p,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let p=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([p]),p++);for(let w=p;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(p){const w=this.getSpread();for(let T=0;T<w.length;T++)if(p===w[T][0]||p===w[T][1])return T;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(p){if(p>=0&&p<this.pages.length)return this.pages[p];throw new Error("Invalid page number")}nextBy(p){const w=this.pages.indexOf(p);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(p){const w=this.pages.indexOf(p);return w>0?this.pages[w-1]:null}getFlippingPage(p){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return p===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const T=p===0?this.getSpread()[w+1]:this.getSpread()[w-1];return T.length===1||p===0?this.pages[T[0]]:this.pages[T[1]]}}getBottomPage(p){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return p===0?this.pages[w+1]:this.pages[w-1];{const T=p===0?this.getSpread()[w+1]:this.getSpread()[w-1];return T.length===1?this.pages[T[0]]:p===0?this.pages[T[1]]:this.pages[T[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(p=null){if(p===null&&(p=this.currentPageIndex),p<0||p>=this.pages.length)return;const w=this.getSpreadIndexByPage(p);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(p){if(!(p>=0&&p<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=p}showSpread(){const p=this.getSpread()[this.currentSpreadIndex];p.length===2?(this.render.setLeftPage(this.pages[p[0]]),this.render.setRightPage(this.pages[p[1]])):this.render.getOrientation()==="landscape"&&p[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[p[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[p[0]])),this.currentPageIndex=p[0],this.app.updatePageIndex(this.currentPageIndex)}}class o extends s{constructor(p,w,T){super(p,w),this.imagesHref=T}load(){for(const p of this.imagesHref){const w=new i(this.render,p,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class a{static GetDistanceBetweenTwoPoint(p,w){return p===null||w===null?1/0:Math.sqrt(Math.pow(w.x-p.x,2)+Math.pow(w.y-p.y,2))}static GetSegmentLength(p){return a.GetDistanceBetweenTwoPoint(p[0],p[1])}static GetAngleBetweenTwoLine(p,w){const T=p[0].y-p[1].y,k=w[0].y-w[1].y,_=p[1].x-p[0].x,R=w[1].x-w[0].x;return Math.acos((T*k+_*R)/(Math.sqrt(T*T+_*_)*Math.sqrt(k*k+R*R)))}static PointInRect(p,w){return w===null?null:w.x>=p.left&&w.x<=p.width+p.left&&w.y>=p.top&&w.y<=p.top+p.height?w:null}static GetRotatedPoint(p,w,T){return{x:p.x*Math.cos(T)+p.y*Math.sin(T)+w.x,y:p.y*Math.cos(T)-p.x*Math.sin(T)+w.y}}static LimitPointToCircle(p,w,T){if(a.GetDistanceBetweenTwoPoint(p,T)<=w)return T;const k=p.x,_=p.y,R=T.x,M=T.y;let L=Math.sqrt(Math.pow(w,2)*Math.pow(k-R,2)/(Math.pow(k-R,2)+Math.pow(_-M,2)))+k;T.x<0&&(L*=-1);let j=(L-k)*(_-M)/(k-R)+_;return k-R+_===0&&(j=w),{x:L,y:j}}static GetIntersectBetweenTwoSegment(p,w,T){return a.PointInRect(p,a.GetIntersectBeetwenTwoLine(w,T))}static GetIntersectBeetwenTwoLine(p,w){const T=p[0].y-p[1].y,k=w[0].y-w[1].y,_=p[1].x-p[0].x,R=w[1].x-w[0].x,M=p[0].x*p[1].y-p[1].x*p[0].y,L=w[0].x*w[1].y-w[1].x*w[0].y,j=T*L-k*M,H=_*L-R*M,N=-(M*R-L*_)/(T*R-k*_),$=-(T*L-k*M)/(T*R-k*_);if(isFinite(N)&&isFinite($))return{x:N,y:$};if(Math.abs(j-H)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(p,w){const T=Math.abs(p.x-w.x),k=Math.abs(p.y-w.y),_=Math.max(T,k),R=[p];function M(L,j,H,N,$){return j>L?L+$*(H/N):j<L?L-$*(H/N):L}for(let L=1;L<=_;L+=1)R.push({x:M(p.x,w.x,T,_,L),y:M(p.y,w.y,k,_,L)});return R}}class l extends r{constructor(p,w,T){super(p,T),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+T)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new l(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(p){const w=p||this.nowDrawingDensity,T=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,_=this.render.getRect().height;this.element.classList.remove("--simple");const R=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${k}px;
            height: ${_}px;
        `;w==="hard"?this.drawHard(R):this.drawSoft(T,R)}drawHard(p=""){const w=this.render.getRect().left+this.render.getRect().width/2,T=this.state.hardDrawingAngle,k=p+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${T}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${T}deg);`);this.element.style.cssText=k}drawSoft(p,w=""){let T="polygon( ";for(const _ of this.state.area)if(_!==null){let R=this.render.getDirection()===1?{x:-_.x+this.state.position.x,y:_.y-this.state.position.y}:{x:_.x-this.state.position.x,y:_.y-this.state.position.y};R=a.GetRotatedPoint(R,{x:0,y:0},this.state.angle),T+=R.x+"px "+R.y+"px, "}T=T.slice(0,-2),T+=")";const k=w+`transform-origin: 0 0; clip-path: ${T}; -webkit-clip-path: ${T};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${p.x}px, ${p.y}px);`:`transform: translate3d(${p.x}px, ${p.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=k}simpleDraw(p){const w=this.render.getRect(),T=w.pageWidth,k=w.height,_=p===1?w.left+w.pageWidth:w.left,R=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${k}px; 
            left: ${_}px; 
            top: ${R}px; 
            width: ${T}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(p){super.setOrientation(p),this.element.classList.remove("--left","--right"),this.element.classList.add(p===1?"--right":"--left")}setDrawingDensity(p){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+p),super.setDrawingDensity(p)}}class c extends s{constructor(p,w,T,k){super(p,w),this.element=T,this.pagesElement=k}load(){for(const p of this.pagesElement){const w=new l(this.render,p,p.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class h{constructor(p,w,T,k){this.direction=p,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(T,10),this.pageHeight=parseInt(k,10)}calc(p){try{return this.position=this.calcAngleAndPosition(p),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const p=[];let w=!1;return p.push(this.rect.topLeft),p.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(p.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),p.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&p.push(this.rect.bottomLeft),p}getBottomClipArea(){const p=[];return p.push(this.topIntersectPoint),this.corner==="top"?p.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&p.push({x:this.pageWidth,y:0}),p.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?a.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&p.push(this.sideIntersectPoint):this.corner==="top"&&p.push({x:this.pageWidth,y:this.pageHeight}),p.push(this.bottomIntersectPoint),p.push(this.topIntersectPoint),p}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const p=a.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?p:Math.PI-p}calcAngleAndPosition(p){let w=p;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(p){this.angle=this.calculateAngle(p),this.rect=this.getPageRect(p)}calculateAngle(p){const w=this.pageWidth-p.x+1,T=this.corner==="bottom"?this.pageHeight-p.y:p.y;let k=2*Math.acos(w/Math.sqrt(T*T+w*w));T<0&&(k=-k);const _=Math.PI-k;if(!isFinite(k)||_>=0&&_<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(k=-k),k}getPageRect(p){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],p):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],p)}getRectFromBasePoint(p,w){return{topLeft:this.getRotatedPoint(p[0],w),topRight:this.getRotatedPoint(p[1],w),bottomLeft:this.getRotatedPoint(p[2],w),bottomRight:this.getRotatedPoint(p[3],w)}}getRotatedPoint(p,w){return{x:p.x*Math.cos(this.angle)+p.y*Math.sin(this.angle)+w.x,y:p.y*Math.cos(this.angle)-p.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(p){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[p,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[p,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[p,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=a.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(p,w,T){let k=p;const _=a.LimitPointToCircle(w,this.pageWidth,k);k!==_&&(k=_,this.updateAngleAndGeometry(k));const R=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let M=this.rect.bottomRight,L=this.rect.topLeft;if(this.corner==="bottom"&&(M=this.rect.topRight,L=this.rect.bottomLeft),M.x<=0){const j=a.LimitPointToCircle(T,R,L);j!==k&&(k=j,this.updateAngleAndGeometry(k))}return k}getSegmentToShadowLine(){const p=this.getShadowStartPoint();return[p,p!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class d{constructor(p,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=p,this.app=w}fold(p){this.setState("user_fold"),this.calc===null&&this.start(p),this.do(this.render.convertToPage(p))}flip(p){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(p)||(this.calc!==null&&this.render.finishAnimation(),!this.start(p)))return;const w=this.getBoundsRect();this.setState("flipping");const T=w.height/10,k=this.calc.getCorner()==="bottom"?w.height-T:T,_=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-T,y:k}),this.animateFlippingTo({x:w.pageWidth-T,y:k},{x:-w.pageWidth,y:_},!0)}start(p){this.reset();const w=this.render.convertToBook(p),T=this.getBoundsRect(),k=this.getDirectionByPoint(w),_=w.y>=T.height/2?"bottom":"top";if(!this.checkDirection(k))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(k),this.bottomPage=this.app.getPageCollection().getBottomPage(k),this.render.getOrientation()==="landscape")if(k===1){const R=this.app.getPageCollection().nextBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}else{const R=this.app.getPageCollection().prevBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}return this.render.setDirection(k),this.calc=new h(k,_,T.pageWidth.toString(10),T.height.toString(10)),!0}catch{return!1}}do(p){if(this.calc!==null&&this.calc.calc(p)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(p,w){const T=this.app.getPageCollection().getCurrentSpreadIndex(),k=this.app.getPageCollection().getSpreadIndexByPage(p);try{k>T&&(this.app.getPageCollection().setCurrentSpreadIndex(k-1),this.flipNext(w)),k<T&&(this.app.getPageCollection().setCurrentSpreadIndex(k+1),this.flipPrev(w))}catch{}}flipNext(p){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:p==="top"?1:this.render.getRect().height-2})}flipPrev(p){this.flip({x:10,y:p==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const p=this.calc.getPosition(),w=this.getBoundsRect(),T=this.calc.getCorner()==="bottom"?w.height:0;p.x<=0?this.animateFlippingTo(p,{x:-w.pageWidth,y:T},!0):this.animateFlippingTo(p,{x:w.pageWidth,y:T},!1)}showCorner(p){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),T=w.pageWidth;if(this.isPointOnCorners(p))if(this.calc===null){if(!this.start(p))return;this.setState("fold_corner"),this.calc.calc({x:T-1,y:1});const k=50,_=this.calc.getCorner()==="bottom"?w.height-1:1,R=this.calc.getCorner()==="bottom"?w.height-k:k;this.animateFlippingTo({x:T-1,y:_},{x:T-k,y:R},!1,!1)}else this.do(this.render.convertToPage(p));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(p,w,T,k=!0){const _=a.GetCordsFromTwoPoint(p,w),R=[];for(const L of _)R.push(()=>this.do(L));const M=this.getAnimationDuration(_.length);this.render.startAnimation(R,M,()=>{this.calc&&(T&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),k&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(p){this.state!==p&&(this.app.updateState(p),this.state=p)}getDirectionByPoint(p){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(p.x-w.pageWidth<=w.width/5)return 1}else if(p.x<w.width/2)return 1;return 0}getAnimationDuration(p){const w=this.app.getSettings().flippingTime;return p>=1e3?w:p/1e3*w}checkDirection(p){return p===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...p){for(const w of p)if(this.state===w)return!0;return!1}isPointOnCorners(p){const w=this.getBoundsRect(),T=w.pageWidth,k=Math.sqrt(Math.pow(T,2)+Math.pow(w.height,2))/5,_=this.render.convertToBook(p);return _.x>0&&_.y>0&&_.x<w.width&&_.y<w.height&&(_.x<k||_.x>w.width-k)&&(_.y<k||_.y>w.height-k)}}class f{constructor(p,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=p;const T=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=T.exec(window.navigator.userAgent)!==null}render(p){if(this.animation!==null){const w=Math.round((p-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=p,this.drawFrame()}start(){this.update();const p=w=>{this.render(w),requestAnimationFrame(p)};requestAnimationFrame(p)}startAnimation(p,w,T){this.finishAnimation(),this.animation={frames:p,duration:w,durationFrame:w/p.length,onAnimateEnd:T,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const p=this.calculateBoundsRect();this.orientation!==p&&(this.orientation=p,this.app.updateOrientation(p))}calculateBoundsRect(){let p="landscape";const w=this.getBlockWidth(),T=w/2,k=this.getBlockHeight()/2,_=this.setting.width/this.setting.height;let R=this.setting.width,M=this.setting.height,L=T-R;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(p="portrait"),R=p==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,R>this.setting.maxWidth&&(R=this.setting.maxWidth),M=R/_,M>this.getBlockHeight()&&(M=this.getBlockHeight(),R=M*_),L=p==="portrait"?T-R/2-R:T-R):w<2*R&&this.app.getSettings().usePortrait&&(p="portrait",L=T-R/2-R),this.boundsRect={left:L,top:k-M/2,width:2*R,height:M,pageWidth:R},p}setShadowData(p,w,T,k){if(!this.app.getSettings().drawShadow)return;const _=100*this.getSettings().maxShadowOpacity;this.shadow={pos:p,angle:w,width:3*this.getRect().pageWidth/4*T/100,opacity:(100-T)*_/100/100,direction:k,progress:2*T}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(p){this.pageRect=p}setDirection(p){this.direction=p}setRightPage(p){p!==null&&p.setOrientation(1),this.rightPage=p}setLeftPage(p){p!==null&&p.setOrientation(0),this.leftPage=p}setBottomPage(p){p!==null&&p.setOrientation(this.direction===1?0:1),this.bottomPage=p}setFlippingPage(p){p!==null&&p.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=p}convertToBook(p){const w=this.getRect();return{x:p.x-w.left,y:p.y-w.top}}isSafari(){return this.safari}convertToPage(p,w){w||(w=this.direction);const T=this.getRect();return{x:w===0?p.x-T.left-T.width/2:T.width/2-p.x+T.left,y:p.y-T.top}}convertToGlobal(p,w){if(w||(w=this.direction),p==null)return null;const T=this.getRect();return{x:w===0?p.x+T.left+T.width/2:T.width/2-p.x+T.left,y:p.y+T.top}}convertRectToGlobal(p,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(p.topLeft,w),topRight:this.convertToGlobal(p.topRight,w),bottomLeft:this.convertToGlobal(p.bottomLeft,w),bottomRight:this.convertToGlobal(p.bottomRight,w)}}}class m extends f{constructor(p,w,T){super(p,w),this.canvas=T,this.ctx=T.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const p=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(p.left+p.pageWidth,p.top,p.width,p.height),this.ctx.clip())}drawBookShadow(){const p=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=p.width/20;this.ctx.rect(p.left,p.top,p.width,p.height);const T={x:p.left+p.width/2-w/2,y:0};this.ctx.translate(T.x,T.y);const k=this.ctx.createLinearGradient(0,0,w,0);k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),k.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),k.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),k.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),k.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,w,2*p.height),this.ctx.restore()}drawOuterShadow(){const p=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(p.left,p.top,p.width,p.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),T.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),T.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,this.shadow.width,2*p.height),this.ctx.restore()}drawInnerShadow(){const p=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(T.topLeft.x,T.topLeft.y),this.ctx.lineTo(T.topRight.x,T.topRight.y),this.ctx.lineTo(T.bottomRight.x,T.bottomRight.y),this.ctx.lineTo(T.bottomLeft.x,T.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const k=3*this.shadow.width/4,_=this.ctx.createLinearGradient(0,0,k,0);this.shadow.direction===0?(this.ctx.translate(-k,-100),_.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),_.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,k,2*p.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class y{constructor(p,w,T){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=_=>{if(this.checkTarget(_.target)){const R=this.getMousePos(_.clientX,_.clientY);this.app.startUserTouch(R),_.preventDefault()}},this.onTouchStart=_=>{if(this.checkTarget(_.target)&&_.changedTouches.length>0){const R=_.changedTouches[0],M=this.getMousePos(R.clientX,R.clientY);this.touchPoint={point:M,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(M)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||_.preventDefault()}},this.onMouseUp=_=>{const R=this.getMousePos(_.clientX,_.clientY);this.app.userStop(R)},this.onMouseMove=_=>{const R=this.getMousePos(_.clientX,_.clientY);this.app.userMove(R,!1)},this.onTouchMove=_=>{if(_.changedTouches.length>0){const R=_.changedTouches[0],M=this.getMousePos(R.clientX,R.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-M.x)>10||this.app.getState()!=="read")&&_.cancelable&&this.app.userMove(M,!0),this.app.getState()!=="read"&&_.preventDefault()):this.app.userMove(M,!0)}},this.onTouchEnd=_=>{if(_.changedTouches.length>0){const R=_.changedTouches[0],M=this.getMousePos(R.clientX,R.clientY);let L=!1;if(this.touchPoint!==null){const j=M.x-this.touchPoint.point.x,H=Math.abs(M.y-this.touchPoint.point.y);Math.abs(j)>this.swipeDistance&&H<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(j>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),L=!0),this.touchPoint=null}this.app.userStop(M,L)}},this.parentElement=p,p.classList.add("stf__parent"),p.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=p.querySelector(".stf__wrapper"),this.app=w;const k=this.app.getSettings().usePortrait?1:2;p.style.minWidth=T.minWidth*k+"px",p.style.minHeight=T.minHeight+"px",T.size==="fixed"&&(p.style.minWidth=T.width*k+"px",p.style.minHeight=T.height+"px"),T.autoSize&&(p.style.width="100%",p.style.maxWidth=2*T.maxWidth+"px"),p.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=T.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(p){this.wrapper.classList.remove("--portrait","--landscape"),p==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(p,w){const T=this.distElement.getBoundingClientRect();return{x:p-T.left,y:w-T.top}}checkTarget(p){return!this.app.getSettings().clickEventForward||!["a","button"].includes(p.tagName.toLowerCase())}}class g extends y{constructor(p,w,T,k){super(p,w,T),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=p.querySelector(".stf__block"),this.items=k;for(const _ of k)this.distElement.appendChild(_);this.setHandlers()}clear(){for(const p of this.items)this.parentElement.appendChild(p)}updateItems(p){this.removeHandlers(),this.distElement.innerHTML="";for(const w of p)this.distElement.appendChild(w);this.items=p,this.setHandlers()}update(){this.app.getRender().update()}}class A extends y{constructor(p,w,T){super(p,w,T),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=p.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const p=getComputedStyle(this.canvas),w=parseInt(p.getPropertyValue("width"),10),T=parseInt(p.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=T}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class x extends f{constructor(p,w,T){super(p,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=T,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const p=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let T=(100-w)*(2.5*p.pageWidth)/100+20;T>p.pageWidth&&(T=p.pageWidth);let k=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${T}px;
            height: ${p.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${p.left+p.width/2}px;
            transform-origin: 0 0;
        `;k+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=k}drawHardOuterShadow(){const p=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*p.pageWidth)/100+20;w>p.pageWidth&&(w=p.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${p.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${p.left+p.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=T}drawInnerShadow(){const p=this.getRect(),w=3*this.shadow.width/4,T=this.getDirection()===0?w:0,k=this.getDirection()===0?"to left":"to right",_=this.convertToGlobal(this.shadow.pos),R=this.shadow.angle+3*Math.PI/2,M=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let L="polygon( ";for(const H of M){let N=this.getDirection()===1?{x:-H.x+this.shadow.pos.x,y:H.y-this.shadow.pos.y}:{x:H.x-this.shadow.pos.x,y:H.y-this.shadow.pos.y};N=a.GetRotatedPoint(N,{x:T,y:100},R),L+=N.x+"px "+N.y+"px, "}L=L.slice(0,-2),L+=")";const j=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*p.height}px;
            background: linear-gradient(${k},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${T}px 100px;
            transform: translate3d(${_.x-T}px, ${_.y-100}px, 0) rotate(${R}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.innerShadow.style.cssText=j}drawOuterShadow(){const p=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.shadow.angle+3*Math.PI/2,k=this.getDirection()===1?this.shadow.width:0,_=this.getDirection()===0?"to right":"to left",R=[{x:0,y:0},{x:p.pageWidth,y:0},{x:p.pageWidth,y:p.height},{x:0,y:p.height}];let M="polygon( ";for(const j of R)if(j!==null){let H=this.getDirection()===1?{x:-j.x+this.shadow.pos.x,y:j.y-this.shadow.pos.y}:{x:j.x-this.shadow.pos.x,y:j.y-this.shadow.pos.y};H=a.GetRotatedPoint(H,{x:k,y:100},T),M+=H.x+"px "+H.y+"px, "}M=M.slice(0,-2),M+=")";const L=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*p.height}px;
            background: linear-gradient(${_}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${k}px 100px;
            transform: translate3d(${w.x-k}px, ${w.y-100}px, 0) rotate(${T}rad);
            clip-path: ${M};
            -webkit-clip-path: ${M};
        `;this.outerShadow.style.cssText=L}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const p=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(p))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const p of this.app.getPageCollection().getPages())p!==this.leftPage&&p!==this.rightPage&&p!==this.flippingPage&&p!==this.bottomPage&&(p.getElement().style.cssText="display: none"),p.getTemporaryCopy()!==this.flippingPage&&p.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class S{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(p){const w=this._default;if(Object.assign(w,p),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(b,p){p===void 0&&(p={});var w=p.insertAt;if(b&&typeof document<"u"){var T=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",w==="top"&&T.firstChild?T.insertBefore(k,T.firstChild):T.appendChild(k),k.styleSheet?k.styleSheet.cssText=b:k.appendChild(document.createTextNode(b))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),t.PageFlip=class extends class{constructor(){this.events=new Map}on(b,p){return this.events.has(b)?this.events.get(b).push(p):this.events.set(b,[p]),this}off(b){this.events.delete(b)}trigger(b,p,w=null){if(this.events.has(b))for(const T of this.events.get(b))T({data:w,object:p})}}{constructor(b,p){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new S().getSettings(p),this.block=b}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(b){this.ui=new A(this.block,this,this.setting);const p=this.ui.getCanvas();this.render=new m(this,this.setting,p),this.flipController=new d(this.render,this),this.pages=new o(this,this.render,b),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(b){this.ui=new g(this.block,this,this.setting,b),this.render=new x(this,this.setting,this.ui.getDistElement()),this.flipController=new d(this.render,this),this.pages=new c(this,this.render,this.ui.getDistElement(),b),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(b){const p=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new o(this,this.render,b),this.pages.load(),this.pages.show(p),this.trigger("update",this,{page:p,mode:this.render.getOrientation()})}updateFromHtml(b){const p=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,this.ui.getDistElement(),b),this.pages.load(),this.ui.updateItems(b),this.render.reload(),this.pages.show(p),this.trigger("update",this,{page:p,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(b){this.pages.show(b)}flipNext(b="top"){this.flipController.flipNext(b)}flipPrev(b="top"){this.flipController.flipPrev(b)}flip(b,p="top"){this.flipController.flipToPage(b,p)}updateState(b){this.trigger("changeState",this,b)}updatePageIndex(b){this.trigger("flip",this,b)}updateOrientation(b){this.ui.setOrientationStyle(b),this.update(),this.trigger("changeOrientation",this,b)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(b){return this.pages.getPage(b)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(b){this.mousePosition=b,this.isUserTouch=!0,this.isUserMove=!1}userMove(b,p){this.isUserTouch||p||!this.setting.showPageCorners?this.isUserTouch&&a.GetDistanceBetweenTwoPoint(this.mousePosition,b)>5&&(this.isUserMove=!0,this.flipController.fold(b)):this.flipController.showCorner(b)}userStop(b,p=!1){this.isUserTouch&&(this.isUserTouch=!1,p||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(b)))}},Object.defineProperty(t,"__esModule",{value:!0})})})(XE,XE.exports);var yQ=XE.exports;const vQ=ee.forwardRef((n,e)=>{const t=E.useRef(null),r=E.useRef([]),i=E.useRef(),[s,o]=E.useState([]);E.useImperativeHandle(e,()=>({pageFlip:()=>i.current}));const a=E.useCallback(()=>{i.current&&i.current.clear()},[]),l=E.useCallback(()=>{const c=i.current;c&&(c.off("flip"),c.off("changeOrientation"),c.off("changeState"),c.off("init"),c.off("update"))},[]);return E.useEffect(()=>{if(r.current=[],n.children){const c=ee.Children.map(n.children,h=>ee.cloneElement(h,{ref:d=>{d&&r.current.push(d)}}));(!n.renderOnlyPageLengthChange||s.length!==c.length)&&(c.length<s.length&&a(),o(c))}},[n.children]),E.useEffect(()=>{const c=()=>{const h=i.current;h&&(n.onFlip&&h.on("flip",d=>n.onFlip(d)),n.onChangeOrientation&&h.on("changeOrientation",d=>n.onChangeOrientation(d)),n.onChangeState&&h.on("changeState",d=>n.onChangeState(d)),n.onInit&&h.on("init",d=>n.onInit(d)),n.onUpdate&&h.on("update",d=>n.onUpdate(d)))};s.length>0&&r.current.length>0&&(l(),t.current&&!i.current&&(i.current=new yQ.PageFlip(t.current,n)),i.current.getFlipController()?i.current.updateFromHtml(r.current):i.current.loadFromHTML(r.current),c())},[s]),ee.createElement("div",{ref:t,className:n.className,style:n.style},s)}),wQ=ee.memo(vQ);yr.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/5.3.93/pdf.worker.min.mjs";const bQ=({pdfUrl:n})=>{const[e,t]=E.useState(null);return v.jsx("div",{className:"w-full overflow-x-auto flex justify-center px-4",children:v.jsx(sQ,{file:n,onLoadSuccess:({numPages:r})=>t(r),loading:v.jsx("p",{className:"text-muted-foreground text-center",children:"Loading PDF..."}),error:v.jsx("p",{className:"text-red-500 text-center",children:"Failed to load PDF file."}),children:e&&v.jsx(wQ,{width:350,height:500,size:"stretch",responsive:"true",minWidth:315,maxWidth:1e3,minHeight:400,maxHeight:800,drawShadow:!0,flippingTime:700,useMouseEvents:!0,className:"shadow-xl rounded-lg",children:Array.from({length:e},(r,i)=>v.jsx("div",{className:"page bg-white p-4",children:v.jsx(gQ,{pageNumber:i+1,width:350,renderTextLayer:!1,renderAnnotationLayer:!1})},i))})})})},xQ=n=>n?n.split(`
`).map((t,r)=>{let i=t;const s=/\*\*\*(.*?)\*\*\*/g;i=i.split(s).map((a,l)=>l%2===1?v.jsx("strong",{children:a},`b-${r}-${l}`):a);const o=/""(.*?)""/g;return i=i.flatMap((a,l)=>typeof a=="string"?a.split(o).map((c,h)=>h%2===1?v.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:c},`g-${r}-${l}-${h}`):c):a),v.jsx("p",{className:"mb-4",children:i},`p-${r}`)}):null,SQ=()=>{const{itemId:n}=d$(),e=SL(),{toast:t}=WT(),[r,i]=E.useState(null),[s,o]=E.useState(0),[a,l]=E.useState([]),[c,h]=E.useState(0),[d,f]=E.useState([]),[m,y]=E.useState(""),[g,A]=E.useState(""),[x,S]=E.useState(!1);E.useEffect(()=>{window.scrollTo(0,0);const k=QY(n);if(!k){e("/");return}if(i(k),k.type!=="PDF"&&k.content){const R=k.content.split(`
`),M=150,L=[];let j=[],H=0;R.forEach(N=>{const $=N.split(/\s+/);H+$.length>M&&(L.push(j.join(`
`)),j=[],H=0),j.push(N),H+=$.length}),j.length>0&&L.push(j.join(`
`)),l(L)}else l([]);const _=JSON.parse(localStorage.getItem(`comments_${n}`))||[];f(_),o(0)},[n,e]);const b=k=>{if(k.preventDefault(),!m.trim()||!g.trim()){t({title:"Incomplete Field",description:"Please enter your name and a comment.",variant:"destructive"});return}S(!0);const _={id:lq(),name:m,text:g,timestamp:new Date().toISOString()};setTimeout(()=>{const R=[...d,_];f(R),localStorage.setItem(`comments_${n}`,JSON.stringify(R)),A(""),S(!1),t({title:"Success!",description:"Your comment has been posted."})},500)},p=()=>{r&&r.type!=="PDF"&&s<a.length-1&&(h(1),o(s+1))},w=()=>{r&&r.type!=="PDF"&&s>0&&(h(-1),o(s-1))};if(!r)return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] text-center",children:[v.jsx(NA,{children:v.jsx("title",{children:"Loading... | Kingdom Pages"})}),v.jsx(Rf,{size:64,className:"text-primary mb-4 animate-pulse"}),v.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Loading Content..."}),v.jsx("p",{className:"text-muted-foreground",children:"Please wait while we fetch the material."}),v.jsx(vt,{asChild:!0,variant:"link",className:"mt-4",children:v.jsx(en,{to:"/",children:"Back to Home"})})]});const T={initial:k=>({x:k>0?"100%":"-100%",opacity:0,scale:.9}),animate:{x:0,opacity:1,scale:1,transition:{type:"spring",stiffness:120,damping:20,duration:.5}},exit:k=>({x:k>0?"-100%":"100%",opacity:0,scale:.9,transition:{type:"spring",stiffness:120,damping:20,duration:.3}})};return v.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-lg leading-relaxed text-foreground/90 whitespace-pre-line max-w-none flex-grow pt-16",children:[v.jsxs(NA,{children:[v.jsxs("title",{children:[r.title," | Kingdom Pages"]}),v.jsx("meta",{name:"description",content:`Read "${r.title}" by ${r.author}. Part of the Kingdom Pages digital library.`}),v.jsx("meta",{property:"og:title",content:`${r.title} | Kingdom Pages`}),v.jsx("meta",{property:"og:description",content:`Read "${r.title}" by ${r.author}. Part of the Kingdom Pages digital library.`})]}),v.jsxs(op,{className:"shadow-2xl overflow-hidden glassmorphism border-primary/20 relative z-10",children:[" ",v.jsx(ap,{className:"bg-gradient-to-br from-primary/10 via-secondary/10 to-green-400/10 p-6",children:v.jsxs(ue.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[r.type==="PDF"?v.jsx(tD,{className:"h-8 w-8 text-red-500"}):v.jsx(Rf,{className:"h-8 w-8 text-primary"}),v.jsx(lp,{className:"text-3xl md:text-4xl gradient-text mb-1",children:r.title})]}),v.jsxs(hd,{className:"text-md text-muted-foreground ml-10",children:["By ",r.author," - ",r.type]})]})}),v.jsx(cp,{className:"p-0 md:p-0 min-h-[500px] md:min-h-[70vh] flex flex-col justify-between relative overflow-hidden",children:r.type==="PDF"&&r.pdfUrl?v.jsx(bQ,{pdfUrl:r.pdfUrl}):a.length>0?v.jsxs("div",{className:"p-6 md:p-8 flex-grow flex flex-col justify-between",children:[v.jsx(od,{initial:!1,custom:c,mode:"wait",children:v.jsx(ue.div,{custom:c,variants:T,initial:"initial",animate:"animate",exit:"exit",className:"text-lg leading-relaxed text-foreground/90 whitespace-pre-line max-w-none flex-grow",style:{perspective:"1000px"},children:xQ(a[s])},s)}),v.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-border/50",children:[v.jsxs(vt,{onClick:w,disabled:s===0,variant:"outline",className:"group",children:[v.jsx(K4,{size:20,className:"mr-2 transition-transform duration-300 group-hover:-translate-x-1"})," Previous"]}),v.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",s+1," of ",a.length]}),v.jsxs(vt,{onClick:p,disabled:s===a.length-1,variant:"outline",className:"group",children:["Next ",v.jsx(eD,{size:20,className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})]})]}):v.jsx("div",{className:"p-6 md:p-8 flex-grow flex items-center justify-center",children:v.jsx("p",{className:"text-muted-foreground text-xl",children:"Content not available for this item."})})})]}),v.jsxs(op,{className:"mt-8 shadow-xl glassmorphism relative z-10",children:[" ",v.jsxs(ap,{children:[v.jsxs(lp,{className:"flex items-center gap-2 gradient-text",children:[v.jsx(sD,{})," Community Comments"]}),v.jsx(hd,{})]}),v.jsx(cp,{children:v.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-4",children:d.length>0?d.map(k=>v.jsxs(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-start space-x-3 bg-card p-4 rounded-lg border",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary flex-shrink-0",children:v.jsx(dG,{size:18})}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("p",{className:"font-semibold text-foreground",children:k.name}),v.jsx("p",{className:"text-foreground/80",children:k.text}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(k.timestamp).toLocaleString()})]})]},k.id)):v.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Be the first to leave a comment!"})})}),v.jsx(VT,{children:v.jsxs("form",{onSubmit:b,className:"w-full space-y-4",children:[v.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"sm:col-span-1",children:[v.jsx(Ur,{htmlFor:"commenterName",children:"Your Name"}),v.jsx(du,{id:"commenterName",value:m,onChange:k=>y(k.target.value),placeholder:"e.g., John D.",className:"bg-background/80"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx(Ur,{htmlFor:"newComment",children:"Your Comment"}),v.jsx(zT,{id:"newComment",value:g,onChange:k=>A(k.target.value),placeholder:"Share your thoughts...",className:"bg-background/80"})]})]}),v.jsx(vt,{type:"submit",disabled:x,className:"w-full sm:w-auto bg-gradient-to-r from-primary to-secondary group",children:x?"Posting...":v.jsxs(v.Fragment,{children:["Post Comment ",v.jsx(oD,{size:16,className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]})})]}),v.jsxs(ue.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"mt-8 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 relative z-10",children:[v.jsx(vt,{asChild:!0,variant:"ghost",className:"group w-full sm:w-auto",children:v.jsxs(en,{to:"/library",children:[v.jsx(Rf,{size:18,className:"mr-2 transition-transform duration-300 group-hover:rotate-[-5deg]"})," Back to Library"]})}),r.type==="PDF"&&r.pdfUrl&&v.jsx(vt,{asChild:!0,variant:"outline",className:"group w-full sm:w-auto border-accent text-accent hover:bg-accent/10 hover:text-accent",children:v.jsxs("a",{href:r.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:["Open PDF in New Tab ",v.jsx(J4,{size:18,className:"ml-2 transition-transform duration-300 group-hover:scale-110"})]})}),v.jsx(vt,{asChild:!0,variant:"ghost",className:"group w-full sm:w-auto",children:v.jsxs(en,{to:"/",children:[v.jsx(nD,{size:18,className:"mr-2 transition-transform duration-300 group-hover:scale-110"})," Go Home"]})})]})]})},AQ=()=>{const n={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return v.jsxs("div",{className:"space-y-16 relative overflow-hidden",children:[v.jsx("div",{className:"absolute w-32 h-32 bg-purple-300/30 rounded-full blur-2xl top-10 left-10 rotate-12 z-0"}),v.jsx("div",{className:"absolute w-24 h-24 bg-purple-400/20 rounded-full blur-xl bottom-20 right-16 rotate-45 z-0"}),v.jsx("div",{className:"absolute w-16 h-16 bg-purple-500/25 rounded-full blur-md top-1/2 left-1/3 rotate-[-30deg] z-0"}),v.jsx("div",{className:"creative-blob w-96 h-96 bg-primary/10 top-1/4 -right-48 animate-pulse"}),v.jsx("div",{className:"creative-blob w-72 h-72 bg-accent/10 bottom-1/4 -left-48"}),v.jsxs("section",{className:"text-center py-16 md:py-24 relative z-10",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-secondary/10 to-accent/10 -z-10"}),v.jsxs(ue.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"container mx-auto px-4",children:[v.jsx(ue.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200,damping:20},className:"inline-block p-4 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full text-primary mb-6",children:v.jsx(nG,{size:48,strokeWidth:1.5})}),v.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold mb-6 leading-tight",children:v.jsx("span",{className:"gradient-text",children:"A Step of Faith"})}),v.jsx("p",{className:"max-w-3xl mx-auto text-lg md:text-xl text-muted-foreground mb-10",children:v.jsx("em",{children:"I am ready to receive Jesus Christ as my Lord and Saviour, and start my walk of faith with Him."})})]}),v.jsxs(ue.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.2},className:"max-w-4xl mx-auto glassmorphism p-8 md:p-12 rounded-2xl shadow-xl aurora-card",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-8",children:"The Steps of Salvation"}),v.jsxs("div",{className:"space-y-6 text-lg text-foreground/90 leading-relaxed",children:[v.jsx("p",{children:"The Bible teaches that salvation is a gift from God, offered freely to all who believe in His Son, Jesus Christ. It's not something we can earn through good works, but something we receive through faith shown in our confession."}),v.jsx("blockquote",{className:"border-l-4 border-primary pl-6 py-2 italic text-muted-foreground",children:'"9 If you declare with your mouth, “Jesus is Lord,” and believe in your heart that God raised him from the dead, you will be saved. 10 For it is with your heart that you believe and are justified, and it is with your mouth that you profess your faith and are saved." - Romans 10: 9 - 10'}),v.jsx("p",{children:"If you feel a stirring in your heart and wish to accept this precious gift, you can express your faith through saying the following Prayer. Prayer is a means of communicating to God. He knows your heart, and it's the attitude of your heart that He cares about."}),v.jsxs("div",{className:"p-6 bg-muted/50 rounded-lg",children:[v.jsx("h3",{className:"font-semibold text-xl mb-2 text-primary",children:"Prayer of Salvation"}),v.jsx("p",{className:"italic",children:'"O Lord God, I believe with all my heart in Jesus Christ, Son of the living God. I believe He died for me and God raised Him from the dead. I believe He’s alive today. I confess with my mouth that Jesus Christ is the Lord of my life from this day. Through Him and in His Name, I have eternal life; I’m born again. Thank you Lord, for saving my soul! I’m now a child of God. Hallelujah!”'}),v.jsxs("p",{className:"mt-4",children:["Congratulations! You are now a child of God. We want to send you ministry resources to help you grow as a Christian. We would like to have your contact details so we can send you a book titled ",v.jsx("em",{children:"'Now that you are born-again.'"})]})]}),v.jsx("strong",{children:v.jsx("center",{children:"Congratulations! You are now a child of God. Welcome to this great family!"})})]})]})]}),v.jsxs("section",{className:"container mx-auto px-4 py-2",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Your Next Steps"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:v.jsx(bT,{className:"h-8 w-8 text-primary"}),title:'Read "Now That You Are Born Again"',description:v.jsxs(v.Fragment,{children:["Learn about the step you just took in depth by reading this informative book ",v.jsx("em",{children:"Now That You Are Born Again"})," by ",v.jsx("strong",{children:"Rev Dr Chris Oyakhilome"}),". You can access it"," ",v.jsx("a",{href:"https://nowthatyouarebornagain.org",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:"here"}),"."]}),bg:"bg-primary/10"},{icon:v.jsx(sD,{className:"h-8 w-8 text-secondary"}),title:"Let us know",description:v.jsxs(v.Fragment,{children:["Send us an email on ",v.jsx("strong",{children:"admin@kingdompages.digital"})," or submit the form on our contact us page."]}),bg:"bg-secondary/10"},{icon:v.jsx(lD,{className:"h-8 w-8 text-accent"}),title:"Find yourself connected to a church",description:v.jsxs(v.Fragment,{children:["Connect with a Bible believing local church to grow in your faith and fellowship. We recommend finding any local ",v.jsx("strong",{children:"Christ Embassy church"})," aka Believers' Loveworld."]}),bg:"bg-accent/10"}].map((e,t)=>v.jsx(ue.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.5},transition:{delay:t*.2},children:v.jsxs(op,{className:"p-6 text-center glassmorphism-card h-full flex flex-col items-center justify-center",children:[v.jsxs(ap,{className:"p-0 mb-4",children:[v.jsx("div",{className:`${e.bg} p-3 rounded-full inline-flex items-center justify-center mb-4`,children:e.icon}),v.jsx(lp,{className:"text-2xl",children:e.title})]}),v.jsx(cp,{className:"p-0 text-muted-foreground",children:v.jsx(hd,{children:e.description})})]})},t))})]}),v.jsx("section",{className:"container mx-auto text-center py-16",children:v.jsxs(ue.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.7},children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"We're Here For You"}),v.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-muted-foreground",children:"Making this decision is a monumental step. We would be honored to connect with you, pray for you, and help you find your next steps in this beautiful journey."}),v.jsx(vt,{size:"lg",asChild:!0,className:"group bg-gradient-to-r from-primary to-secondary text-primary-foreground hover:opacity-90 transition-opacity text-base px-6 py-6 sm:px-8 sm:py-7",children:v.jsxs(en,{to:"/contact",children:["I've made a decision today",v.jsx(wT,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})})]})})]})},EQ=({children:n})=>{const[e,t]=E.useState(!1),r=Ds(),i=()=>t(!e);return v.jsxs("div",{className:"min-h-screen flex flex-col bg-background transition-colors duration-500",children:[v.jsxs("header",{className:"sticky top-0 z-50 shadow-lg solid-nav",children:[v.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-20",children:[v.jsxs(en,{to:"/",className:"flex items-center space-x-2",children:[v.jsx(ue.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.2},children:v.jsx(Rf,{className:"h-10 w-10 text-primary"})}),v.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Kingdom Pages"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[navItems.map((s,o)=>v.jsx(ue.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*o+.5},children:v.jsx(en,{to:s.path,onClick:()=>e&&i(),className:({isActive:a})=>`relative px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ease-in-out hover:text-primary transform hover:scale-105 ${a?"text-primary font-semibold":"text-muted-foreground"}`,children:({isActive:a})=>v.jsxs(v.Fragment,{children:[s.name,a&&v.jsx(ue.div,{layoutId:"active-nav-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",initial:!1,transition:{type:"spring",stiffness:350,damping:30}})]})})},s.name)),v.jsx(ue.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},className:"ml-4",children:v.jsx(Lw,{})})]}),v.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[v.jsx(Lw,{}),v.jsx(vt,{variant:"ghost",size:"icon",onClick:i,"aria-label":"Open menu",children:e?v.jsx(xT,{className:"h-6 w-6"}):v.jsx(iD,{className:"h-6 w-6"})})]})]})}),v.jsx(od,{children:e&&v.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card shadow-xl origin-top",children:v.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 max-h-[calc(100vh-5rem)] overflow-y-auto",children:navItems.map(s=>v.jsx(en,{to:s.path,onClick:i,className:({isActive:o})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${o?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted/50"}`,children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(s.icon,{className:"h-5 w-5"}),v.jsx("span",{children:s.name})]})},s.name))})})})]}),v.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-12 relative",children:v.jsx(od,{mode:"wait",children:v.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n},r.pathname)})}),v.jsx("footer",{className:"bg-background/50 mt-12 py-12 text-center text-muted-foreground border-t",children:v.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[v.jsx("div",{className:"flex justify-center items-center space-x-2 mb-4",children:v.jsxs("span",{className:"text-sm",children:["Kingdom Pages © ",new Date().getFullYear()]})}),v.jsx("p",{className:"text-xs",children:"Inspiring faith through digital stories."}),v.jsx("div",{className:"mt-1 space-x-4",children:v.jsx(en,{to:"/terms-of-service",className:"hover:text-primary transition-colors",children:"Terms of Service"})})]})})]})},CQ=()=>v.jsxs(ue.div,{className:"max-w-4xl mx-auto py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[v.jsx("h1",{className:"text-4xl font-bold mb-6 gradient-text",children:"Terms of Service"}),v.jsxs("div",{className:"space-y-6 text-lg text-foreground/90 leading-relaxed",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Last Updated:"})," ",new Date().toLocaleDateString()]}),v.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"1. Agreement to Terms"}),v.jsx("p",{children:"By using our website, Kingdom Pages, you agree to be bound by these Terms of Service. If you do not agree to these Terms, do not use the website."}),v.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"2. Intellectual Property Rights"}),v.jsx("p",{children:"The Site and its original content, features, and functionality are owned by Kingdom Pages and are protected by international copyright, trademark, patent, trade secret, and other intellectual property or proprietary rights laws."}),v.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"3. User Representations"}),v.jsx("p",{children:"By using the Site, you represent and warrant that:"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[v.jsx("li",{children:"All information you submit will be true, accurate, current, and complete."}),v.jsx("li",{children:"You will maintain the accuracy of such information and promptly update such subscription information as necessary."}),v.jsx("li",{children:"You have the legal capacity and you agree to comply with these Terms of Service."})]}),v.jsx("h2",{className:"text-2xl font-semibold pt-4",children:"4. Prohibited Activities"}),v.jsx("p",{children:"You may not access or use the Site for any purpose other than that for which we make the Site available. The Site may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us."})]})]});var aP="ToastProvider",[lP,TQ,PQ]=Gg("Toast"),[LB,oJ]=da("Toast",[PQ]),[kQ,jx]=LB(aP),NB=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=E.useState(null),[c,h]=E.useState(0),d=E.useRef(!1),f=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${aP}\`. Expected non-empty \`string\`.`),v.jsx(lP.Provider,{scope:e,children:v.jsx(kQ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>h(m=>m+1),[]),onToastRemove:E.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};NB.displayName=aP;var DB="ToastViewport",IQ=["F8"],QE="toast.viewportPause",JE="toast.viewportResume",OB=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=IQ,label:i="Notifications ({hotkey})",...s}=n,o=jx(DB,t),a=TQ(t),l=E.useRef(null),c=E.useRef(null),h=E.useRef(null),d=E.useRef(null),f=Te(e,d,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;E.useEffect(()=>{const A=x=>{var b;r.length!==0&&r.every(p=>x[p]||x.code===p)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),E.useEffect(()=>{const A=l.current,x=d.current;if(y&&A&&x){const S=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(QE);x.dispatchEvent(T),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(JE);x.dispatchEvent(T),o.isClosePausedRef.current=!1}},p=T=>{!A.contains(T.relatedTarget)&&b()},w=()=>{A.contains(document.activeElement)||b()};return A.addEventListener("focusin",S),A.addEventListener("focusout",p),A.addEventListener("pointermove",S),A.addEventListener("pointerleave",w),window.addEventListener("blur",S),window.addEventListener("focus",b),()=>{A.removeEventListener("focusin",S),A.removeEventListener("focusout",p),A.removeEventListener("pointermove",S),A.removeEventListener("pointerleave",w),window.removeEventListener("blur",S),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=E.useCallback(({tabbingDirection:A})=>{const S=a().map(b=>{const p=b.ref.current,w=[p,...$Q(p)];return A==="forwards"?w:w.reverse()});return(A==="forwards"?S.reverse():S).flat()},[a]);return E.useEffect(()=>{const A=d.current;if(A){const x=S=>{var w,T,k;const b=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!b){const _=document.activeElement,R=S.shiftKey;if(S.target===A&&R){(w=c.current)==null||w.focus();return}const j=g({tabbingDirection:R?"backwards":"forwards"}),H=j.findIndex(N=>N===_);t1(j.slice(H+1))?S.preventDefault():R?(T=c.current)==null||T.focus():(k=h.current)==null||k.focus()}};return A.addEventListener("keydown",x),()=>A.removeEventListener("keydown",x)}},[a,g]),v.jsxs(IG,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&v.jsx(ZE,{ref:c,onFocusFromOutsideViewport:()=>{const A=g({tabbingDirection:"forwards"});t1(A)}}),v.jsx(lP.Slot,{scope:t,children:v.jsx(fe.ol,{tabIndex:-1,...s,ref:f})}),y&&v.jsx(ZE,{ref:h,onFocusFromOutsideViewport:()=>{const A=g({tabbingDirection:"backwards"});t1(A)}})]})});OB.displayName=DB;var jB="ToastFocusProxy",ZE=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=jx(jB,t);return v.jsx(BT,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});ZE.displayName=jB;var oy="Toast",_Q="toast.swipeStart",RQ="toast.swipeMove",MQ="toast.swipeCancel",LQ="toast.swipeEnd",FB=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=ld({prop:r,defaultProp:i??!0,onChange:s,caller:oy});return v.jsx(Sd,{present:t||a,children:v.jsx(OQ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:In(n.onPause),onResume:In(n.onResume),onSwipeStart:q(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:q(n.onSwipeMove,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:q(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:q(n.onSwipeEnd,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});FB.displayName=oy;var[NQ,DQ]=LB(oy,{onClose(){}}),OQ=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:m,...y}=n,g=jx(oy,t),[A,x]=E.useState(null),S=Te(e,N=>x(N)),b=E.useRef(null),p=E.useRef(null),w=i||g.duration,T=E.useRef(0),k=E.useRef(w),_=E.useRef(0),{onToastAdd:R,onToastRemove:M}=g,L=In(()=>{var $;(A==null?void 0:A.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),j=E.useCallback(N=>{!N||N===1/0||(window.clearTimeout(_.current),T.current=new Date().getTime(),_.current=window.setTimeout(L,N))},[L]);E.useEffect(()=>{const N=g.viewport;if(N){const $=()=>{j(k.current),c==null||c()},D=()=>{const B=new Date().getTime()-T.current;k.current=k.current-B,window.clearTimeout(_.current),l==null||l()};return N.addEventListener(QE,D),N.addEventListener(JE,$),()=>{N.removeEventListener(QE,D),N.removeEventListener(JE,$)}}},[g.viewport,w,l,c,j]),E.useEffect(()=>{s&&!g.isClosePausedRef.current&&j(w)},[s,w,g.isClosePausedRef,j]),E.useEffect(()=>(R(),()=>M()),[R,M]);const H=E.useMemo(()=>A?UB(A):null,[A]);return g.viewport?v.jsxs(v.Fragment,{children:[H&&v.jsx(jQ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:H}),v.jsx(NQ,{scope:t,onClose:L,children:vc.createPortal(v.jsx(lP.ItemSlot,{scope:t,children:v.jsx(kG,{asChild:!0,onEscapeKeyDown:q(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(fe.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:S,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:q(n.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:q(n.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:q(n.onPointerMove,N=>{if(!b.current)return;const $=N.clientX-b.current.x,D=N.clientY-b.current.y,B=!!p.current,O=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,W=O?F(0,$):0,U=O?0:F(0,D),K=N.pointerType==="touch"?10:2,J={x:W,y:U},he={originalEvent:N,delta:J};B?(p.current=J,Gy(RQ,d,he,{discrete:!1})):J_(J,g.swipeDirection,K)?(p.current=J,Gy(_Q,h,he,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs($)>K||Math.abs(D)>K)&&(b.current=null)}),onPointerUp:q(n.onPointerUp,N=>{const $=p.current,D=N.target;if(D.hasPointerCapture(N.pointerId)&&D.releasePointerCapture(N.pointerId),p.current=null,b.current=null,$){const B=N.currentTarget,O={originalEvent:N,delta:$};J_($,g.swipeDirection,g.swipeThreshold)?Gy(LQ,m,O,{discrete:!0}):Gy(MQ,f,O,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),jQ=n=>{const{__scopeToast:e,children:t,...r}=n,i=jx(oy,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return HQ(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:v.jsx(vx,{asChild:!0,children:v.jsx(BT,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",t]})})})},FQ="ToastTitle",BB=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return v.jsx(fe.div,{...r,ref:e})});BB.displayName=FQ;var BQ="ToastDescription",HB=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return v.jsx(fe.div,{...r,ref:e})});HB.displayName=BQ;var VB="ToastAction",$B=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?v.jsx(WB,{altText:t,asChild:!0,children:v.jsx(cP,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VB}\`. Expected non-empty \`string\`.`),null)});$B.displayName=VB;var zB="ToastClose",cP=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=DQ(zB,t);return v.jsx(WB,{asChild:!0,children:v.jsx(fe.button,{type:"button",...r,ref:e,onClick:q(n.onClick,i.onClose)})})});cP.displayName=zB;var WB=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return v.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function UB(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VQ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...UB(r))}}),e}function Gy(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ST(i,s):i.dispatchEvent(s)}var J_=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function HQ(n=()=>{}){const e=In(n);zt(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function VQ(n){return n.nodeType===n.ELEMENT_NODE}function $Q(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function t1(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var zQ=NB,GB=OB,KB=FB,YB=BB,qB=HB,XB=$B,QB=cP;const WQ=zQ,JB=ee.forwardRef(({className:n,...e},t)=>v.jsx(GB,{ref:t,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));JB.displayName=GB.displayName;const UQ=vT("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ZB=ee.forwardRef(({className:n,variant:e,...t},r)=>v.jsx(KB,{ref:r,className:Ae(UQ({variant:e}),n),...t}));ZB.displayName=KB.displayName;const GQ=ee.forwardRef(({className:n,...e},t)=>v.jsx(XB,{ref:t,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));GQ.displayName=XB.displayName;const eH=ee.forwardRef(({className:n,...e},t)=>v.jsx(QB,{ref:t,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:v.jsx(xT,{className:"h-4 w-4"})}));eH.displayName=QB.displayName;const tH=ee.forwardRef(({className:n,...e},t)=>v.jsx(YB,{ref:t,className:Ae("text-sm font-semibold",n),...e}));tH.displayName=YB.displayName;const nH=ee.forwardRef(({className:n,...e},t)=>v.jsx(qB,{ref:t,className:Ae("text-sm opacity-90",n),...e}));nH.displayName=qB.displayName;function KQ(){const{toasts:n}=WT();return v.jsxs(WQ,{children:[n.map(({id:e,title:t,description:r,action:i,...s})=>v.jsxs(ZB,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[t&&v.jsx(tH,{children:t}),r&&v.jsx(nH,{children:r})]}),i,v.jsx(eH,{})]},e)),v.jsx(JB,{})]})}const YQ={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.4,delay:.3}}},qQ={initial:{scale:.8,y:0,rotateY:0},animate:{scale:[1,1.05,1],y:[0,-8,0],transition:{duration:1,ease:"easeInOut",repeat:1/0,repeatType:"mirror"}}},XQ=()=>v.jsxs(ue.div,{variants:YQ,initial:"initial",animate:"animate",exit:"exit",className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-background",children:[v.jsx(ue.div,{variants:qQ,children:v.jsx(bT,{className:"w-16 h-16 text-primary",strokeWidth:1.5})}),v.jsx(ue.p,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},exit:{opacity:0},className:"mt-4 text-md font-semibold text-muted-foreground",children:"Opening the next chapter..."})]}),QQ=()=>{const n=Ds(),[e,t]=E.useState(!1),[r,i]=E.useState(!0);return E.useEffect(()=>{if(r){i(!1);return}t(!0);const s=setTimeout(()=>{t(!1)},900);return()=>clearTimeout(s)},[n.pathname]),v.jsxs(v.Fragment,{children:[v.jsx(od,{mode:"wait",children:e&&v.jsx(XQ,{})}),v.jsx("div",{style:{visibility:e?"hidden":"visible"},children:v.jsx(xY,{children:v.jsxs(k$,{location:n,children:[v.jsx(Ni,{path:"/",element:v.jsx(ZY,{})}),v.jsx(Ni,{path:"/library",element:v.jsx(J9,{})}),v.jsx(Ni,{path:"/about",element:v.jsx(Z9,{})}),v.jsx(Ni,{path:"/contact",element:v.jsx(rq,{})}),v.jsx(Ni,{path:"/salvation",element:v.jsx(AQ,{})}),v.jsx(Ni,{path:"/read/:itemId",element:v.jsx(SQ,{})}),v.jsx(Ni,{path:"/privacy-policy",element:v.jsx(EQ,{})}),v.jsx(Ni,{path:"/terms-of-service",element:v.jsx(CQ,{})})]},n.pathname)})})]})};function JQ(){return v.jsx(lj,{children:v.jsxs(O$,{children:[v.jsx(SY,{}),v.jsxs(NA,{children:[v.jsx("title",{children:"Kingdom Pages – Faith-Based Digital Library"}),v.jsx("link",{rel:"icon",href:"/./KingdomPagesLogo.jpg",type:"image/jpg"}),v.jsx("meta",{name:"description",content:"Discover a curated collection of Christian digital material: uplifting books, engaging comics, and inspiring stories for all ages."}),v.jsx("meta",{property:"og:title",content:"Kingdom Pages - Inspiring Digital Stories"}),v.jsx("meta",{property:"og:description",content:"Nourishing faith and inspiring minds through a curated collection of Christian digital literature."})]}),v.jsx(QQ,{}),v.jsx(KQ,{})]})})}r1.createRoot(document.getElementById("root")).render(v.jsx(ee.StrictMode,{children:v.jsx(fG,{defaultTheme:"Light",storageKey:"vite-ui-theme",children:v.jsx(JQ,{})})}));
